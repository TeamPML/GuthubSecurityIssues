[ { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17872", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17872/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17872/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17872/events", "html_url": "https://github.com/matomo-org/matomo/issues/17872", "id": 965270915, "node_id": "MDU6SXNzdWU5NjUyNzA5MTU=", "number": 17872, "title": "If the period is not enabled in config \"The period is not supported\" message is shown in cron archiving", "user": { "login": "mattkolb", "id": 3512620, "node_id": "MDQ6VXNlcjM1MTI2MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3512620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattkolb", "html_url": "https://github.com/mattkolb", "followers_url": "https://api.github.com/users/mattkolb/followers", "following_url": "https://api.github.com/users/mattkolb/following{/other_user}", "gists_url": "https://api.github.com/users/mattkolb/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattkolb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattkolb/subscriptions", "organizations_url": "https://api.github.com/users/mattkolb/orgs", "repos_url": "https://api.github.com/users/mattkolb/repos", "events_url": "https://api.github.com/users/mattkolb/events{/privacy}", "received_events_url": "https://api.github.com/users/mattkolb/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 9, "created_at": "2021-08-10T19:07:26Z", "updated_at": "2021-10-06T02:04:08Z", "closed_at": "2021-08-12T16:41:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "We don't use yearly archives because they take too long to process. Because of this, we have the following settings in our config:\r\n\r\n[General]\r\nenabled_periods_UI = \"day,week,month,range\"\r\nenabled_periods_API = \"day,week,month,range\"\r\n\r\n\r\nAfter upgrading from 3.14.0 to 4.4.1, I'm unable to run the cron archive. The output is below.\r\n\r\n\r\n\r\nconsole core:archive --url=... --force-periods=day --disable-scheduled-tasks\r\n\r\nINFO [2021-08-10 18:58:48] 85257 ---------------------------\r\nINFO [2021-08-10 18:58:48] 85257 INIT\r\nINFO [2021-08-10 18:58:48] 85257 Running Matomo 4.4.1 as Super User\r\nINFO [2021-08-10 18:58:48] 85257 ---------------------------\r\nINFO [2021-08-10 18:58:48] 85257 NOTES\r\nINFO [2021-08-10 18:58:48] 85257 - Async process archiving supported, using CliMulti.\r\nINFO [2021-08-10 18:58:48] 85257 - Reports for today will be processed at most every 10 seconds. You can change this value in Matomo UI > Settings > General Settings.\r\nINFO [2021-08-10 18:58:48] 85257 - Archiving was last executed without error 7s ago\r\nINFO [2021-08-10 18:58:48] 85257 - Will only process the following periods: day (--force-periods)\r\nINFO [2021-08-10 18:58:48] 85257 ---------------------------\r\nINFO [2021-08-10 18:58:48] 85257 START\r\nINFO [2021-08-10 18:58:48] 85257 Starting Matomo reports archiving...\r\nINFO [2021-08-10 18:58:48] 85257 Start processing archives for site 1.\r\nINFO [2021-08-10 18:58:48] 85257 Will invalidate archived reports for today in site ID = 1's timezone (2021-08-10 00:00:00).\r\nERROR [2021-08-10 18:58:48] 85257 Uncaught exception: /home/aatrkco/public_html/stats/core/Period/Factory.php(131): The period 'year' is not supported. Try any of the following instead: day, week, month, range [Query: , CLI mode: 1]\r\n\r\n\r\n\r\n [Exception]\r\n The period 'year' is not supported. Try any of the following instead: day, week, month, range\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17872/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17872/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17871", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17871/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17871/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17871/events", "html_url": "https://github.com/matomo-org/matomo/issues/17871", "id": 964919917, "node_id": "MDU6SXNzdWU5NjQ5MTk5MTc=", "number": 17871, "title": "Added info message that INI setting archiving_query_max_execution_time may not work for MySQLI", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 1678500922, "node_id": "MDU6TGFiZWwxNjc4NTAwOTIy", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Documentation", "name": "c: Documentation", "color": "f4e866", "default": false, "description": "Indicates a need for improvements or additions to documentation." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 6, "created_at": "2021-08-10T12:16:06Z", "updated_at": "2021-10-06T02:46:02Z", "closed_at": "2021-09-17T02:31:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We are currently using a maximum execution time query hint (`/*+ MAX_EXECUTION_TIME(1000) */`) to limit the execution time of some queries.\r\nIt turned out that this query hint does not work as expected when using MySQLI. The test for this currently always fails with MySQLI. Using PDO/MySQL it works correctly.\r\n\r\nThis seems to be a general issue with prepared statements and mysqli. Tried to test that directly by using the native mysqli methods, which Zend Framework should also do somewhere in the code.\r\n\r\n#### MYSQLI Query\r\n\r\n```php\r\n$mysqli = new mysqli(\"localhost\", \"matomo\", \"matomo\", \"matomo\");\r\n$mysqli->query(\"SELECT /*+ MAX_EXECUTION_TIME(1) matomo-org/ SLEEP(5) FROM matomo_log_visit\");\r\n```\r\nThis results as expected in \r\n```\r\nPHP Warning: mysqli::query(): (HY000/3024): Query execution was interrupted, maximum statement execution time exceeded in /srv/matomo/mysqli.php on line 6\r\n```\r\n\r\n#### MYSQLI Prepared Statement\r\n\r\n```php\r\n$mysqli = new mysqli(\"localhost\", \"matomo\", \"matomo\", \"matomo\");\r\n$stmt = $mysqli->prepare(\"SELECT /*+ MAX_EXECUTION_TIME(1) matomo-org/ SLEEP(5) FROM matomo_log_visit\");\r\n$stmt->execute();\r\n```\r\nThis runs through without any issues. Fetching the result of the query returns `1`, which is the result of the SLEEP method. So it seems the query hint is ignored. \r\n\r\n#### MYSQL Prepared Statement\r\n\r\nRunning a prepared statement directly in mysql console like this:\r\n```sql\r\nPREPARE stmt FROM 'SELECT /*+ MAX_EXECUTION_TIME(1) matomo-org/ SLEEP(5) FROM matomo_log_visit';\r\nEXECUTE stmt;\r\n```\r\nresults in `SQL ERROR (3024): Query execution was interrupted, maximum statement execution time exceeded`\r\n\r\nSo query hints in prepared statements generally should work.\r\n\r\n#### Conclusion\r\n\r\nGuess query hints is something that can't work with the Zend MYSQLI adapter as it seems to use prepared statements always. \r\n\r\nWe need to decide how to go on with this. Tried to find (bug) reports or questions on that topic, but wasn't able to find anything. Not sure if that is a bug in the MYSQLI extension for PHP or something else.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17871/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17870", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17870/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17870/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17870/events", "html_url": "https://github.com/matomo-org/matomo/issues/17870", "id": 964817069, "node_id": "MDU6SXNzdWU5NjQ4MTcwNjk=", "number": 17870, "title": "Improve I/O performance by not writing placeholder files when they already exist", "user": { "login": "localcryptosMichael", "id": 33112055, "node_id": "MDQ6VXNlcjMzMTEyMDU1", "avatar_url": "https://avatars.githubusercontent.com/u/33112055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/localcryptosMichael", "html_url": "https://github.com/localcryptosMichael", "followers_url": "https://api.github.com/users/localcryptosMichael/followers", "following_url": "https://api.github.com/users/localcryptosMichael/following{/other_user}", "gists_url": "https://api.github.com/users/localcryptosMichael/gists{/gist_id}", "starred_url": "https://api.github.com/users/localcryptosMichael/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/localcryptosMichael/subscriptions", "organizations_url": "https://api.github.com/users/localcryptosMichael/orgs", "repos_url": "https://api.github.com/users/localcryptosMichael/repos", "events_url": "https://api.github.com/users/localcryptosMichael/events{/privacy}", "received_events_url": "https://api.github.com/users/localcryptosMichael/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" } ], "state": "closed", "locked": false, "assignee": { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 1, "created_at": "2021-08-10T10:12:03Z", "updated_at": "2021-10-06T01:54:29Z", "closed_at": "2021-08-10T23:40:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed that Matomo was doing a large amount of disk writes. Looking into it, I found that on every API request, Matomo was recreating index files for a number of directories in `tmp/` even though these files already exist. These unnecessarily writes are causing high disk I/O wait when under heavy load.\r\n\r\n## Expected Behavior\r\n\r\nPerform a `Live.getVisitorProfile` API call (it might apply to other methods -- I haven't checked).\r\n\r\n## Current Behavior\r\n\r\nOn every call:\r\n* `Piwik\\Filechecks::dieIfDirectoriesNotWritable()` is invoked\r\n* This calls `Filechecks::mkdir()` with these directories:\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb `tmp/`\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb `tmp/tcpdf/`\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb `tmp/logs/`\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb `tmp/cache/`\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb `tmp/assets/`\r\n* `Filechecks::createIndexFilesToPreventDirectoryListing()` is invoked on each directory, writing a new `index.htm` and `index.php` each time (even though they already exist)\r\n* API operation is actioned\r\n\r\n## Possible Solution\r\n\r\nI think the code should be optimised so that it doesn't perform these unnecessary writes. At the very least, check that these index files don't exist before writing to them.\r\n\r\n## Steps to Reproduce (for Bugs)\r\n\r\n1. Get `/?module=API&method=Live.getVisitorProfile&idSite=X&visitorId=XXXXXXXXXXXXXXXX&format=JSON&token_auth=XXX`.\r\n\r\n## Your Environment\r\n\r\n* Matomo Version: 4.4.1\r\n* PHP Version: 7.2.34\r\n* Server Operating System: RHEL\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17870/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17870/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17869", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17869/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17869/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17869/events", "html_url": "https://github.com/matomo-org/matomo/pull/17869", "id": 964715326, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA3MTI5OTM1", "number": 17869, "title": "Fix a couple a possible warnings in PHP 8.1", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-08-10T08:15:59Z", "updated_at": "2021-08-10T23:53:36Z", "closed_at": "2021-08-10T23:53:35Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17869", "html_url": "https://github.com/matomo-org/matomo/pull/17869", "diff_url": "https://github.com/matomo-org/matomo/pull/17869.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17869.patch", "merged_at": "2021-08-10T23:53:35Z" }, "body": "### Description:\r\n\r\nrefs #17686\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17869/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17868", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17868/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17868/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17868/events", "html_url": "https://github.com/matomo-org/matomo/issues/17868", "id": 963971654, "node_id": "MDU6SXNzdWU5NjM5NzE2NTQ=", "number": 17868, "title": "Concurrency lock for scheduled tasks", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 127937670, "node_id": "MDU6TGFiZWwxMjc5Mzc2NzA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Platform", "name": "c: Platform", "color": "bfe5bf", "default": false, "description": "For Matomo platform changes that aren't impacting any of our APIs but improve the core itself." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 0, "created_at": "2021-08-09T13:01:47Z", "updated_at": "2021-10-21T20:26:12Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently a scheduled task can be triggered multiple times in parallel. As this can cause serious issues for tasks that manipulate data, we should provide some kind of concurrency lock for scheduled tasks to prevent that by default.\r\n\r\nSimplest solution might be to create a [Concurrency/Lock](https://github.com/matomo-org/matomo/blob/4.x-dev/core/Concurrency/Lock.php) for each Task that is running. We could maybe use a default TTL of one hour, but allow each task to provide a custom TTL for that, so a longer running task can define a longer one.\r\nThis approach for sure wouldn't prevent concurrency for tasks that might run longer than the defined TTL. But it would at least prevent tasks being triggered multiple times.\r\n\r\nTo really avoid concurrency guess we would need to implement a more complex solution that really checks if a Task might be running in another process, but that might not be needed for now.\r\n\r\nNote: there should also be a possibility to allow a task to be executed in parallel (maybe by setting the TTL to `null` or `0`)", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17868/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17868/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17867", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17867/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17867/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17867/events", "html_url": "https://github.com/matomo-org/matomo/pull/17867", "id": 963936465, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA2NDY5ODEy", "number": 17867, "title": "Do not log a failed login if a valid app token_auth is sent", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-08-09T12:16:32Z", "updated_at": "2021-08-10T07:39:38Z", "closed_at": "2021-08-10T07:39:37Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17867", "html_url": "https://github.com/matomo-org/matomo/pull/17867", "diff_url": "https://github.com/matomo-org/matomo/pull/17867.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17867.patch", "merged_at": "2021-08-10T07:39:37Z" }, "body": "### Description:\r\n\r\nCurrently when sending a valid token_auth with any API request, a failed login is logged when the `force_api_session` parameter is set in the request as well.\r\n\r\nrefs L3-131\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17867/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17866", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17866/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17866/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17866/events", "html_url": "https://github.com/matomo-org/matomo/issues/17866", "id": 963770827, "node_id": "MDU6SXNzdWU5NjM3NzA4Mjc=", "number": 17866, "title": "\"Check for updates\" might fail without error with SELinux", "user": { "login": "paalbra", "id": 265215, "node_id": "MDQ6VXNlcjI2NTIxNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/265215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paalbra", "html_url": "https://github.com/paalbra", "followers_url": "https://api.github.com/users/paalbra/followers", "following_url": "https://api.github.com/users/paalbra/following{/other_user}", "gists_url": "https://api.github.com/users/paalbra/gists{/gist_id}", "starred_url": "https://api.github.com/users/paalbra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paalbra/subscriptions", "organizations_url": "https://api.github.com/users/paalbra/orgs", "repos_url": "https://api.github.com/users/paalbra/repos", "events_url": "https://api.github.com/users/paalbra/events{/privacy}", "received_events_url": "https://api.github.com/users/paalbra/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 1678500922, "node_id": "MDU6TGFiZWwxNjc4NTAwOTIy", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Documentation", "name": "c: Documentation", "color": "f4e866", "default": false, "description": "Indicates a need for improvements or additions to documentation." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-08-09T08:40:12Z", "updated_at": "2021-08-09T13:30:23Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "On the administration page you have a \"Check for updates\" button. On a system with SELinux this button might fail the check, but it will report \"You are using the latest version of Matomo\", even though you're not.\r\n\r\n## Expected Behavior\r\nAn error should be displayed if SELinux stops/denies the \"Check for updates\" check.\r\n\r\n## Current Behavior\r\nIf the check fails, you will get the \"You are using the latest version of Matomo\" message.\r\n\r\n## Possible Solution\r\nI don't know how to fix the check/actual message.\r\n\r\nDoing `setsebool -P httpd_can_network_connect 1` resolves the issue with SELinux (this allows the check to run as expected).\r\n\r\nI can't find this mentioned in the install guide, nor FAQ. Maybe add a SELinux part?\r\n\r\n## Steps to Reproduce (for Bugs)\r\n1. Logon with an administrator\r\n2. Go to the administration page\r\n3. Click the \"Check for updates\" button\r\n\r\n## Context\r\nIt leads you to believe that you're using the newest version.\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.2.1\r\n* PHP Version: 7.4.20 (php-fpm)\r\n* Server Operating System: Fedora 34\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17866/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17865", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17865/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17865/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17865/events", "html_url": "https://github.com/matomo-org/matomo/pull/17865", "id": 963553571, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA2MTM4MTY4", "number": 17865, "title": "Test Config::getBool() for clarity of configuration options", "user": { "login": "geekdenz", "id": 479499, "node_id": "MDQ6VXNlcjQ3OTQ5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/479499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekdenz", "html_url": "https://github.com/geekdenz", "followers_url": "https://api.github.com/users/geekdenz/followers", "following_url": "https://api.github.com/users/geekdenz/following{/other_user}", "gists_url": "https://api.github.com/users/geekdenz/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekdenz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekdenz/subscriptions", "organizations_url": "https://api.github.com/users/geekdenz/orgs", "repos_url": "https://api.github.com/users/geekdenz/repos", "events_url": "https://api.github.com/users/geekdenz/events{/privacy}", "received_events_url": "https://api.github.com/users/geekdenz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 1, "created_at": "2021-08-09T00:39:28Z", "updated_at": "2021-08-19T07:24:16Z", "closed_at": "2021-08-19T07:23:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17865", "html_url": "https://github.com/matomo-org/matomo/pull/17865", "diff_url": "https://github.com/matomo-org/matomo/pull/17865.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17865.patch", "merged_at": "2021-08-19T07:23:59Z" }, "body": "### Description:\r\n\r\nClarifies when a configuration option is Boolean and checks whether it is.\r\nShould introduce no functional changes, but since I had already done the effort think it might be worthwhile.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17865/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17865/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17864", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17864/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17864/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17864/events", "html_url": "https://github.com/matomo-org/matomo/issues/17864", "id": 963538756, "node_id": "MDU6SXNzdWU5NjM1Mzg3NTY=", "number": 17864, "title": "Sort site selector results to show \"best\" result first or allow regular expressions - Some sites might not show up in search when many similar names", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 0, "created_at": "2021-08-08T23:36:26Z", "updated_at": "2021-08-08T23:36:26Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Refs L3-128\r\n\r\nIn some cases hundreds of sites might match the same search term. Eg you search for \"es\" and there is a site called \"es\" but it doesn't show the search result because so many other sites match too. Same for URLs etc.\r\n\r\nIn such a case the only workaround would be to search for the idsite directly.\r\n\r\nFor specific details see the referenced issue. In that case increasing the number of shown sites to 60 or 300 didn't help either.\r\n\r\nTo not needing a fulltext search to find the most relevant content what maybe could be done is ordering by length of name assuming that a shorter name of the site that matches the string is more relevant. However it wouldn’t fully work if the matched value is in the URL. For this use case it would work though. Not sure it would work for all other use cases. Or Maybe we can add some more functionality to the site selector search? Something like using quotation marks to search for an exact match, so for example searching for “ES$” or \"ES\" (With “ in the search box) would return just that result. ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17864/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17864/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17863", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17863/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17863/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17863/events", "html_url": "https://github.com/matomo-org/matomo/pull/17863", "id": 963138060, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA1ODIyNzYw", "number": 17863, "title": "[automatic translation update] Updated 42 strings in 1 languages (cs)", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-08-07T02:38:43Z", "updated_at": "2021-08-09T08:55:47Z", "closed_at": "2021-08-09T08:55:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17863", "html_url": "https://github.com/matomo-org/matomo/pull/17863", "diff_url": "https://github.com/matomo-org/matomo/pull/17863.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17863.patch", "merged_at": "2021-08-09T08:55:46Z" }, "body": "- Updated Czech (42 changes / 75% translated)\n\n\nHelp us translate Matomo in your language!\nSignup at https://www.transifex.com/matomo/matomo/\nIf you have any questions, get in touch with us at translations@matomo.org", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17863/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17863/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17862", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17862/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17862/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17862/events", "html_url": "https://github.com/matomo-org/matomo/issues/17862", "id": 962833861, "node_id": "MDU6SXNzdWU5NjI4MzM4NjE=", "number": 17862, "title": "Wrong chown recommendation during upgrade", "user": { "login": "bluepuma77", "id": 5221187, "node_id": "MDQ6VXNlcjUyMjExODc=", "avatar_url": "https://avatars.githubusercontent.com/u/5221187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bluepuma77", "html_url": "https://github.com/bluepuma77", "followers_url": "https://api.github.com/users/bluepuma77/followers", "following_url": "https://api.github.com/users/bluepuma77/following{/other_user}", "gists_url": "https://api.github.com/users/bluepuma77/gists{/gist_id}", "starred_url": "https://api.github.com/users/bluepuma77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bluepuma77/subscriptions", "organizations_url": "https://api.github.com/users/bluepuma77/orgs", "repos_url": "https://api.github.com/users/bluepuma77/repos", "events_url": "https://api.github.com/users/bluepuma77/events{/privacy}", "received_events_url": "https://api.github.com/users/bluepuma77/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 137043266, "node_id": "MDU6TGFiZWwxMzcwNDMyNjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Usability", "name": "c: Usability", "color": "bfe5bf", "default": false, "description": "For issues that let users achieve a defined goal more effectively or efficiently." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 3, "created_at": "2021-08-06T15:21:49Z", "updated_at": "2022-02-07T20:40:47Z", "closed_at": "2022-02-07T20:40:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running Matomo in a Docker container, I just upgraded from 4.3.1 to 4.4.1.\r\n\r\nDuring upgrade in the browser Matomo told me to run the CLI command\r\n```\r\nphp /var/www/html/console core:update\r\n```\r\nto migrate the database. I did within the container and at the end it showed me\r\n\r\n```\r\nIt appears you have executed this update with user root:root, while your Matomo files are owned by www-data:www-data.\r\n\r\nTo ensure that the Matomo files are readable by the correct user, you may need to run the following command (or a similar command depending on your server configuration):\r\n\r\n$ chown -R root:root /var/www/html\r\n```\r\nThis was just **wrong**, after the command Matomo didn't work anymore.\r\n\r\nInstead it needs to be \r\n```\r\nchown -R www-data:www-data /var/www/html\r\n```\r\nNot sure what the logic for the recommendation and the selected user:group is...", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17862/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17862/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17861", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17861/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17861/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17861/events", "html_url": "https://github.com/matomo-org/matomo/pull/17861", "id": 962423432, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA1MjE0Njcx", "number": 17861, "title": "relax force ssl if assuming secure protocol #13374", "user": { "login": "geekdenz", "id": 479499, "node_id": "MDQ6VXNlcjQ3OTQ5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/479499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekdenz", "html_url": "https://github.com/geekdenz", "followers_url": "https://api.github.com/users/geekdenz/followers", "following_url": "https://api.github.com/users/geekdenz/following{/other_user}", "gists_url": "https://api.github.com/users/geekdenz/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekdenz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekdenz/subscriptions", "organizations_url": "https://api.github.com/users/geekdenz/orgs", "repos_url": "https://api.github.com/users/geekdenz/repos", "events_url": "https://api.github.com/users/geekdenz/events{/privacy}", "received_events_url": "https://api.github.com/users/geekdenz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 5, "created_at": "2021-08-06T06:00:24Z", "updated_at": "2021-08-08T21:22:40Z", "closed_at": "2021-08-08T20:19:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17861", "html_url": "https://github.com/matomo-org/matomo/pull/17861", "diff_url": "https://github.com/matomo-org/matomo/pull/17861.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17861.patch", "merged_at": null }, "body": "### Description:\r\n\r\nSee commit message.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17861/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17861/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17860", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17860/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17860/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17860/events", "html_url": "https://github.com/matomo-org/matomo/pull/17860", "id": 962334019, "node_id": "MDExOlB1bGxSZXF1ZXN0NzA1MTM5NTc4", "number": 17860, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-08-06T02:13:24Z", "updated_at": "2021-08-06T07:10:45Z", "closed_at": "2021-08-06T07:10:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17860", "html_url": "https://github.com/matomo-org/matomo/pull/17860", "diff_url": "https://github.com/matomo-org/matomo/pull/17860.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17860.patch", "merged_at": "2021-08-06T07:10:36Z" }, "body": "Updated submodules:\n- plugins/Bandwidth\n- plugins/CustomAlerts\n- plugins/CustomVariables\n- plugins/LogViewer\n- plugins/LoginLdap\n- plugins/MarketingCampaignsReporting\n- plugins/SecurityInfo\n- plugins/TagManager\n- plugins/TasksTimetable\n- plugins/VisitorGenerator\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17860/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17860/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17859", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17859/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17859/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17859/events", "html_url": "https://github.com/matomo-org/matomo/issues/17859", "id": 960088828, "node_id": "MDU6SXNzdWU5NjAwODg4Mjg=", "number": 17859, "title": "Add .md files in the .htaccess file", "user": { "login": "heurteph-ei", "id": 79993552, "node_id": "MDQ6VXNlcjc5OTkzNTUy", "avatar_url": "https://avatars.githubusercontent.com/u/79993552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heurteph-ei", "html_url": "https://github.com/heurteph-ei", "followers_url": "https://api.github.com/users/heurteph-ei/followers", "following_url": "https://api.github.com/users/heurteph-ei/following{/other_user}", "gists_url": "https://api.github.com/users/heurteph-ei/gists{/gist_id}", "starred_url": "https://api.github.com/users/heurteph-ei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heurteph-ei/subscriptions", "organizations_url": "https://api.github.com/users/heurteph-ei/orgs", "repos_url": "https://api.github.com/users/heurteph-ei/repos", "events_url": "https://api.github.com/users/heurteph-ei/events{/privacy}", "received_events_url": "https://api.github.com/users/heurteph-ei/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 112370581, "node_id": "MDU6TGFiZWwxMTIzNzA1ODE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Security", "name": "c: Security", "color": "fad8c7", "default": false, "description": "For issues that make Matomo more secure. Please report issues through HackerOne and not in Github." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 4, "created_at": "2021-08-04T08:51:30Z", "updated_at": "2021-08-04T21:05:32Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "## Summary\r\nSome user ask:\r\n```\r\nTo increase security and prevent from prying eyes I am deleting CHANGELOG.md once Matomo updates have been completed.\r\nWhy does Matomo run a File integrity check on CHANGELOG.md?\r\nWhy does Matomo need those *md files which easily reveal which Matomo version I am running?\r\n```\r\nI suggest to add *.md files or at least the `/CHANGELOG.md` file in the .htaccess file in order to increase (very little) the security...\r\n\r\n## Your Environment\r\nTicket created from the forum: https://forum.matomo.org/t/why-does-matomo-run-a-file-integrity-check-on-changelog-md/42725", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17859/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17858", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17858/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17858/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17858/events", "html_url": "https://github.com/matomo-org/matomo/issues/17858", "id": 960064142, "node_id": "MDU6SXNzdWU5NjAwNjQxNDI=", "number": 17858, "title": "Error when archiving since update to 4.4.1", "user": { "login": "ThorbenOermann", "id": 12184389, "node_id": "MDQ6VXNlcjEyMTg0Mzg5", "avatar_url": "https://avatars.githubusercontent.com/u/12184389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThorbenOermann", "html_url": "https://github.com/ThorbenOermann", "followers_url": "https://api.github.com/users/ThorbenOermann/followers", "following_url": "https://api.github.com/users/ThorbenOermann/following{/other_user}", "gists_url": "https://api.github.com/users/ThorbenOermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThorbenOermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThorbenOermann/subscriptions", "organizations_url": "https://api.github.com/users/ThorbenOermann/orgs", "repos_url": "https://api.github.com/users/ThorbenOermann/repos", "events_url": "https://api.github.com/users/ThorbenOermann/events{/privacy}", "received_events_url": "https://api.github.com/users/ThorbenOermann/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-08-04T08:34:30Z", "updated_at": "2021-08-04T21:15:28Z", "closed_at": "2021-08-04T09:11:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behavior\r\nThe hourly archive process should finish without any error.\r\n\r\n## Current Behavior\r\nSince upgrading matomo from 4.3.1 to 4.4.1 the archive process throws exceptions every hour. Data does not get archived.\r\nThe error message is the following:\r\n```\r\nERROR [2021-08-04 08:05:03] 5685 Got invalid response from API request: ?module=API&method=CoreAdminHome.archiveReports&idSite=4&period=day&date=2021-08-04&format=json&trigger=archivephp. Response was '{\"result\":\"error\",\"message\":\"Ihre Matomo Codebase läuft auf der alten Version 4.3.1 und wir haben erkannt, dass Ihre Matomo Datenbank bereits auf die neuere Version 4.4.1 aktualisiert wurde. Möglicherweise sind die Matomo Administratoren gerade daran, den Aktualisierungsprozess abzuschließen. Bitte versuchen Sie es in ein paar Minuten noch einmal. Falls dieses Problem weiterhin besteht, kontaktieren Sie bitte Ihren Matomo Administrator für Unterstützung.\r\n```\r\n\r\n## Context\r\nI updated our matomo installation via the browser. The update finished successfully. Matomo is running and states that version 4.4.1 is installed. Everything seems to work fine exept archiving.\r\nI manually updated matomo to 4.4.1 again this morning, trying to fix the error. Afterwards I manually started the archive process. It ran through without any error message. \r\nAfter another hour the automatic archive process started again and I am getting the same error every hour since.\r\n\r\n## Your Environment\r\n* Matomo-Version: 4.4.1\r\n* MySQL-Version: 8.0.20\r\n* PHP-Version: 7.4.21\r\n* Server Operating System: Ubuntu20.04\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17858/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17858/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17857", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17857/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17857/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17857/events", "html_url": "https://github.com/matomo-org/matomo/pull/17857", "id": 960043129, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAzMTAxNTc1", "number": 17857, "title": "Action permissions can't be set on step level", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-08-04T08:15:56Z", "updated_at": "2021-08-04T08:16:17Z", "closed_at": "2021-08-04T08:16:17Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17857", "html_url": "https://github.com/matomo-org/matomo/pull/17857", "diff_url": "https://github.com/matomo-org/matomo/pull/17857.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17857.patch", "merged_at": "2021-08-04T08:16:17Z" }, "body": "### Description:\r\n\r\nas per title. Would only be possible on job level, but we are only having one job each with multiple steps.\r\n\r\nfollow up to #17809\r\n\r\nwill merge this directly to prevent further fails of running actions\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17857/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17856", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17856/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17856/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17856/events", "html_url": "https://github.com/matomo-org/matomo/issues/17856", "id": 959803031, "node_id": "MDU6SXNzdWU5NTk4MDMwMzE=", "number": 17856, "title": "[database_tests] section no longer generated when executing php tests", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 9, "created_at": "2021-08-04T02:34:29Z", "updated_at": "2021-10-28T09:27:33Z", "closed_at": "2021-10-28T09:27:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "to reproduce remove the section `[database_tests]` from your local tests. It will then result in a database access exception.\r\n\r\nThat's because in https://github.com/matomo-org/matomo/blob/4.4.1/tests/PHPUnit/bootstrap.php#L126 it uses a mock config which has \"allowSave = false\".\r\n\r\nIt must have regressed at some point but not sure where.\r\n\r\nThe goals are:\r\n\r\n* [ ] Not throw an exception when `database_tests` section is not configured.\r\n* [ ] Automatically pre-fill the database_tests section in the `config/config.ini.php`\r\n\r\n![image](https://user-images.githubusercontent.com/273120/128112806-2025d5e5-f883-44f2-a0d7-3ef455c370de.png)\r\n![image](https://user-images.githubusercontent.com/273120/128112835-80b5bbd0-2343-4a9f-ab19-35e0cd7ebe60.png)\r\n\r\nor is this maybe now expected?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17856/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17856/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17855", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17855/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17855/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17855/events", "html_url": "https://github.com/matomo-org/matomo/pull/17855", "id": 959571609, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAyNjczMjI1", "number": 17855, "title": "Use Monolog:SyslogHandler syslog default facility", "user": { "login": "mwithheld", "id": 796986, "node_id": "MDQ6VXNlcjc5Njk4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/796986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwithheld", "html_url": "https://github.com/mwithheld", "followers_url": "https://api.github.com/users/mwithheld/followers", "following_url": "https://api.github.com/users/mwithheld/following{/other_user}", "gists_url": "https://api.github.com/users/mwithheld/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwithheld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwithheld/subscriptions", "organizations_url": "https://api.github.com/users/mwithheld/orgs", "repos_url": "https://api.github.com/users/mwithheld/repos", "events_url": "https://api.github.com/users/mwithheld/events{/privacy}", "received_events_url": "https://api.github.com/users/mwithheld/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 6, "created_at": "2021-08-03T22:24:47Z", "updated_at": "2021-08-25T00:06:12Z", "closed_at": "2021-08-24T20:00:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17855", "html_url": "https://github.com/matomo-org/matomo/pull/17855", "diff_url": "https://github.com/matomo-org/matomo/pull/17855.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17855.patch", "merged_at": "2021-08-24T20:00:27Z" }, "body": "### Description:\r\n\r\nThis is a further fix to #17764, fixing the Monolog:SyslogHandler create() call to use its constructor-default facility rather than manually setting it to 'syslog' incorrectly.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17855/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17854", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17854/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17854/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17854/events", "html_url": "https://github.com/matomo-org/matomo/pull/17854", "id": 958875647, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAyMDc3NjA3", "number": 17854, "title": "Fix transition popover for page titles", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-08-03T08:39:33Z", "updated_at": "2021-08-03T20:13:33Z", "closed_at": "2021-08-03T20:13:22Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17854", "html_url": "https://github.com/matomo-org/matomo/pull/17854", "diff_url": "https://github.com/matomo-org/matomo/pull/17854.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17854.patch", "merged_at": "2021-08-03T20:13:22Z" }, "body": "### Description:\r\n\r\nIt didn't work correctly to click through the following pages in the transition overlay for page titles. Reason was that a `http://` was prepended, which only make sense for urls.\r\n\r\nfixes #17853\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17854/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17853", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17853/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17853/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17853/events", "html_url": "https://github.com/matomo-org/matomo/issues/17853", "id": 958832158, "node_id": "MDU6SXNzdWU5NTg4MzIxNTg=", "number": 17853, "title": "Clicking through the following pages in the transition overlay for page titles does not work", "user": { "login": "heurteph-ei", "id": 79993552, "node_id": "MDQ6VXNlcjc5OTkzNTUy", "avatar_url": "https://avatars.githubusercontent.com/u/79993552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heurteph-ei", "html_url": "https://github.com/heurteph-ei", "followers_url": "https://api.github.com/users/heurteph-ei/followers", "following_url": "https://api.github.com/users/heurteph-ei/following{/other_user}", "gists_url": "https://api.github.com/users/heurteph-ei/gists{/gist_id}", "starred_url": "https://api.github.com/users/heurteph-ei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heurteph-ei/subscriptions", "organizations_url": "https://api.github.com/users/heurteph-ei/orgs", "repos_url": "https://api.github.com/users/heurteph-ei/repos", "events_url": "https://api.github.com/users/heurteph-ei/events{/privacy}", "received_events_url": "https://api.github.com/users/heurteph-ei/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 2, "created_at": "2021-08-03T07:48:33Z", "updated_at": "2021-10-06T02:02:41Z", "closed_at": "2021-08-03T20:13:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Steps to Reproduce / Behavior\r\n1. **Behaviour** > **Page titles**\r\n1. Hover a PAGE TITLE then click on the Transitions icon\r\n1. Click on an Internal Pages Link (**From** or **To**)\r\n1. There’s no data whereas it should have some...\r\n\r\n(screenshot of demo.matomo.cloud)\r\n![image](https://user-images.githubusercontent.com/79993552/127976684-18e6d02b-21bd-454b-adbb-48df7baaf0ec.png)\r\n\r\n(screenshot of my own \"no data\")\r\n![image](https://user-images.githubusercontent.com/79993552/127977830-3351fb81-843f-412a-b48c-fadd9fd663f0.png)\r\n\r\n## Possible Solution\r\nNo idea\r\n\r\n## Context\r\nReported from https://forum.matomo.org/t/i-found-an-error-when-i-clicked-on-the-page-link-of-page-title-transitions-matomo-version-4-3-1/42717\r\nThe bug is not reproductible on demo.matomo.cloud, but I reproduced it on my own servers (v4.3.1).\r\n\r\n## Your Environment\r\n### Mandatory checks\r\n\r\n#### Version PHP >= 7.2.5:\r\n ✔ 7.3.20\r\n\r\n#### PDO Extension:\r\n ✔ \r\n\r\n#### PDO\\MYSQL Extension:\r\n ✔ \r\n\r\n#### MYSQLI Extension:\r\n ✔ \r\n\r\n#### Extensions requises:\r\n ✔ zlib ✔ SPL ✔ iconv ✔ json ✔ mbstring ✔ Reflection ✔ filter ✔ hash ✔ session\r\n\r\n#### Fonctions requises:\r\n ✔ debug_backtrace ✔ eval ✔ hash ✔ gzcompress ✔ gzuncompress ✔ pack\r\n\r\n#### Configuration PHP requise (php.ini):\r\n ✔ session.auto_start = 0 ✔ max_execution_time = 0 OR >= 30\r\n\r\n#### Répertoires avec les droits d'accès en écriture:\r\n ✔ $DOC_ROOT/tmp ✔ $DOC_ROOT/tmp/assets ✔ $DOC_ROOT/tmp/cache ✔ $DOC_ROOT/tmp/climulti ✔ $DOC_ROOT/tmp/latest ✔ $DOC_ROOT/tmp/logs ✔ $DOC_ROOT/tmp/sessions ✔ $DOC_ROOT/tmp/tcpdf ✔ $DOC_ROOT/tmp/templates_c\r\n\r\n#### Répertoires avec accès en écriture pour Gestionnaire de balises:\r\n ✔ $DOC_ROOT/js/tics-manager\r\n\r\n#### Extensions requises:\r\n ✔ openssl\r\n\r\n\r\n### Optional checks\r\n\r\n#### Required Private Directories:\r\n ⚠ Warning: Unable to execute check for $MATOMO_URLconfig/config.ini.php: curl_exec: Peer&#039;s Certificate issuer is not recognized.. Hostname requested was: matomo.*.fr ⚠ Warning: Unable to execute check for $MATOMO_URLtmp/: curl_exec: Peer&#039;s Certificate issuer is not recognized.. Hostname requested was: matomo.*.fr ⚠ Warning: Unable to execute check for $MATOMO_URLtmp/empty: curl_exec: Peer&#039;s Certificate issuer is not recognized.. Hostname requested was: matomo.*.fr ⚠ Warning: Unable to execute check for $MATOMO_URLtmp/cache/tracker/matomocache_general.php: curl_exec: Peer&#039;s Certificate issuer is not recognized.. Hostname requested was: matomo.*.fr ⚠ Warning: Unable to execute check for $MATOMO_URLlang/en.json: curl_exec: Peer&#039;s Certificate issuer is not recognized.. Hostname requested was: matomo.*.fr ✔ All private directories are inaccessible from the internet.\r\n\r\n#### Intégrité du fichier:\r\n ⚠ Warning: Le contrôle d'intégrité a échoué et a rapporté des erreurs. Vous devriez corriger ces problèmes puis rafraîchir cette page jusqu'à ce qu'il n'y ait plus d'erreur.<br/><br/>Des fichiers auxquels nous ne nous attendions pas ont été trouvés dans votre installation de Matomo.<br/>--> Veuillez supprimer ces fichiers pour éviter d'avoir des erreurs. \r\n\r\n#### Statut du traqueur:\r\n ✔ \r\n\r\n#### Limite mémoire:\r\n ✔ 128M\r\n\r\n#### Fuseau horaire:\r\n ✔ \r\n\r\n#### Ouvrez l'URL:\r\n ✔ curl\r\n\r\n#### PageSpeed désactivé:\r\n ✔ \r\n\r\n#### GD > 2.x + Freetype (graphiques):\r\n ✔ \r\n\r\n#### Autres extensions:\r\n ✔ json ✔ libxml ✔ dom ✔ SimpleXML ✔ openssl\r\n\r\n#### Autres fonctions:\r\n ✔ shell_exec ✔ set_time_limit ✔ mail ✔ parse_ini_file ✔ glob ✔ gzopen ✔ md5_file\r\n\r\n#### Système de fichiers:\r\n ✔ \r\n\r\n#### Paramétrer une tâche Cron (chargement plus rapide des rapports):\r\n ⚠ Warning: Pour des performances optimales et un Matomo rapide, il est vivement recommandé de mettre en place une entré CRON pour archiver automatiquement vos rapports, et de désactiver le déclanchement depuis l'interface depuis les paramètres Matomo. Apprenez-en plus.\r\n\r\n#### Browser and Auto-archiving enabled:\r\n ⚠ Warning: It looks like both browser and auto archiving are enabled. Auto archiving last started 9 min 42s ago. If auto archiving is enabled, you should disable browser archiving in \"General Settings\".\r\n\r\n#### Paramétrer une tâche Cron - Gestion des processus via la ligne de commande:\r\n ✔ Ok\r\n\r\n#### Capacités de la base de données:\r\n ✔ UTF8mb4 charset ⚠ Warning: LOAD DATA INFILE<br/>L'utilisation de LOAD DATA INFILE va grandement accélérer la vitesse du processus d'archivage de Matomo. Pour le rendre disponible à Matomo, essayez de mettre à jour PHP & MySQL et assurez-vous que votre utilisateur MySQL a les privilèges de FILE.<br/>Si votre serveur Matomo suit des sites à fort trafic (ex. > 100000 pages par mois), nous recommandons d'essayer de corriger ce problème. ✔ CREATE TEMPORARY TABLES ✔ Changing transaction isolation level\r\n\r\n#### Taille maximale des paquets:\r\n ⚠ Warning: Il est important de configurer une taille 'max_allowed_packet' dans votre base de données MySQL d'au moins 64MB. 32MB configuré en ce moment.\r\n\r\n#### Connexion SSL forcée:\r\n ✔ \r\n\r\n#### Géolocalisation:\r\n ⚠ Warning: Le fournisseur de localisation par défaut devine le pays d'un visiteur en se basant sur le langage de son navigateur. Ceci n'est pas très précis, nous recommandons donc l'installation et l'utilisation d'une base de données de géolocalisation.\r\n\r\n#### Mettre à jour via HTTPS:\r\n ✔ \r\n\r\n#### Traceur JavaScript inscriptible (\"/matomo.js\"):\r\n ✔ \r\n\r\n#### Heatmap & Session Recording Tracking:\r\n ⚠ Warning: Requesting '$MATOMO_URLplugins/HeatmapSessionRecording/configs.php?idsite=1&trackerid=5lX6EM&url=http%3A%2F%2Ftest.test%2F' resulted in an SSL error. Maybe you are using a self signed certificate? Please open the URL manually in a browser to see if the response contains 'Piwik.HeatmapSessionRecording'. If not, you might need to modify your server configuration as this file needs to be accessible via a browser from the Internet or Intranet.\r\n\r\n\r\n### Informational results\r\n\r\n#### Matomo Version:\r\n 4.3.1\r\n\r\n#### Matomo Update History:\r\n 4.0.5,\r\n\r\n#### Matomo Install Version:\r\n 4.0.5\r\n\r\n#### Latest Available Version:\r\n \r\n\r\n#### Is Git Deployment:\r\n 0\r\n\r\n#### PHP_OS:\r\n Linux\r\n\r\n#### PHP SAPI:\r\n apache2handler\r\n\r\n#### Timezone Version:\r\n 0.system\r\n\r\n#### PHP Timezone:\r\n UTC\r\n\r\n#### PHP Time:\r\n 1625236784\r\n\r\n#### PHP Datetime:\r\n 2021-07-02 14:39:44\r\n\r\n#### PHP INI max_execution_time:\r\n 30\r\n\r\n#### PHP INI post_max_size:\r\n 8M\r\n\r\n#### PHP INI max_input_vars:\r\n 1000\r\n\r\n#### PHP INI zlib.output_compression:\r\n \r\n\r\n#### Curl Version:\r\n 7.29.0, NSS/3.44\r\n\r\n#### Suhosin Installed:\r\n 0\r\n\r\n#### DB Prefix:\r\n matomo_\r\n\r\n#### DB Charset:\r\n utf8mb4\r\n\r\n#### DB Adapter:\r\n MYSQLI\r\n\r\n#### MySQL Version:\r\n 5.7.32-enterprise-commercial-advanced-log\r\n\r\n#### Num Tables:\r\n 90\r\n\r\n#### Browser Segment Archiving Enabled:\r\n 1\r\n\r\n#### Development Mode Enabled:\r\n 0\r\n\r\n#### Internet Enabled:\r\n 1\r\n\r\n#### Multi Server Environment:\r\n 1\r\n\r\n#### Auto Update Enabled:\r\n 1\r\n\r\n#### Custom User Path:\r\n 0\r\n\r\n#### Custom Include Path:\r\n 0\r\n\r\n#### Release Channel:\r\n latest_stable\r\n\r\n#### Plugins Activated:\r\n API, AbTesting 4.0.6, Actions, ActivityLog 4.0.2, Annotations, BulkTracking, Cohorts 4.0.3, Contents, CoreAdminHome, CoreConsole, CoreHome, CorePluginsAdmin, CoreUpdater, CoreVisualizations, CustomDimensions, CustomJsTracker, CustomReports 4.0.7, DBStats, Dashboard, DevicePlugins, DevicesDetection, Diagnostics, Events, Feedback, Funnels 4.0.3, GeoIp2, Goals, Heartbeat, HeatmapSessionRecording 4.0.12, ImageGraph, Insights, Installation, Intl, IntranetMeasurable, LanguagesManager, Live, LoginLdap 4.3.0, LoginSaml 4.0.3, MobileMessaging, Monolog, Morpheus, MultiSites, Overlay, PagePerformance, PrivacyManager, Proxy, Referrers, Resolution, RssWidget, SEO, ScheduledReports, SearchEngineKeywordsPerformance 4.1.1, SegmentEditor, SitesManager, TagManager, Tour, Transitions, TwoFactorAuth, UserCountry, UserCountryMap, UserId, UserLanguage, UsersFlow 4.0.4, UsersManager, VisitFrequency, VisitTime, VisitorInterest, VisitsSummary, WebsiteMeasurable, WhiteLabel 4.0.2, Widgetize\r\n\r\n#### Plugins Deactivated:\r\n CustomVariables, Ecommerce, FormAnalytics 4.0.5, Login, Marketplace, MediaAnalytics 4.0.8, MobileAppMeasurable, MultiChannelConversionAttribution 4.0.5, ProfessionalServices, Provider, RollUpReporting 4.0.2, WooCommerceAnalytics 4.0.5\r\n\r\n#### Plugins Invalid:\r\n \r\n\r\n#### Server Info:\r\n Apache\r\n\r\n#### Had visits in last 1 day:\r\n 1\r\n\r\n#### Had visits in last 3 days:\r\n 1\r\n\r\n#### Had visits in last 5 days:\r\n 1\r\n\r\n#### Archive Time Last Started:\r\n 1625236202\r\n\r\n#### Archive Time Last Finished:\r\n 1625236611\r\n\r\n#### User Agent:\r\n Mozilla/5.0 (Windows NT 6.3; Win64; x64; rv:78.0) Gecko/20100101 Firefox/78.0\r\n\r\n#### Browser Language:\r\n fr,fr-fr,en-us,en\r\n\r\n#### Total Invalidation Count:\r\n 0\r\n\r\n#### In Progress Invalidation Count:\r\n 0\r\n\r\n#### Scheduled Invalidation Count:\r\n 0\r\n\r\n#### Earliest invalidation ts_started:\r\n \r\n\r\n#### Latest invalidation ts_started:\r\n \r\n\r\n#### Earliest invalidation ts_invalidated:\r\n \r\n\r\n#### Latest invalidation ts_invalidated:\r\n \r\n\r\n#### Number of segment invalidations:\r\n 0\r\n\r\n#### Number of plugin invalidations:\r\n 0\r\n\r\n#### List of plugins being invalidated:\r\n \r\n\r\n#### Anonymize Referrer:\r\n \r\n\r\n#### Do Not Track enabled:\r\n 0\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17853/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17853/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17852", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17852/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17852/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17852/events", "html_url": "https://github.com/matomo-org/matomo/pull/17852", "id": 958768991, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAxOTkwMjAw", "number": 17852, "title": "Fixing some test failures", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 10, "created_at": "2021-08-03T06:18:04Z", "updated_at": "2021-08-10T12:50:31Z", "closed_at": "2021-08-10T12:50:30Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17852", "html_url": "https://github.com/matomo-org/matomo/pull/17852", "diff_url": "https://github.com/matomo-org/matomo/pull/17852.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17852.patch", "merged_at": "2021-08-10T12:50:30Z" }, "body": "### Description:\r\n\r\nFixed several tests. The max execution time one is now failing though I'm not sure why. It's failing locally as well.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17852/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17852/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17851", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17851/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17851/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17851/events", "html_url": "https://github.com/matomo-org/matomo/pull/17851", "id": 958718636, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAxOTUwOTE2", "number": 17851, "title": "add token_auth to overlay requests where necessary", "user": { "login": "geekdenz", "id": 479499, "node_id": "MDQ6VXNlcjQ3OTQ5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/479499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekdenz", "html_url": "https://github.com/geekdenz", "followers_url": "https://api.github.com/users/geekdenz/followers", "following_url": "https://api.github.com/users/geekdenz/following{/other_user}", "gists_url": "https://api.github.com/users/geekdenz/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekdenz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekdenz/subscriptions", "organizations_url": "https://api.github.com/users/geekdenz/orgs", "repos_url": "https://api.github.com/users/geekdenz/repos", "events_url": "https://api.github.com/users/geekdenz/events{/privacy}", "received_events_url": "https://api.github.com/users/geekdenz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 9, "created_at": "2021-08-03T04:45:14Z", "updated_at": "2021-10-06T06:30:17Z", "closed_at": "2021-08-13T08:21:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17851", "html_url": "https://github.com/matomo-org/matomo/pull/17851", "diff_url": "https://github.com/matomo-org/matomo/pull/17851.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17851.patch", "merged_at": "2021-08-13T08:21:58Z" }, "body": "### Description:\r\n\r\nWith @tsteur we debugged this non-trivial issue.\r\n\r\nWe did not need to change any core code, just in the client it needed to be ensured that the token_auth parameter gets added to the URL or POST under the correct circumstances.\r\n\r\nNotes:\r\n\r\n- I did not run phpunit yet. Trying to find out how to do this effectively in PHPStorm rather than just CLI.\r\n- There is a subtle bug that seems to have a redirect loop like symptom when the overlay page is loaded. However, waiting for half a minute it works as expected. This could be a performance problem going forward if not fixed.\r\n- \"Open Row Evolution\" is broken with \"**Error:** Expected date to be an instance of \\Piwik\\Date\"\r\n- \"Open segmented Visits Log\" is broken with \"**Error:** Your session has expired due to inactivity. Please log in to continue.\"\r\n- Working on these problems now.\r\n\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17851/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17851/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17850", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17850/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17850/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17850/events", "html_url": "https://github.com/matomo-org/matomo/issues/17850", "id": 958642035, "node_id": "MDU6SXNzdWU5NTg2NDIwMzU=", "number": 17850, "title": "When I Clicked 'From Internal Pages' link, I found an Error 'There's no data for http:​/​/​xxxxxxx'.", "user": { "login": "maIkeda", "id": 8034332, "node_id": "MDQ6VXNlcjgwMzQzMzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8034332?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maIkeda", "html_url": "https://github.com/maIkeda", "followers_url": "https://api.github.com/users/maIkeda/followers", "following_url": "https://api.github.com/users/maIkeda/following{/other_user}", "gists_url": "https://api.github.com/users/maIkeda/gists{/gist_id}", "starred_url": "https://api.github.com/users/maIkeda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maIkeda/subscriptions", "organizations_url": "https://api.github.com/users/maIkeda/orgs", "repos_url": "https://api.github.com/users/maIkeda/repos", "events_url": "https://api.github.com/users/maIkeda/events{/privacy}", "received_events_url": "https://api.github.com/users/maIkeda/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-08-03T01:54:31Z", "updated_at": "2021-08-03T08:16:27Z", "closed_at": "2021-08-03T08:15:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I found an error when doing the following.\r\nIs this a bug?\r\n\r\n## Steps to Reproduce (for Bugs)\r\n 1. Behaviour > Page titles\r\n 2. Select 'PAGE TITLE' and Click 'Open Trasitions'\r\n 3. Click 'From Internal Pages' link or 'To Internal Pages' link\r\n 4. Error 'There's no data for http:​/​/​xxxxxxx'\r\n\r\n## Your Environment\r\n* Matomo Version: 4.3.1\r\n* PHP Version: 7.4\r\n* Server Operating System: CentOS7", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17850/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17850/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17849", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17849/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17849/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17849/events", "html_url": "https://github.com/matomo-org/matomo/pull/17849", "id": 958488550, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAxNzY0ODM2", "number": 17849, "title": "Scheduled tasks: Always read timetable from the database and not from memory", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-08-02T20:36:59Z", "updated_at": "2021-10-06T06:29:37Z", "closed_at": "2021-08-02T21:53:49Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17849", "html_url": "https://github.com/matomo-org/matomo/pull/17849", "diff_url": "https://github.com/matomo-org/matomo/pull/17849.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17849.patch", "merged_at": "2021-08-02T21:53:49Z" }, "body": "… memory\r\n\r\nI was reviewing another issue and then saw that we actually read always the cached option entry for the scheduled tasks timetable by the looks. This is executed in https://github.com/matomo-org/matomo/blob/4.4.1/core/Scheduler/Scheduler.php#L105-L115\r\n\r\nBecause it is normal to have 2 or many more archivers running in parallel it's not uncommon that multiple archivers might execute the task runner at the same time. They would all fetch the timetable (the entries of what scheduled tasks to execute when) and they would all have a different version of it and work on this version constantly. However, because it can take a long time (from seconds up to hours) to execute all tasks, there's a high risk that some tasks may be executed multiple times if we don't always read the timetable from the database. It will cause quite a few additional queries but should reduce some concurrency issues.\r\n\r\nCurrently, there was already code to always read the DB value again. However, `Option::get` would always first return a cached result from memory and not fetch the DB again. \r\n\r\nBasically this is how it currently looks like:\r\n\r\n```\r\njob 1: load tasks, returns [a,b,c,d]\r\njob 1: work task a\r\njob 2: load tasks, returns [b,c,d]\r\njob 1: work task b \r\njob 2: work task b\r\njob 1: work task c\r\njob 2: work task c\r\n...\r\n```\r\n\r\nThe task runner logic is still far from being thread safe but this should improve it quite a bit.\r\n\r\nConsequence of all this is a lot of added load as several tasks may be executed multiple times, potentially some scheduled reports or custom alerts may be sent multiple times (I remember seeing such reports), etc.\r\n\r\n### Description:\r\n\r\nPlease include a description of this change and which issue it fixes. If no issue exists yet please include context and what problem it solves.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17849/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17849/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17848", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17848/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17848/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17848/events", "html_url": "https://github.com/matomo-org/matomo/pull/17848", "id": 958470480, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAxNzQ5MDUw", "number": 17848, "title": "Fix long failing UI tests", "user": { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 3, "created_at": "2021-08-02T20:09:59Z", "updated_at": "2021-08-02T22:07:44Z", "closed_at": "2021-08-02T22:07:44Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17848", "html_url": "https://github.com/matomo-org/matomo/pull/17848", "diff_url": "https://github.com/matomo-org/matomo/pull/17848.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17848.patch", "merged_at": "2021-08-02T22:07:44Z" }, "body": "### Description:\r\n\r\nThree UI tests have been failing for some time now. This PR updates the expected screenshots so we can stop wasting time checking each build.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17848/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17848/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17847", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17847/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17847/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17847/events", "html_url": "https://github.com/matomo-org/matomo/issues/17847", "id": 958114562, "node_id": "MDU6SXNzdWU5NTgxMTQ1NjI=", "number": 17847, "title": "Performance metrics reports incorrect times due to single exceptional high value", "user": { "login": "rr-it", "id": 29690343, "node_id": "MDQ6VXNlcjI5NjkwMzQz", "avatar_url": "https://avatars.githubusercontent.com/u/29690343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rr-it", "html_url": "https://github.com/rr-it", "followers_url": "https://api.github.com/users/rr-it/followers", "following_url": "https://api.github.com/users/rr-it/following{/other_user}", "gists_url": "https://api.github.com/users/rr-it/gists{/gist_id}", "starred_url": "https://api.github.com/users/rr-it/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rr-it/subscriptions", "organizations_url": "https://api.github.com/users/rr-it/orgs", "repos_url": "https://api.github.com/users/rr-it/repos", "events_url": "https://api.github.com/users/rr-it/events{/privacy}", "received_events_url": "https://api.github.com/users/rr-it/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-08-02T12:55:47Z", "updated_at": "2021-08-06T10:52:26Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behavior\r\n\r\nPerformance reports should use relevant time metrics only. Single outlier and exceptions should not be included in the statistics.\r\n\r\n## Current Behavior\r\n\r\nSingle outliers counting like 4 hours instead of 0.01 seconds totally screw up the metrics.\r\n\r\n---\r\n\r\n![page-performance-metrics](https://user-images.githubusercontent.com/29690343/127863229-7ef17d7f-8099-49e8-bdfb-dac97555175c.png)\r\n\r\nMight be one exceptional high value which is already smoothed by 16 normal values.\r\n![page-performance-dom_completion](https://user-images.githubusercontent.com/29690343/127863400-dd231658-fadc-4fd7-add8-0fb79b046f69.png)\r\n\r\nMight be one exceptional high value which is already smoothed by 189 normal values.\r\n![page-performance-dom_procession](https://user-images.githubusercontent.com/29690343/127863259-f6b5e9e2-e624-4b50-95e4-99fd531176a8.png)\r\n\r\n---\r\n\r\n![page-performance-metrics2](https://user-images.githubusercontent.com/29690343/127863754-63d89a0e-5eaa-418e-8d66-f4db4a5522e1.png)\r\n\r\nOne exceptional high value which screws up the whole metrics.\r\n![page-performance-download_time](https://user-images.githubusercontent.com/29690343/127863765-f114a539-fd8e-4170-a48f-efdbe43e37fe.png)\r\n\r\n---\r\n\r\n## Possible Solution\r\n\r\nOnly take the fastest/lowest 99th or 99.9th percentile of all values into account. Thereby ignoring the highest 1st or 0.1th percentile of values makes the metrics usable again.\r\n\r\nMaybe use Google PageSpeed as orientation: 75th or 95th percentile\r\nhttps://developers.google.com/speed/docs/insights/v5/about\r\n\r\n## Your Environment\r\n\r\n* Matomo Version: 4.3.0\r\n\r\n## Related issues\r\n\r\nMight be related to https://github.com/matomo-org/matomo/issues/17646\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17847/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17847/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17846", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17846/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17846/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17846/events", "html_url": "https://github.com/matomo-org/matomo/pull/17846", "id": 957637191, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAxMDI2Nzkx", "number": 17846, "title": "Remove checking for /proc existence", "user": { "login": "avkarenow", "id": 14143181, "node_id": "MDQ6VXNlcjE0MTQzMTgx", "avatar_url": "https://avatars.githubusercontent.com/u/14143181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avkarenow", "html_url": "https://github.com/avkarenow", "followers_url": "https://api.github.com/users/avkarenow/followers", "following_url": "https://api.github.com/users/avkarenow/following{/other_user}", "gists_url": "https://api.github.com/users/avkarenow/gists{/gist_id}", "starred_url": "https://api.github.com/users/avkarenow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avkarenow/subscriptions", "organizations_url": "https://api.github.com/users/avkarenow/orgs", "repos_url": "https://api.github.com/users/avkarenow/repos", "events_url": "https://api.github.com/users/avkarenow/events{/privacy}", "received_events_url": "https://api.github.com/users/avkarenow/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 5, "created_at": "2021-08-02T00:49:35Z", "updated_at": "2021-08-11T01:45:41Z", "closed_at": "2021-08-11T01:45:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17846", "html_url": "https://github.com/matomo-org/matomo/pull/17846", "diff_url": "https://github.com/matomo-org/matomo/pull/17846.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17846.patch", "merged_at": "2021-08-11T01:45:41Z" }, "body": "### Description:\r\n\r\nCurrently the '-e' option in `ps` is not used and looks like /proc is no more needed to detect a running process.\r\nThe change can make CliMulti usable on some systems like FreeBSD, OpenBSD or macOS.\r\n\r\nTested on FreeBSD without /proc mounted.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17846/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17845", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17845/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17845/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17845/events", "html_url": "https://github.com/matomo-org/matomo/pull/17845", "id": 957153821, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAwNjQxNTEw", "number": 17845, "title": "[automatic translation update] Updated 928 strings in 4 languages (tr it cs es-ar)", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-07-31T02:44:44Z", "updated_at": "2021-08-02T07:22:26Z", "closed_at": "2021-08-02T07:22:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17845", "html_url": "https://github.com/matomo-org/matomo/pull/17845", "diff_url": "https://github.com/matomo-org/matomo/pull/17845.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17845.patch", "merged_at": "2021-08-02T07:22:26Z" }, "body": "- Updated Turkish (768 changes / 100% translated)\n- Updated Italian (3 changes / 99% translated)\n- Updated Czech (88 changes / 74% translated)\n- Updated Spanish (Argentina) (69 changes / 92% translated)\n\n\nHelp us translate Matomo in your language!\nSignup at https://www.transifex.com/matomo/matomo/\nIf you have any questions, get in touch with us at translations@matomo.org", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17845/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17844", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17844/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17844/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17844/events", "html_url": "https://github.com/matomo-org/matomo/issues/17844", "id": 956624528, "node_id": "MDU6SXNzdWU5NTY2MjQ1Mjg=", "number": 17844, "title": "500 error when loading js asset", "user": { "login": "nerdoc", "id": 2955584, "node_id": "MDQ6VXNlcjI5NTU1ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2955584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nerdoc", "html_url": "https://github.com/nerdoc", "followers_url": "https://api.github.com/users/nerdoc/followers", "following_url": "https://api.github.com/users/nerdoc/following{/other_user}", "gists_url": "https://api.github.com/users/nerdoc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nerdoc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nerdoc/subscriptions", "organizations_url": "https://api.github.com/users/nerdoc/orgs", "repos_url": "https://api.github.com/users/nerdoc/repos", "events_url": "https://api.github.com/users/nerdoc/events{/privacy}", "received_events_url": "https://api.github.com/users/nerdoc/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 3, "created_at": "2021-07-30T10:34:50Z", "updated_at": "2021-08-08T21:38:48Z", "closed_at": "2021-08-01T20:33:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using Matomo version 4.3.1\r\n\r\nI wanted to update Matomo, but after the klick on te update link and login, the Dashboard stays empty.\r\n\r\n## Expected Behavior\r\nMatomo should load normally and load widgets - or update.\r\n\r\n## Current Behavior\r\nAfter login, Matomo shows an empty page:\r\n![grafik](https://user-images.githubusercontent.com/2955584/127638845-20dcde1c-b006-4284-ad7a-a4b836f6d1f5.png)\r\nIn the browser console it says:\r\nGET https://analytics.nerdocs.at/index.php?module=Proxy&action=getCoreJs&cb=556b45688935c0968089623b67ce77c5\r\n![grafik](https://user-images.githubusercontent.com/2955584/127638949-0613a7ae-852a-474f-876d-7596155ca8f1.png)\r\n\r\non the CLI, a `console core:update` tells me that everything is up to date. `diagnostics:run` tells me that some files are missing, but only files like\r\n\r\n```\r\nMissing file: /var/www/virtual/nerdoc/analytics.nerdocs.at/core/Updates/0.2.10.php \r\nMissing file: /var/www/virtual/nerdoc/analytics.nerdocs.at/core/Updates/0.2.12.php \r\nMissing file: /var/www/virtual/nerdoc/analytics.nerdocs.at/core/Updates/0.2.13.php \r\n...\r\n```\r\n\r\n500 error page says: \r\n\r\n```The ui asset with 'href' = ...node_modules/angular-cookies/angular-cookies.min.js is not readable```\r\n\r\n\r\n## Possible Solution\r\nI went into `node_modules/angular-cookies` and did a\r\n\r\n```\r\nwget https://raw.githubusercontent.com/angular/bower-angular-cookies/master/angular-cookies.min.js\r\n```\r\nSo I downloaded a current js file from that as workaround. And promptly, Matomo worked again.\r\n\r\nBut why was this directory empty? BTW, `node_modules/angular-mocks` is empty too. But that's probably ok.\r\n\r\n## Steps to Reproduce (for Bugs)\r\n\r\n\r\n## Context\r\nTrying to make an upgrade to 4.4.0, as the link in the upgrade mail says.\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.3.1\r\n* PHP Version: PHP 7.3.29\r\n* Server Operating System: CentOS (Uberspace.de)\r\n* Additionally installed plugins:\r\nno I know of. \r\n* Browser: Firefox/Linux\r\n* Operating System: Manjaro Linux\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17844/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17844/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17843", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17843/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17843/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17843/events", "html_url": "https://github.com/matomo-org/matomo/issues/17843", "id": 956534526, "node_id": "MDU6SXNzdWU5NTY1MzQ1MjY=", "number": 17843, "title": "Overlay not loading since Matomo 4.4.0 upgrade: error setting cookie `_pk_id.1.2f7c`", "user": { "login": "maxbraeutigam", "id": 78037966, "node_id": "MDQ6VXNlcjc4MDM3OTY2", "avatar_url": "https://avatars.githubusercontent.com/u/78037966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxbraeutigam", "html_url": "https://github.com/maxbraeutigam", "followers_url": "https://api.github.com/users/maxbraeutigam/followers", "following_url": "https://api.github.com/users/maxbraeutigam/following{/other_user}", "gists_url": "https://api.github.com/users/maxbraeutigam/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxbraeutigam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxbraeutigam/subscriptions", "organizations_url": "https://api.github.com/users/maxbraeutigam/orgs", "repos_url": "https://api.github.com/users/maxbraeutigam/repos", "events_url": "https://api.github.com/users/maxbraeutigam/events{/privacy}", "received_events_url": "https://api.github.com/users/maxbraeutigam/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 18, "created_at": "2021-07-30T08:37:49Z", "updated_at": "2021-11-15T10:55:36Z", "closed_at": "2021-08-16T08:00:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behavior\r\nOverlay with analytics data should load and show number of clicks on links etc.\r\n\r\n## Current Behavior\r\nLeft panel and external site show up, left panel only shows \"loading…\" indicator and no overlay is produced.\r\n\r\n## Possible Reason\r\nThe only error visible on the console is \r\n\r\n`There was an error setting cookie `_pk_id.1.2f7c`. Please check domain and path. container_rUey5fiC.js:56:287`\r\n\r\n## Steps to Reproduce (for Bugs)\r\nTried to reproduce on demo.matomo.cloud and indeed, the [overlay here](https://demo.matomo.cloud/index.php?module=Overlay&period=month&date=today&idSite=1#?l=https$3A$2F$2Fdivezone.net$2Fjobs$3F__prod_demo$3D1$26__enterprise_demo_idsite$3D1) is not loading, too.\r\n\r\n1. Got to Behavior\r\n2. Pages\r\n3. click on any Overlay\r\n\r\n## Context\r\nIt broke down after upgrading to 4.4.0, before it was working without any problems.\r\n\r\n## Your Environment\r\n* Matomo-Version: 4.4.0\r\n* MySQL-Version: 10.5.11-MariaDB-1:10.5.11+maria~focal-log\r\n* PHP-Version: 8.0.6 \r\n* Server Operating System: Linux\r\n* Additionally installed plugins: None\r\n* Browser: Latest Firefox and Chrome\r\n* Operating System: Arch Linux, Windows\r\n* System check passes without errors", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17843/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17843/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17842", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17842/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17842/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17842/events", "html_url": "https://github.com/matomo-org/matomo/pull/17842", "id": 956349928, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk5OTYwNzkx", "number": 17842, "title": "Revert \"more private Referrer-Policy: use strict-origin-when-cross-origin \"", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/152", "html_url": "https://github.com/matomo-org/matomo/milestone/152", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/152/labels", "id": 7012644, "node_id": "MI_kwDOABefqs4AawEk", "number": 152, "title": "4.4.1", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2021-07-28T20:09:29Z", "updated_at": "2021-08-02T02:57:14Z", "due_on": null, "closed_at": "2021-08-02T02:57:14Z" }, "comments": 0, "created_at": "2021-07-30T02:42:20Z", "updated_at": "2021-07-30T03:51:10Z", "closed_at": "2021-07-30T03:51:09Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17842", "html_url": "https://github.com/matomo-org/matomo/pull/17842", "diff_url": "https://github.com/matomo-org/matomo/pull/17842.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17842.patch", "merged_at": "2021-07-30T03:51:09Z" }, "body": "Reverts matomo-org/matomo#17382\r\n\r\nOtherwise it may break the overlay if overlay is loaded cross origin (eg a different domain) as it would only receive the origin referrer but not path and subquery. ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17842/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17842/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17841", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17841/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17841/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17841/events", "html_url": "https://github.com/matomo-org/matomo/pull/17841", "id": 956340318, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk5OTUyOTcz", "number": 17841, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/152", "html_url": "https://github.com/matomo-org/matomo/milestone/152", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/152/labels", "id": 7012644, "node_id": "MI_kwDOABefqs4AawEk", "number": 152, "title": "4.4.1", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2021-07-28T20:09:29Z", "updated_at": "2021-08-02T02:57:14Z", "due_on": null, "closed_at": "2021-08-02T02:57:14Z" }, "comments": 0, "created_at": "2021-07-30T02:18:07Z", "updated_at": "2021-07-30T08:18:34Z", "closed_at": "2021-07-30T08:18:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17841", "html_url": "https://github.com/matomo-org/matomo/pull/17841", "diff_url": "https://github.com/matomo-org/matomo/pull/17841.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17841.patch", "merged_at": "2021-07-30T08:18:33Z" }, "body": "Updated submodules:\r\n- misc/log-analytics\r\n- plugins/CustomVariables\r\n- plugins/LoginLdap\r\n- ~plugins/Morpheus/icons~\r\n- plugins/TagManager\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17841/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17840", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17840/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17840/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17840/events", "html_url": "https://github.com/matomo-org/matomo/pull/17840", "id": 956287959, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk5OTEwMTk3", "number": 17840, "title": "better checks when shell_exec is disabled", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/152", "html_url": "https://github.com/matomo-org/matomo/milestone/152", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/152/labels", "id": 7012644, "node_id": "MI_kwDOABefqs4AawEk", "number": 152, "title": "4.4.1", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2021-07-28T20:09:29Z", "updated_at": "2021-08-02T02:57:14Z", "due_on": null, "closed_at": "2021-08-02T02:57:14Z" }, "comments": 2, "created_at": "2021-07-29T23:59:26Z", "updated_at": "2021-08-02T02:24:57Z", "closed_at": "2021-07-30T02:40:16Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17840", "html_url": "https://github.com/matomo-org/matomo/pull/17840", "diff_url": "https://github.com/matomo-org/matomo/pull/17840.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17840.patch", "merged_at": "2021-07-30T02:40:16Z" }, "body": "### Description:\r\n\r\nFixes #17838 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17840/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17838", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17838/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17838/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17838/events", "html_url": "https://github.com/matomo-org/matomo/issues/17838", "id": 956206143, "node_id": "MDU6SXNzdWU5NTYyMDYxNDM=", "number": 17838, "title": "More warnings about missing shell_exec() since Matomo 4.4.0", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/152", "html_url": "https://github.com/matomo-org/matomo/milestone/152", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/152/labels", "id": 7012644, "node_id": "MI_kwDOABefqs4AawEk", "number": 152, "title": "4.4.1", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2021-07-28T20:09:29Z", "updated_at": "2021-08-02T02:57:14Z", "due_on": null, "closed_at": "2021-08-02T02:57:14Z" }, "comments": 1, "created_at": "2021-07-29T21:05:10Z", "updated_at": "2021-07-30T02:40:16Z", "closed_at": "2021-07-30T02:40:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "reported in \r\nhttps://forum.matomo.org/t/warning-shell-exec-has-been-disabled-for-security-reasons-matomo-4-4-0/42661 (two users)\r\nand\r\nhttps://forum.matomo.org/t/error-after-update-to-v4-4-0/42679\r\n\r\nIt seems like this is maybe caused by https://github.com/matomo-org/matomo/pull/17576", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17838/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17835", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17835/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17835/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17835/events", "html_url": "https://github.com/matomo-org/matomo/pull/17835", "id": 955789531, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk5NDg3NDQx", "number": 17835, "title": "Fix sorting of Geolocation providers", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/152", "html_url": "https://github.com/matomo-org/matomo/milestone/152", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/152/labels", "id": 7012644, "node_id": "MI_kwDOABefqs4AawEk", "number": 152, "title": "4.4.1", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2021-07-28T20:09:29Z", "updated_at": "2021-08-02T02:57:14Z", "due_on": null, "closed_at": "2021-08-02T02:57:14Z" }, "comments": 2, "created_at": "2021-07-29T12:28:10Z", "updated_at": "2021-08-01T21:20:41Z", "closed_at": "2021-08-01T21:20:41Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17835", "html_url": "https://github.com/matomo-org/matomo/pull/17835", "diff_url": "https://github.com/matomo-org/matomo/pull/17835.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17835.patch", "merged_at": "2021-08-01T21:20:40Z" }, "body": "### Description:\r\n\r\nGeolocation providers can be defined together with an `order`. This flag is used to sort the providers to generate the list of all providers. Currently when two providers have the same order flag, the second provider will replace the first on in the list. Currently this can cause problems when installing a new provider (like IP2Location), as the currently used geoip2php suddenly gets unavailable.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17835/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17835/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17834", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17834/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17834/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17834/events", "html_url": "https://github.com/matomo-org/matomo/issues/17834", "id": 955647779, "node_id": "MDU6SXNzdWU5NTU2NDc3Nzk=", "number": 17834, "title": "Allow more than 10 results per page in user edit permissions page", "user": { "login": "bluikko", "id": 14869000, "node_id": "MDQ6VXNlcjE0ODY5MDAw", "avatar_url": "https://avatars.githubusercontent.com/u/14869000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bluikko", "html_url": "https://github.com/bluikko", "followers_url": "https://api.github.com/users/bluikko/followers", "following_url": "https://api.github.com/users/bluikko/following{/other_user}", "gists_url": "https://api.github.com/users/bluikko/gists{/gist_id}", "starred_url": "https://api.github.com/users/bluikko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bluikko/subscriptions", "organizations_url": "https://api.github.com/users/bluikko/orgs", "repos_url": "https://api.github.com/users/bluikko/repos", "events_url": "https://api.github.com/users/bluikko/events{/privacy}", "received_events_url": "https://api.github.com/users/bluikko/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-07-29T09:31:49Z", "updated_at": "2021-07-30T03:45:03Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\nWhen editing user's permissions it only lists 10 different sites per page. This is quite inconvenient. It would be much more convenient if the pagination was configurable.\r\n\r\nFurthermore it might be a good idea to have some kind of \"universal\" pagination where any pagination was configurable. This would seem like a lot of work but would be a permanent solution for the numerous pagination issues opened over time.\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n\r\n## Summary\r\n<!-- Please provide a detailed summary of the feature -->\r\nUsers -> click \"Edit\" for a user -> go to \"Permissions\" and then permissions of only 10 sites is shown on each page.\r\n\r\nThe page is very \"loose\" with a lot of whitespace between the rows, so most screens probably only fit the 10 sites/rows each screen! Anyways some people would prefer to scroll rather than click between next and previous page many times.\r\n\r\n## Your Environment\r\n<!-- Include as many relevant details about the environment when applicable -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.2.0\r\n* PHP Version: 7.4\r\n* Server Operating System: EL7\r\n* Additionally installed plugins: irrelevant?\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17834/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17834/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17833", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17833/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17833/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17833/events", "html_url": "https://github.com/matomo-org/matomo/issues/17833", "id": 955570389, "node_id": "MDU6SXNzdWU5NTU1NzAzODk=", "number": 17833, "title": "PageViews with same PageViewId get counted as multiple PageViews", "user": { "login": "JE4GLE", "id": 56178675, "node_id": "MDQ6VXNlcjU2MTc4Njc1", "avatar_url": "https://avatars.githubusercontent.com/u/56178675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JE4GLE", "html_url": "https://github.com/JE4GLE", "followers_url": "https://api.github.com/users/JE4GLE/followers", "following_url": "https://api.github.com/users/JE4GLE/following{/other_user}", "gists_url": "https://api.github.com/users/JE4GLE/gists{/gist_id}", "starred_url": "https://api.github.com/users/JE4GLE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JE4GLE/subscriptions", "organizations_url": "https://api.github.com/users/JE4GLE/orgs", "repos_url": "https://api.github.com/users/JE4GLE/repos", "events_url": "https://api.github.com/users/JE4GLE/events{/privacy}", "received_events_url": "https://api.github.com/users/JE4GLE/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 3, "created_at": "2021-07-29T08:01:05Z", "updated_at": "2021-08-04T21:11:19Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I set the PageViewId in the JavaScript tracker using the new feature in this pull request: https://github.com/matomo-org/matomo/pull/17655\r\nThis is discussed in the follow issue: https://github.com/matomo-org/matomo/issues/16942\r\n\r\nWhen I for example hardcode the PageViewId, I get multiple PageViews. Even if they have the same PageViewId!\r\n\r\n## Expected Behavior\r\nWhen two or multiple tracked PageViews have the same PageViewId, they should only be counted as one visit.\r\n\r\n## Current Behavior\r\nEvery tracked PageView gets counted as an individual PageView, even having the same PageViewId.\r\n\r\n## Possible Solution\r\nCount PageViews with the same PageViewID as one PageView.\r\n\r\n## Steps to Reproduce (for Bugs)\r\n```javascript\r\n...\r\n_paq.push(['setPageViewId', \"563adi\"]);\r\n_paq.push(['trackPageView']);\r\n...\r\n```\r\nReload page multiple times.\r\n\r\n## Context\r\nI'm trying to merge the PHP tracker and JavaScript tracker. Everything possible will be tracked by the PHP tracker, then the generated PageViewId will be passed on to the JavaScript tracker. This will track the rest, like browser features or screen resolution.\r\n\r\n\r\n## Your Environment\r\n* Matomo Version: 4.4.0\r\n* PHP Version: 7.3\r\n* Browser: Safari 15\r\n* Operating System: macOS 12.0\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17833/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17833/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17832", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17832/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17832/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17832/events", "html_url": "https://github.com/matomo-org/matomo/pull/17832", "id": 955450731, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk5MTk5Njc4", "number": 17832, "title": "Add command to generate a system check", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/152", "html_url": "https://github.com/matomo-org/matomo/milestone/152", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/152/labels", "id": 7012644, "node_id": "MI_kwDOABefqs4AawEk", "number": 152, "title": "4.4.1", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2021-07-28T20:09:29Z", "updated_at": "2021-08-02T02:57:14Z", "due_on": null, "closed_at": "2021-08-02T02:57:14Z" }, "comments": 2, "created_at": "2021-07-29T04:40:56Z", "updated_at": "2021-07-30T00:06:37Z", "closed_at": "2021-07-30T00:06:36Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17832", "html_url": "https://github.com/matomo-org/matomo/pull/17832", "diff_url": "https://github.com/matomo-org/matomo/pull/17832.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17832.patch", "merged_at": "2021-07-30T00:06:36Z" }, "body": "### Description:\r\n\r\nNeeded for https://github.com/matomo-org/developer-documentation/pull/498\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17832/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17831", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17831/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17831/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17831/events", "html_url": "https://github.com/matomo-org/matomo/pull/17831", "id": 955299100, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk5MDcwMzc0", "number": 17831, "title": "make sure summary rows are serialized with their in-db subtable ID and not in memory one", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/152", "html_url": "https://github.com/matomo-org/matomo/milestone/152", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/152/labels", "id": 7012644, "node_id": "MI_kwDOABefqs4AawEk", "number": 152, "title": "4.4.1", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2021-07-28T20:09:29Z", "updated_at": "2021-08-02T02:57:14Z", "due_on": null, "closed_at": "2021-08-02T02:57:14Z" }, "comments": 3, "created_at": "2021-07-28T23:08:41Z", "updated_at": "2021-07-30T02:37:45Z", "closed_at": "2021-07-30T02:37:44Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17831", "html_url": "https://github.com/matomo-org/matomo/pull/17831", "diff_url": "https://github.com/matomo-org/matomo/pull/17831.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17831.patch", "merged_at": "2021-07-30T02:37:44Z" }, "body": "### Description:\r\n\r\nAs title, for summary rows we are currently serializing the row with the incorrect subtable ID, causing it not to load w/ the subtable.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17831/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17831/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17830", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17830/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17830/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17830/events", "html_url": "https://github.com/matomo-org/matomo/pull/17830", "id": 954971825, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk4Nzg4NTQ1", "number": 17830, "title": "Don't check cookie value if cookie was deleted", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/152", "html_url": "https://github.com/matomo-org/matomo/milestone/152", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/152/labels", "id": 7012644, "node_id": "MI_kwDOABefqs4AawEk", "number": 152, "title": "4.4.1", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2021-07-28T20:09:29Z", "updated_at": "2021-08-02T02:57:14Z", "due_on": null, "closed_at": "2021-08-02T02:57:14Z" }, "comments": 8, "created_at": "2021-07-28T15:18:29Z", "updated_at": "2021-07-29T23:41:53Z", "closed_at": "2021-07-29T23:41:52Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17830", "html_url": "https://github.com/matomo-org/matomo/pull/17830", "diff_url": "https://github.com/matomo-org/matomo/pull/17830.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17830.patch", "merged_at": "2021-07-29T23:41:52Z" }, "body": "### Description:\r\n\r\nThe issue is reproducible calling `_paq.push(['setCookieDomain', 'custom.matomo.dev']);`, which tries to set and remove a cookie on the given domain.\r\n\r\nfixes #17829\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17830/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17830/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17829", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17829/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17829/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17829/events", "html_url": "https://github.com/matomo-org/matomo/issues/17829", "id": 954955036, "node_id": "MDU6SXNzdWU5NTQ5NTUwMzY=", "number": 17829, "title": "Testcookie causes warning in browser console", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/152", "html_url": "https://github.com/matomo-org/matomo/milestone/152", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/152/labels", "id": 7012644, "node_id": "MI_kwDOABefqs4AawEk", "number": 152, "title": "4.4.1", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2021-07-28T20:09:29Z", "updated_at": "2021-08-02T02:57:14Z", "due_on": null, "closed_at": "2021-08-02T02:57:14Z" }, "comments": 8, "created_at": "2021-07-28T15:00:46Z", "updated_at": "2022-09-25T16:22:57Z", "closed_at": "2021-07-29T23:41:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "related to https://github.com/matomo-org/matomo/pull/17744\r\nreported in https://forum.matomo.org/t/javascript-error-trying-to-set-test-cookie-pk-testcookie-domain/42655\r\n\r\nSince Matomo 4.4.0, setting the testcookie seems to cause this error to be logged in the browser console:\r\n\r\n> There was an error setting cookie `_pk_testcookie_domain`. Please check domain and path.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17829/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17829/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17828", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17828/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17828/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17828/events", "html_url": "https://github.com/matomo-org/matomo/pull/17828", "id": 954899014, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk4NzI0Nzgx", "number": 17828, "title": "updates composer dependencies", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-07-28T14:10:09Z", "updated_at": "2021-08-04T00:33:29Z", "closed_at": "2021-08-04T00:33:28Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17828", "html_url": "https://github.com/matomo-org/matomo/pull/17828", "diff_url": "https://github.com/matomo-org/matomo/pull/17828.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17828.patch", "merged_at": "2021-08-04T00:33:28Z" }, "body": "Simple run of composer update. Will check somewhen later if there are any packages where we should consider updating to a new major version maybe.\r\n\r\n - Upgrading composer/ca-bundle (1.2.8 => 1.2.10)\r\n - Upgrading davaxi/sparkline (1.2.2 => 1.2.3)\r\n - Upgrading dealerdirect/phpcodesniffer-composer-installer (v0.7.0 => v0.7.1)\r\n - Upgrading escapestudios/symfony2-coding-standard (3.11.0 => 3.12.0)\r\n - Upgrading matomo/matomo-php-tracker (3.0.0 => 3.0.1)\r\n - Upgrading matomo/searchengine-and-social-list (3.11.0 => 3.12.0)\r\n - Upgrading maxmind-db/reader (v1.8.0 => v1.10.1)\r\n - Upgrading monolog/monolog (1.25.5 => 1.26.1)\r\n - Upgrading opis/closure (3.6.1 => 3.6.2)\r\n - Upgrading pear/archive_tar (1.4.13 => 1.4.14)\r\n - Upgrading pear/pear_exception (v1.0.1 => v1.0.2)\r\n - Upgrading phar-io/manifest (1.0.3 => 2.0.3)\r\n - Upgrading phar-io/version (2.0.1 => 3.1.0)\r\n - Upgrading php-di/php-di (6.3.0 => 6.3.4)\r\n - Upgrading phpspec/prophecy (1.12.1 => 1.13.0)\r\n - Upgrading phpunit/php-code-coverage (7.0.10 => 7.0.15)\r\n - Upgrading phpunit/php-file-iterator (2.0.2 => 2.0.4)\r\n - Upgrading phpunit/php-timer (2.1.2 => 2.1.3)\r\n - Upgrading phpunit/php-token-stream (3.1.1 => 3.1.3)\r\n - Upgrading phpunit/phpunit (8.5.9 => 8.5.18)\r\n - Upgrading psr/container (1.0.0 => 1.1.1)\r\n - Upgrading psr/log (1.1.3 => 1.1.4)\r\n - Upgrading sebastian/code-unit-reverse-lookup (1.0.1 => 1.0.2)\r\n - Upgrading sebastian/comparator (3.0.2 => 3.0.3)\r\n - Upgrading sebastian/diff (3.0.2 => 3.0.3)\r\n - Upgrading sebastian/environment (4.2.3 => 4.2.4)\r\n - Upgrading sebastian/exporter (3.1.2 => 3.1.3)\r\n - Upgrading sebastian/global-state (3.0.0 => 3.0.1)\r\n - Upgrading sebastian/object-enumerator (3.0.3 => 3.0.4)\r\n - Upgrading sebastian/object-reflector (1.1.1 => 1.1.2)\r\n - Upgrading sebastian/recursion-context (3.0.0 => 3.0.1)\r\n - Upgrading sebastian/resource-operations (2.0.1 => 2.0.2)\r\n - Upgrading sebastian/type (1.1.3 => 1.1.4)\r\n - Upgrading squizlabs/php_codesniffer (3.5.8 => 3.6.0)\r\n - Upgrading symfony/polyfill-ctype (v1.20.0 => v1.23.0)\r\n - Upgrading symfony/polyfill-iconv (v1.20.0 => v1.23.0)\r\n - Upgrading symfony/polyfill-mbstring (v1.20.0 => v1.23.0)\r\n - Upgrading tecnickcom/tcpdf (6.4.1 => 6.4.2)\r\n - Upgrading theseer/tokenizer (1.2.0 => 1.2.1)\r\n - Upgrading twig/twig (v3.1.1 => v3.3.2)\r\n - Upgrading webmozart/assert (1.9.1 => 1.10.0)\r\n\r\nNote: The failing tests regarding missing search engine icons should be fixed again with #17811", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17828/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17827", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17827/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17827/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17827/events", "html_url": "https://github.com/matomo-org/matomo/pull/17827", "id": 954467025, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk4MzU3NDM0", "number": 17827, "title": "Faster unique visitors/users query", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-07-28T04:39:45Z", "updated_at": "2021-07-29T00:20:56Z", "closed_at": "2021-07-29T00:19:34Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": true, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17827", "html_url": "https://github.com/matomo-org/matomo/pull/17827", "diff_url": "https://github.com/matomo-org/matomo/pull/17827.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17827.patch", "merged_at": null }, "body": "refs https://github.com/matomo-org/matomo/issues/17750", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17827/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17827/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17826", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17826/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17826/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17826/events", "html_url": "https://github.com/matomo-org/matomo/pull/17826", "id": 954414120, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk4MzEzODcy", "number": 17826, "title": "Add minor entries to dev changelog", "user": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-28T02:32:54Z", "updated_at": "2021-07-28T03:15:12Z", "closed_at": "2021-07-28T03:15:11Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17826", "html_url": "https://github.com/matomo-org/matomo/pull/17826", "diff_url": "https://github.com/matomo-org/matomo/pull/17826.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17826.patch", "merged_at": "2021-07-28T03:15:11Z" }, "body": "", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17826/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17826/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17825", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17825/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17825/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17825/events", "html_url": "https://github.com/matomo-org/matomo/pull/17825", "id": 954407555, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk4MzA4NDU2", "number": 17825, "title": "Bump 3.X branch to 3.14.2-rc1", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-07-28T02:15:57Z", "updated_at": "2021-07-28T02:16:57Z", "closed_at": "2021-07-28T02:16:57Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17825", "html_url": "https://github.com/matomo-org/matomo/pull/17825", "diff_url": "https://github.com/matomo-org/matomo/pull/17825.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17825.patch", "merged_at": "2021-07-28T02:16:56Z" }, "body": "see https://github.com/matomo-org/matomo/issues?q=is%3Aclosed+milestone%3A3.14.2\r\n\r\n### Description:", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17825/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17825/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17824", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17824/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17824/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17824/events", "html_url": "https://github.com/matomo-org/matomo/issues/17824", "id": 954354846, "node_id": "MDU6SXNzdWU5NTQzNTQ4NDY=", "number": 17824, "title": "Advanced performance reports by dimension", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 0, "created_at": "2021-07-28T00:07:54Z", "updated_at": "2021-07-28T00:07:59Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Similar to the goals by dimension report it could be great to eventually have reports like\r\n\r\n* Page performance by country\r\n* Page performance by browser\r\n* Page performance by dimension\r\n* Page performance by ...\r\n\r\nThis way you can better understand if only a particular set of users are having performance issues without needing to use heaps of segments.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17824/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17823", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17823/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17823/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17823/events", "html_url": "https://github.com/matomo-org/matomo/pull/17823", "id": 954333893, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk4MjQ2MTc3", "number": 17823, "title": "limit the size of product reports", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 4, "created_at": "2021-07-27T23:15:47Z", "updated_at": "2021-10-06T06:28:54Z", "closed_at": "2021-08-04T20:40:08Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17823", "html_url": "https://github.com/matomo-org/matomo/pull/17823", "diff_url": "https://github.com/matomo-org/matomo/pull/17823.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17823.patch", "merged_at": "2021-08-04T20:40:08Z" }, "body": "### Description:\r\n\r\nApplying row limits to product reports as we do to most other reports. This PR does not include the use of ranking query, just two new INI config options to limit the report sizes.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17823/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17822", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17822/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17822/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17822/events", "html_url": "https://github.com/matomo-org/matomo/pull/17822", "id": 954250260, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk4MTc0NTMy", "number": 17822, "title": "Archiving may fail when also using roll up reporting", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-27T20:41:26Z", "updated_at": "2021-07-27T21:29:13Z", "closed_at": "2021-07-27T21:29:12Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17822", "html_url": "https://github.com/matomo-org/matomo/pull/17822", "diff_url": "https://github.com/matomo-org/matomo/pull/17822.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17822.patch", "merged_at": "2021-07-27T21:29:12Z" }, "body": "", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17822/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17821", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17821/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17821/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17821/events", "html_url": "https://github.com/matomo-org/matomo/issues/17821", "id": 953885377, "node_id": "MDU6SXNzdWU5NTM4ODUzNzc=", "number": 17821, "title": "Reporting API - CSV malformed", "user": { "login": "richardstrong", "id": 43290557, "node_id": "MDQ6VXNlcjQzMjkwNTU3", "avatar_url": "https://avatars.githubusercontent.com/u/43290557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richardstrong", "html_url": "https://github.com/richardstrong", "followers_url": "https://api.github.com/users/richardstrong/followers", "following_url": "https://api.github.com/users/richardstrong/following{/other_user}", "gists_url": "https://api.github.com/users/richardstrong/gists{/gist_id}", "starred_url": "https://api.github.com/users/richardstrong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richardstrong/subscriptions", "organizations_url": "https://api.github.com/users/richardstrong/orgs", "repos_url": "https://api.github.com/users/richardstrong/repos", "events_url": "https://api.github.com/users/richardstrong/events{/privacy}", "received_events_url": "https://api.github.com/users/richardstrong/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-07-27T13:28:26Z", "updated_at": "2021-07-27T17:07:19Z", "closed_at": "2021-07-27T17:07:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "CSV export header row does not match data row. Data rows have 1 field more and some values clearly do not match the headings. E.g. percentage value for \"Avg. Actions per New Visit\" or minute & seconds value for \"Returning Visits\"\r\n\r\n## Steps to Reproduce (for Bugs)\r\nExample link: https://demo.matomo.cloud/index.php?date=previous12&expanded=1&filter_limit=100&format=CSV&format_metrics=1&idSite=1&language=en&method=API.get&module=API&period=week&segment=&translateColumnNames=1&convertToUnicode=0\r\n\r\nHeader fields: 93\r\nData fields: 94\r\n\r\n## Context\r\nRenders CSV export useless – fields are named wrongly, and the importing tool rejects the file", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17821/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17821/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17819", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17819/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17819/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17819/events", "html_url": "https://github.com/matomo-org/matomo/issues/17819", "id": 953589230, "node_id": "MDU6SXNzdWU5NTM1ODkyMzA=", "number": 17819, "title": "Add \"AllowOverride\" to faq/troubleshooting/how-do-i-fix-the-error-private-directories-are-accessible", "user": { "login": "larsen0815", "id": 2345512, "node_id": "MDQ6VXNlcjIzNDU1MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2345512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/larsen0815", "html_url": "https://github.com/larsen0815", "followers_url": "https://api.github.com/users/larsen0815/followers", "following_url": "https://api.github.com/users/larsen0815/following{/other_user}", "gists_url": "https://api.github.com/users/larsen0815/gists{/gist_id}", "starred_url": "https://api.github.com/users/larsen0815/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/larsen0815/subscriptions", "organizations_url": "https://api.github.com/users/larsen0815/orgs", "repos_url": "https://api.github.com/users/larsen0815/repos", "events_url": "https://api.github.com/users/larsen0815/events{/privacy}", "received_events_url": "https://api.github.com/users/larsen0815/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 1678500922, "node_id": "MDU6TGFiZWwxNjc4NTAwOTIy", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Documentation", "name": "c: Documentation", "color": "f4e866", "default": false, "description": "Indicates a need for improvements or additions to documentation." } ], "state": "closed", "locked": false, "assignee": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 3, "created_at": "2021-07-27T07:29:05Z", "updated_at": "2021-07-28T20:31:40Z", "closed_at": "2021-07-27T20:56:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://matomo.org/faq/troubleshooting/how-do-i-fix-the-error-private-directories-are-accessible/\r\n\r\nLike others I had the problem of this message not getting fixed by running \"core:create-security-files\". Turns out, the domain in Apache was not configured to \"AllowOverride All\" which is needed for .htaccess to work.\r\n\r\nA note should be added here that users should check this.\r\n\r\nbtw: When I tried to post the above text as a feedback on that page, I got blocked by WAF:\r\n````\r\nForbidden\r\nRequest was blocked by WAF.\r\nRequest ID: 50562432-e4ff-44e5-97a6-9f4891e6376c\r\n````", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17819/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17819/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17818", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17818/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17818/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17818/events", "html_url": "https://github.com/matomo-org/matomo/pull/17818", "id": 953389432, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk3NDM5MzEy", "number": 17818, "title": "get rid of stashed datatables before going into safe mode to free up memory", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-07-27T00:22:40Z", "updated_at": "2021-08-02T23:05:30Z", "closed_at": "2021-08-02T23:05:29Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17818", "html_url": "https://github.com/matomo-org/matomo/pull/17818", "diff_url": "https://github.com/matomo-org/matomo/pull/17818.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17818.patch", "merged_at": "2021-08-02T23:05:29Z" }, "body": "### Description:\r\n\r\nIn out of memory fatal errors we try to trigger safemode and print out a partial stack trace. However, we'll generally not have the memory to actually do this, so we just trigger another out of memory error that is not handled. To alleviate this, this PR will remove every datatable in memory (as this is usually the cause of out of memory errors). Hopefully this will create a useful trace in the output.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17818/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17817", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17817/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17817/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17817/events", "html_url": "https://github.com/matomo-org/matomo/pull/17817", "id": 953383438, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk3NDM0MTQ2", "number": 17817, "title": "When aggregating reports, inflate one expanded datatable at a time", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 3, "created_at": "2021-07-27T00:08:35Z", "updated_at": "2021-08-19T22:01:13Z", "closed_at": "2021-08-19T22:01:13Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17817", "html_url": "https://github.com/matomo-org/matomo/pull/17817", "diff_url": "https://github.com/matomo-org/matomo/pull/17817.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17817.patch", "merged_at": "2021-08-19T22:01:13Z" }, "body": "### Description:\r\n\r\nCurrently when aggregating reports over multi periods, we get the blob data for every child period, inflate the blob data for every period into a DataTable tree, then add them together. Afterwards we clean up the extra DataTables, but in the meantime a lot of memory is used, especially when the reports are large. This PR switches to inflating the DataTable tree for just one period at a time and should use less memory overall.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17817/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17817/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17816", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17816/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17816/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17816/events", "html_url": "https://github.com/matomo-org/matomo/issues/17816", "id": 952732479, "node_id": "MDU6SXNzdWU5NTI3MzI0Nzk=", "number": 17816, "title": "Limiting ecommerce product reports to 10,000 to avoid memory issues with new INI config setting to customise", "user": { "login": "pepl", "id": 118787, "node_id": "MDQ6VXNlcjExODc4Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/118787?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pepl", "html_url": "https://github.com/pepl", "followers_url": "https://api.github.com/users/pepl/followers", "following_url": "https://api.github.com/users/pepl/following{/other_user}", "gists_url": "https://api.github.com/users/pepl/gists{/gist_id}", "starred_url": "https://api.github.com/users/pepl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pepl/subscriptions", "organizations_url": "https://api.github.com/users/pepl/orgs", "repos_url": "https://api.github.com/users/pepl/repos", "events_url": "https://api.github.com/users/pepl/events{/privacy}", "received_events_url": "https://api.github.com/users/pepl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 24, "created_at": "2021-07-26T10:06:29Z", "updated_at": "2021-10-06T02:45:26Z", "closed_at": "2021-08-04T20:59:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "We’ve migrated from GA to Matomo with end of May and are experiencing issues with the archiving of the “yearly” period for our two largest sites.\r\n\r\nPHP has been configured to not apply memory limits. After processing daily, weekly and monthly periods, the archiving process starts with the yearly period and quickly - in a matter of seconds - eats up all the RAM of the processing host. In our case that is currently 15GB. Before we increase the RAM of the host, we’d like to understand the root cause (and if e.g. doubling it would actually help with the problem).\r\n\r\nThe issue has been discussed already via https://forum.matomo.org/t/memory-usage-issues-with-archiving-high-traffic-ecommerce-site/42334/13 but it looks like this is a dead end for us for now. Our archiving process is still regularly failing unfortunately.\r\n\r\nIt looks like the tracking of things like SKU data (and product name) per product page impression (see arrow towards the hover popup) seems to be a size issue as we have hundreds of thousands of those in a comparatively short amount of time of those.\r\n\r\nhttps://forum.matomo.org/uploads/db1181/original/2X/5/5cd51893f2e864279473210c5c03ff6cfe2d8a50.jpeg", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17816/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17815", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17815/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17815/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17815/events", "html_url": "https://github.com/matomo-org/matomo/issues/17815", "id": 952476114, "node_id": "MDU6SXNzdWU5NTI0NzYxMTQ=", "number": 17815, "title": "Improve UI of report info icon to show report generation time and help message", "user": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 171063645, "node_id": "MDU6TGFiZWwxNzEwNjM2NDU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Design%20/%20UI", "name": "c: Design / UI", "color": "006b75", "default": false, "description": "For issues that impact Matomo's user interface or the design overall." } ], "state": "closed", "locked": false, "assignee": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 6, "created_at": "2021-07-26T04:06:17Z", "updated_at": "2021-12-14T00:03:30Z", "closed_at": "2021-10-05T00:40:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Icon for \"Report generated X min ago\" displayed for \"Today\" is too small \r\n## Expected Behavior\r\n\r\nicon size consistent with the ? icon next to it\r\n\r\n## Current Behavior\r\nicon smaller than the ? icon next to it, see screenshot:\r\n![Screenshot from 2021-07-26 16-03-26](https://user-images.githubusercontent.com/466765/126931613-416db651-8aa9-4a4a-a92c-b482e4f9fac0.png)\r\n\r\n\r\n\r\n## Steps to Reproduce (for Bugs)\r\n\r\n* Open \"Today\" (period = day) in the calendar\r\n\r\n\r\n\r\n## Your Environment\r\nlatest Matomo", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17815/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17814", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17814/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17814/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17814/events", "html_url": "https://github.com/matomo-org/matomo/issues/17814", "id": 952443374, "node_id": "MDU6SXNzdWU5NTI0NDMzNzQ=", "number": 17814, "title": "\"Keyword not defined\" text not showing when viewing \" Keywords (including not defined)\" report flattened", "user": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 1, "created_at": "2021-07-26T02:46:01Z", "updated_at": "2021-07-28T08:55:22Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "\"Keyword not defined\" text not showing when viewing \" Keywords (including not defined)\" report flattened\r\n\r\n\r\n## Expected Behavior\r\n\r\nShowing \"Keyword not defined\" as well as the search engine name, on each row\r\n\r\n## Current Behavior\r\n\r\n\"Keyword not defined\" text not showing\r\n\r\n![Screenshot from 2021-07-26 14-45-34](https://user-images.githubusercontent.com/466765/126926091-f00542ae-e89b-47ab-bbc9-2c5014b57135.png)\r\n\r\n\r\n## Steps to Reproduce (for Bugs)\r\n* go to https://demo.matomo.cloud/index.php?module=CoreHome&action=index&idSite=1&period=day&date=yesterday#?idSite=1&period=day&date=yesterday&segment=&category=Referrers_Referrers&subcategory=Referrers_SubmenuSearchEngines\r\n* under the \" Combined keywords\" report, click footer link \" Related report > Keywords (including not defined)\" \r\n* click \"Make it flat\"\r\n\r\n## Your Environment\r\n\r\nMatomo 4.3.x", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17814/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17813", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17813/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17813/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17813/events", "html_url": "https://github.com/matomo-org/matomo/pull/17813", "id": 952360170, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk2NTY3Nzg4", "number": 17813, "title": "Deprecate passing null to non-nullable arguments of internal functions", "user": { "login": "mwithheld", "id": 796986, "node_id": "MDQ6VXNlcjc5Njk4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/796986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwithheld", "html_url": "https://github.com/mwithheld", "followers_url": "https://api.github.com/users/mwithheld/followers", "following_url": "https://api.github.com/users/mwithheld/following{/other_user}", "gists_url": "https://api.github.com/users/mwithheld/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwithheld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwithheld/subscriptions", "organizations_url": "https://api.github.com/users/mwithheld/orgs", "repos_url": "https://api.github.com/users/mwithheld/repos", "events_url": "https://api.github.com/users/mwithheld/events{/privacy}", "received_events_url": "https://api.github.com/users/mwithheld/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-07-25T21:35:41Z", "updated_at": "2021-08-11T14:37:00Z", "closed_at": "2021-07-25T21:38:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17813", "html_url": "https://github.com/matomo-org/matomo/pull/17813", "diff_url": "https://github.com/matomo-org/matomo/pull/17813.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17813.patch", "merged_at": null }, "body": "Issue #17686 Deprecate passing null to non-nullable arguments of internal functions\r\n\r\n### Description:\r\n\r\nPlease include a description of this change and which issue it fixes. If no issue exists yet please include context and what problem it solves.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17813/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17812", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17812/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17812/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17812/events", "html_url": "https://github.com/matomo-org/matomo/pull/17812", "id": 952352135, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk2NTYxNTMy", "number": 17812, "title": "Don't log an error when not supported browser is used", "user": { "login": "mwithheld", "id": 796986, "node_id": "MDQ6VXNlcjc5Njk4Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/796986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwithheld", "html_url": "https://github.com/mwithheld", "followers_url": "https://api.github.com/users/mwithheld/followers", "following_url": "https://api.github.com/users/mwithheld/following{/other_user}", "gists_url": "https://api.github.com/users/mwithheld/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwithheld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwithheld/subscriptions", "organizations_url": "https://api.github.com/users/mwithheld/orgs", "repos_url": "https://api.github.com/users/mwithheld/repos", "events_url": "https://api.github.com/users/mwithheld/events{/privacy}", "received_events_url": "https://api.github.com/users/mwithheld/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 11, "created_at": "2021-07-25T20:42:39Z", "updated_at": "2021-09-15T19:18:29Z", "closed_at": "2021-09-08T08:15:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17812", "html_url": "https://github.com/matomo-org/matomo/pull/17812", "diff_url": "https://github.com/matomo-org/matomo/pull/17812.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17812.patch", "merged_at": null }, "body": "Issue #17738 Don't log an error when not supported browser is used\r\n\r\n### Description:\r\n\r\nIssue #17738 Don't log an error when not supported browser is used\r\n\r\nTo reproduce the error (before the changes in this ticket):\r\n\r\n- Monitor the server (e.g. Apache) error log, e.g. `tail -f error_log` \r\n- Do a GET on matomo with an unsupported browser version e.g. Firefox < version 32, e.g.\r\n`wget -U \"Mozilla/5.0 (Windows NT 5.1; rv:2.0) Gecko/20100101 Firefox/4.0\" --no-check-certificate https://127.0.0.1/matomo/`\r\n\r\nTo test the fix:\r\n\r\n- Repeat the steps to reproduce above - you should not see the message in the error log.\r\n- In config.ini.php, set loglevel=DEBUG (the default is WARN):\r\n```\r\n[log]\r\nlog_level = DEBUG\r\n```\r\n- Repeat the steps to reproduce above - you should now see the message in the error log.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17812/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17811", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17811/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17811/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17811/events", "html_url": "https://github.com/matomo-org/matomo/pull/17811", "id": 952287958, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk2NTEyMjgx", "number": 17811, "title": "update Matomo icons submodule", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-07-25T14:36:50Z", "updated_at": "2021-08-04T08:25:43Z", "closed_at": "2021-08-04T08:25:42Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17811", "html_url": "https://github.com/matomo-org/matomo/pull/17811", "diff_url": "https://github.com/matomo-org/matomo/pull/17811.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17811.patch", "merged_at": "2021-08-04T08:25:42Z" }, "body": "I'm sorry that this will possibly break quite a few UI tests, but I noticed that quite a lot of major companies rebranded since I added the logos initially and have now updated all the important ones I could find in one go.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17811/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17810", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17810/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17810/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17810/events", "html_url": "https://github.com/matomo-org/matomo/pull/17810", "id": 951985861, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk2MjgyNTk2", "number": 17810, "title": "[automatic translation update] Updated 140 strings in 5 languages (tr de es-ar el sq)", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-07-24T02:52:45Z", "updated_at": "2021-07-28T09:27:23Z", "closed_at": "2021-07-28T09:27:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17810", "html_url": "https://github.com/matomo-org/matomo/pull/17810", "diff_url": "https://github.com/matomo-org/matomo/pull/17810.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17810.patch", "merged_at": "2021-07-28T09:27:22Z" }, "body": "- Updated Turkish (2 changes / 100% translated)\n- Updated German (25 changes / 100% translated)\n- Updated Spanish (Argentina) (109 changes / 90% translated)\n- Updated Greek (2 changes / 100% translated)\n- Updated Albanian (2 changes / 99% translated)\n\n\nHelp us translate Matomo in your language!\nSignup at https://www.transifex.com/matomo/matomo/\nIf you have any questions, get in touch with us at translations@matomo.org", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17810/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17810/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17809", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17809/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17809/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17809/events", "html_url": "https://github.com/matomo-org/matomo/pull/17809", "id": 951390616, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk1Nzg1MTM2", "number": 17809, "title": "Set proper permissions for github actions", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370581, "node_id": "MDU6TGFiZWwxMTIzNzA1ODE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Security", "name": "c: Security", "color": "fad8c7", "default": false, "description": "For issues that make Matomo more secure. Please report issues through HackerOne and not in Github." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 1, "created_at": "2021-07-23T09:05:20Z", "updated_at": "2021-08-04T07:44:01Z", "closed_at": "2021-08-04T07:44:00Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17809", "html_url": "https://github.com/matomo-org/matomo/pull/17809", "diff_url": "https://github.com/matomo-org/matomo/pull/17809.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17809.patch", "merged_at": "2021-08-04T07:44:00Z" }, "body": "### Description:\r\n\r\nActually I'm not totally sure if the changes might be to restrictive or if we could restrict some actions a bit more. Maybe write access to pull requests/issues would not be needed, if only commits are added and no comments. \r\n\r\nNote: Setting permissions to `none` would actually not be needed, as that's the default as soon as another permission is set. I left them in, so it's clear which permissions are available and set.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17809/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17809/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17808", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17808/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17808/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17808/events", "html_url": "https://github.com/matomo-org/matomo/pull/17808", "id": 951333265, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk1NzM4NDUy", "number": 17808, "title": "Ensure to use correct default value for segment in scheduled reports", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 3, "created_at": "2021-07-23T07:43:57Z", "updated_at": "2021-08-02T09:56:59Z", "closed_at": "2021-08-02T09:56:58Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17808", "html_url": "https://github.com/matomo-org/matomo/pull/17808", "diff_url": "https://github.com/matomo-org/matomo/pull/17808.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17808.patch", "merged_at": "2021-08-02T09:56:58Z" }, "body": "### Description:\r\n\r\n`report.idsegment` might be `null` when received from API. To ensure the default value is selected in that case, we need to convert that to an empty string.\r\n\r\nfixes #15335\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17808/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17808/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17807", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17807/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17807/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17807/events", "html_url": "https://github.com/matomo-org/matomo/issues/17807", "id": 951237745, "node_id": "MDU6SXNzdWU5NTEyMzc3NDU=", "number": 17807, "title": "Page Performance reports don't show data (empty graph) when viewing performance for a flattened page URL", "user": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 137043266, "node_id": "MDU6TGFiZWwxMzcwNDMyNjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Usability", "name": "c: Usability", "color": "bfe5bf", "default": false, "description": "For issues that let users achieve a defined goal more effectively or efficiently." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-07-23T04:22:49Z", "updated_at": "2021-10-12T03:12:56Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Page Performance reports work well in the default \"Pages\" report's hierarchical view,\r\nbut as soon as the report is flattened (a very often used feature),\r\nthen Page performance reports don't work (empty graph).\r\n\r\n<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n<!-- Important: If this bug is regarding a premium plugin you purchased on plugins.matomo.org, please email shop@innocraft.com instead of creating a bug report here. -->\r\n\r\n## Expected Behavior\r\n\r\nGraph with data eg:\r\n\r\n![Screenshot from 2021-07-23 16-19-50](https://user-images.githubusercontent.com/466765/126736962-51f4b207-8d93-441c-9099-4e177cf954a1.png)\r\n\r\n\r\n## Current Behavior\r\n\r\n![Screenshot from 2021-07-23 16-17-34](https://user-images.githubusercontent.com/466765/126736842-5d687f15-658b-440b-95a6-6d659c787df1.png)\r\n\r\n\r\n## Steps to Reproduce (for Bugs)\r\n* Go to Behaviour > Pages report.\r\n* Flatten the report\r\n* Hover on a row and click \"open page performance report\"\r\n* The report displays no data\r\n\r\nNote: on the demo it does not anyway as it's missing performance data. But can be reproduce in any other matomo\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.3.x", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17807/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17806", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17806/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17806/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17806/events", "html_url": "https://github.com/matomo-org/matomo/pull/17806", "id": 950812472, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk1MzAyMzI0", "number": 17806, "title": "Fix failing Mail test", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-22T15:51:59Z", "updated_at": "2021-07-22T16:42:44Z", "closed_at": "2021-07-22T16:42:43Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17806", "html_url": "https://github.com/matomo-org/matomo/pull/17806", "diff_url": "https://github.com/matomo-org/matomo/pull/17806.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17806.patch", "merged_at": "2021-07-22T16:42:43Z" }, "body": "### Description:\r\n\r\nSeems to be a regression from #17800\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17806/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17806/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17805", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17805/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17805/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17805/events", "html_url": "https://github.com/matomo-org/matomo/pull/17805", "id": 950704318, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk1MjEyMDEz", "number": 17805, "title": "POC: Vue.js 3 migration path", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 139760960, "node_id": "MDU6TGFiZWwxMzk3NjA5NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/RFC", "name": "RFC", "color": "009800", "default": false, "description": "Indicates the issue is a request for comments where the author is looking for feedback." }, { "id": 2831840267, "node_id": "MDU6TGFiZWwyODMxODQwMjY3", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Do%20not%20close", "name": "Do not close", "color": "0e8a16", "default": false, "description": "Pull requests with this label won't be marked as stale by the Close Stale Issues action" } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-07-22T14:02:24Z", "updated_at": "2022-05-03T13:15:42Z", "closed_at": "2022-02-14T16:06:11Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17805", "html_url": "https://github.com/matomo-org/matomo/pull/17805", "diff_url": "https://github.com/matomo-org/matomo/pull/17805.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17805.patch", "merged_at": null }, "body": "### Description:\r\n\r\nThis is a POC of using Vue.js 3 to replace AngularJS directives & components in Matomo step by step.\r\n\r\nIt migrates most parts of the SitesManager admin interface, as well as some basic components like enriched-headline, content-block or alert and various related directives and filters.\r\n\r\n### Current State:\r\n\r\nThe SitesManager admin should be quite fully migrated, at least some small functional tests were working and also the UI tests are passing (apart from slight UI changes). All main directives of the SitesManager are converted, but some directives like the piwik-fields/piwik-form-fields, are still used and compiled with Angular S, once they are shown.\r\n\r\nMaking it possible to communicate between piwik-fields in AngularJS and a outer Vue.js component wasn't possible directly, as you can't pass a Vue.js variable into a AngularJS model with a two way data binding. I used a workaround by listening to the native change event, that is triggered when the field's value changes. The value can then be received in Vue.js by directly accessing the AngularJS scope of that element. Similar workarounds might be needed if we don't migrate all directives that are used on one page at once.\r\n\r\nI have also changed the `content-block` to use a Vue.js component instead of the previous AngularJS implementation. This currently breaks most of the pages, as it causes problems on pages using twig templates containing other AngularJS directives within that component. But in general this should work when a page uses only Vue.js components.\r\n\r\n### Core Concepts\r\n\r\nIn Vue.js there are actually mainly components. \r\nBesides those components there are also directives, that are meant in another way than in AngularJS. Those can be used to register additional \"attribute keywords\" like `v-model` and could be used to implement something like the `focus-anywhere-but-here` directive.\r\n\r\nOther than AngularJS directives it's not possible to let Vue.js components parse by attribute. So something like `<div piwik-form-field ...>` would need to be converted to `<matomo-form-field>` for Vue.\r\n\r\nVue.js does not provide any special implementation for controller, model or service. Those can be implemented with native javascript objects if they need to be used in a global way. But there are also Vue.js extensions like https://vuemc.io/ that provide some kind of model feature or https://vuex.vuejs.org/, which provides some kind of state management.\r\n\r\nRouting is actually not provided by Vue.js core, but it can be implemented in Vue.js using the official Vue Router (https://next.router.vuejs.org/) or even a custom implementation if needed, or it can be done using some other libraries.\r\n\r\nNote: Currently I'm using jQuery within the Vue.js components. If at any point we want to get rid of jQuery as well, we could consider using VueQuery (https://github.com/phanan/vuequery) instead.\r\n\r\n### Modularization\r\n\r\nModularization is achieved in a way similar to the current AngularJS implementation. New VueJs Components or Methods can be placed in a plugin and need to be loaded using the `AssetManager.getJavaScriptFiles` event. VueJs 3 is actually meant to build real single page apps, that only have one Vue.js app element containing everything else. As we can't do that at least until AngularJS is removed we need to register the components and functions to all Vue.js elements we want to parse. To achieve that, there is a global `matomo` javascript class that allows to register components and functions and serves a `createVue` method that automatically parses an element with Vue.js and registers all known components and methods.\r\n\r\n### Migration Path\r\n\r\nSmaller components can be converted quite simple and we can use the angular directives to render Vue.js components, which will not require any changes in the templates.\r\nI guess the best strategy would be to convert components page by page. Once the page is done we can add a `vue-app` css-class to the parent element, which will then be parsed with Vue.js after the page is loaded.\r\n\r\n### Pros & Cons\r\n\r\n* Pros\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Coding with VueJS is quite fast and simple as it is plain Javascript (might be easier for contributors than TypeScript)\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb We can simply use our current structure and asset management\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Possibility to switch & use TypeScript in the future if we want to\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Having templates in twig files is not a problem, as long as the full page uses Vue.js components (mixing them up might cause problems)\r\n\r\n* Cons\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Mixing Angular JS & Vue.js components does not work when using twig templates. Vue.js can't parse an element within an element that has been parsed as AngularJS directive before. \r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Binding data does not work between the frameworks. This is only possible using native javascript events", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17805/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 1, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17805/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17804", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17804/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17804/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17804/events", "html_url": "https://github.com/matomo-org/matomo/issues/17804", "id": 950398169, "node_id": "MDU6SXNzdWU5NTAzOTgxNjk=", "number": 17804, "title": "\"All visits\" sometimes shows no visits, but Segments do.", "user": { "login": "mikkeschiren", "id": 712838, "node_id": "MDQ6VXNlcjcxMjgzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/712838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikkeschiren", "html_url": "https://github.com/mikkeschiren", "followers_url": "https://api.github.com/users/mikkeschiren/followers", "following_url": "https://api.github.com/users/mikkeschiren/following{/other_user}", "gists_url": "https://api.github.com/users/mikkeschiren/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikkeschiren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikkeschiren/subscriptions", "organizations_url": "https://api.github.com/users/mikkeschiren/orgs", "repos_url": "https://api.github.com/users/mikkeschiren/repos", "events_url": "https://api.github.com/users/mikkeschiren/events{/privacy}", "received_events_url": "https://api.github.com/users/mikkeschiren/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-07-22T07:57:58Z", "updated_at": "2021-07-26T20:02:52Z", "closed_at": "2021-07-26T08:14:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected Behavior\r\nWhen archiving data I would expect that \"All visits\" has data, when the segment for the same day has.\r\n\r\n\r\n## Current Behavior\r\nFor some dates, we are getting 0 for All visits, but the segment for the same day has thousands of hits.\r\n\r\nThis started to happen recently, we have changed some settings in how the archiving works, and it worked for a couple of days, and suddenly, for some dates, we are getting nothing for \"All visits\". Could this has something to do with invalidated dates?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17804/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17804/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17803", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17803/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17803/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17803/events", "html_url": "https://github.com/matomo-org/matomo/pull/17803", "id": 950215981, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk0Nzk5MTMz", "number": 17803, "title": "No content security policy", "user": { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-07-22T00:59:42Z", "updated_at": "2021-07-25T21:52:42Z", "closed_at": "2021-07-25T21:52:36Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": true, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17803", "html_url": "https://github.com/matomo-org/matomo/pull/17803", "diff_url": "https://github.com/matomo-org/matomo/pull/17803.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17803.patch", "merged_at": null }, "body": "### Description:\r\n\r\nTesting PR\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17803/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17802", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17802/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17802/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17802/events", "html_url": "https://github.com/matomo-org/matomo/pull/17802", "id": 950206521, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk0NzkxMDky", "number": 17802, "title": "PoC: React migration path", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 139760960, "node_id": "MDU6TGFiZWwxMzk3NjA5NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/RFC", "name": "RFC", "color": "009800", "default": false, "description": "Indicates the issue is a request for comments where the author is looking for feedback." }, { "id": 2831840267, "node_id": "MDU6TGFiZWwyODMxODQwMjY3", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Do%20not%20close", "name": "Do not close", "color": "0e8a16", "default": false, "description": "Pull requests with this label won't be marked as stale by the Close Stale Issues action" } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-07-22T00:33:30Z", "updated_at": "2021-08-25T22:58:33Z", "closed_at": "2021-08-25T22:58:33Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17802", "html_url": "https://github.com/matomo-org/matomo/pull/17802", "diff_url": "https://github.com/matomo-org/matomo/pull/17802.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17802.patch", "merged_at": null }, "body": "### Description:\r\n\r\nThis is a complete (for some definition of \"complete\") PoC of using React to replace AngularJS directives & components in Matomo, while still running alongside AngularJS.\r\n\r\nLike the Angular PoC it migrates the site selector, enriched headline and content block directives, + any related directives/components.\r\n\r\n**Current State**\r\n\r\nThis one is more functional than the Angular proof of concept. The site selector works without errors or (obvious) issues, as do the other components. It took much less time to code. The only part that is unfinished is the build system, which was not already prepackaged as with Angular. It works, but is not too flexible and will need to be modified (which is doable and shouldn't be too time consuming, but it is more work than w/ Angular).\r\n\r\n### Core Concepts\r\n\r\nSame as with Angular, components are used here to encapsulate parts of the UI. The only difference is where Angular allows many different options, components, directives, pipes, in React there are only components. Everything you can do in Angular you can do in React, it just takes less thinking. For example, the 'focus-anywhere-but-here' directive in the Angular poc is just a component here. The translate pipe in the Angular poc doesn't even exist, we just use `_pk_translate()` directly (since it's all javascript this is fine).\r\n\r\nThe small footprint and set of responsibilities React covers means we can implement other things how we want or need, and do not need to be afraid of it breaking in a future release. Routing, for example, is completely out of scope of React. There are libraries to deal with it, but we don't have to use them. And if we keep our existing routing, and update React, nothing will break.\r\n\r\nThis also goes for having a solution to automatically initialize react components in twig templates. If we choose to keep that part of matomo, and create such a mechanism, updating react is very unlikely to break it. On the other hand, Angular has already deprecated entryComponents, so we have reason to fear future Angular releases.\r\n\r\nAnother thing to note is that services aren't a special thing here. It's all just javascript, so we create a class for the service and create a new instance to consume it or consume a singleton, as we would in php. Nothing special needed to mark something as a \"service\".\r\n\r\nFinally, this isn't really a React thing, but with companion libraries like redux can allow us to separate component state (what is owned by the component) from application state (what must be kept in sync across components). None of this is truly needed though, and matomo probably doesn't need it.\r\n\r\n### Modularization\r\n\r\nModularization is achieved in a way similar to the Angular PoC. Each plugin can have a react subfolder that compiles to a UMD. They are loaded if the plugin is activated.\r\n\r\nUnlike the ANgular PoC, loading order does not matter, and we do not need to bootstrap the application with any extra modules.\r\n\r\nAgain two commands are supplied:\r\n\r\n- generate:react: generates a blank library in a plugin\r\n- corereact:build: builds one or more plugins\r\n\r\nIt's not needed to use these commands as it is with Angular, but it's far more convenient. Any library that compiles with our webpack config can be used. And you can run the build script directly in any react folder if you want.\r\n\r\n### The Build System\r\n\r\nThe build system here uses webpack. It uses an ejected configuration from a create-react-app app modified for this specific use case. Unfortunately, our use case is far away from most react apps, so this may not have been the best approach.\r\n\r\nCurrently it works, but there's a lot there that we don't need, and a lot we'd need to modify to make sure we have optimal builds (for example, right now parts of core js appear in every plugin build, even though we include it in CoreReact.php).\r\n\r\n### Migration Path\r\n\r\nThe migration path is the same as in the Angular PoC. The process of rewriting is the same and we maintain backwards compatibility in the same way. We just don't need to do any sort of downgrading.\r\n\r\n### Other implementation details/challenges\r\n\r\n* Build system: Again, the build system is the primary challenge. We'd need to spend some time making sure it works how we want. This can be done in parallel to conversion work.\r\n\r\n* Transclusion: Adding angular elements to React is not straightforward. React elements are wrapped HTMLElements, created via the `React.createElement` function. The elements angular creates when transcluding and rendering are not wrapped this way and I can't see a way to wrap them after they are created. So we can't just add them via the normal React mechanism (`this.props.children`). Instead there is a TranscludeTarget component that manually appends them to a node. This approach appears to work, but I'm unsure whether it will work w/ more complicated transcludes.\r\n\r\n* Keeping twig templates: We can sort of do this, but not to the extent we currently do. Right now we could, for example, add a <div piwik-content-block> element and add regular markup inside that we want to be rendered a certain way. We can't do this in React. With AngularJS the inside elements are just normal markup. But in React (as in Angular), everything has to be JSX, we can't really output any HTML and have it automagically turn into react components. The best we can do is something like:\r\n ```\r\n <div init-react=\"HeatmapSessionRecording.ManageHeatmapsComponent\" .../>\r\n ```\r\n then have React initialize it. Any HTML we put in side would be lost, unless we keep the same transclusion hack that's there now.\r\n\r\n### Pros & Cons\r\n\r\n* Pros\r\n\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Using babel to provide modern ES... features makes development faster just like TypeScript.\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Coding in React seems to be faster than with Angular because there's less choice, but the same amount of power.\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb We don't have to do things in a prescribed way and still be confident it won't break if we update React (unlike angular).\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Module structures end up being a lot simpler. Just folders with JavaScript that get bundled into one file.\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb (Like angular) OOP in the frontend.\r\n\r\n* Cons\r\n\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb The build system will need an investment of time.\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb The twig templates will also have to be converted mostly which means more time spent.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17802/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17802/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17801", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17801/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17801/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17801/events", "html_url": "https://github.com/matomo-org/matomo/pull/17801", "id": 949919071, "node_id": "MDExOlB1bGxSZXF1ZXN0Njk0NTQ1MDc0", "number": 17801, "title": "If visit local time is null do not fail in report fetch API method", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-07-21T16:58:02Z", "updated_at": "2021-08-04T00:28:16Z", "closed_at": "2021-08-04T00:28:16Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17801", "html_url": "https://github.com/matomo-org/matomo/pull/17801", "diff_url": "https://github.com/matomo-org/matomo/pull/17801.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17801.patch", "merged_at": "2021-08-04T00:28:15Z" }, "body": "### Description:\r\n\r\nFixes #17796 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17801/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17800", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17800/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17800/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17800/events", "html_url": "https://github.com/matomo-org/matomo/pull/17800", "id": 949223286, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkzOTYyOTQ3", "number": 17800, "title": "do not introduce breaking change in Mail.send", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-21T00:54:03Z", "updated_at": "2021-07-26T04:27:54Z", "closed_at": "2021-07-21T13:50:01Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17800", "html_url": "https://github.com/matomo-org/matomo/pull/17800", "diff_url": "https://github.com/matomo-org/matomo/pull/17800.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17800.patch", "merged_at": "2021-07-21T13:50:01Z" }, "body": "### Description:\r\n\r\nPlease include a description of this change and which issue it fixes. If no issue exists yet please include context and what problem it solves.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17800/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17799", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17799/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17799/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17799/events", "html_url": "https://github.com/matomo-org/matomo/issues/17799", "id": 948787544, "node_id": "MDU6SXNzdWU5NDg3ODc1NDQ=", "number": 17799, "title": "Getting Fatal Error while archiving after Matomo 4 Upgrade", "user": { "login": "jbrule", "id": 765798, "node_id": "MDQ6VXNlcjc2NTc5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/765798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbrule", "html_url": "https://github.com/jbrule", "followers_url": "https://api.github.com/users/jbrule/followers", "following_url": "https://api.github.com/users/jbrule/following{/other_user}", "gists_url": "https://api.github.com/users/jbrule/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbrule/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbrule/subscriptions", "organizations_url": "https://api.github.com/users/jbrule/orgs", "repos_url": "https://api.github.com/users/jbrule/repos", "events_url": "https://api.github.com/users/jbrule/events{/privacy}", "received_events_url": "https://api.github.com/users/jbrule/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 8, "created_at": "2021-07-20T15:41:44Z", "updated_at": "2021-07-26T21:11:44Z", "closed_at": "2021-07-25T21:38:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am getting the error below while the archive task is running via cron. It looks like there are a log of archive invalidations so a lot of dates are running. My PHP memory limit is set to 2048MB which is pretty high. I can see in top that over time this archive job keeps consuming more and more memory until it fails with this message.\r\n\r\nVersion: 4.3.1\r\nPHP: 7.2.24\r\nRHEL7\r\n\r\n```\r\nPHP Fatal error: Allowed memory size of 2147483648 bytes exhausted (tried to allocate 65536 bytes) in /apps/apache/www/production/matomo/core/DataAccess/Model.php on line 761\r\nERROR [2021-07-20 14:22:03] 36417 Fatal error encountered: /apps/apache/www/production/matomo/core/DataAccess/Model.php(761): Allowed memory size of 2147483648 bytes exhausted (tried to allocate 65536 bytes)\r\nMatomo encountered an error: Allowed memory size of 2147483648 bytes exhausted (tried to allocate 65536 bytes) (which lead to: Error: array (\r\n 'type' => 1,\r\n 'message' => 'Allowed memory size of 2147483648 bytes exhausted (tried to allocate 65536 bytes)',\r\n 'file' => '/apps/apache/www/production/matomo/core/DataAccess/Model.php',\r\n 'line' => 761,\r\n 'backtrace' => ' on /apps/apache/www/production/matomo/core/DataAccess/Model.php(761)\r\n',\r\n))\r\n```", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17799/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17798", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17798/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17798/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17798/events", "html_url": "https://github.com/matomo-org/matomo/pull/17798", "id": 948212798, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkzMDg0MzI1", "number": 17798, "title": "Set CSP header to prevent XSS", "user": { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 15, "created_at": "2021-07-20T03:26:02Z", "updated_at": "2021-10-06T06:27:19Z", "closed_at": "2021-08-12T12:35:14Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17798", "html_url": "https://github.com/matomo-org/matomo/pull/17798", "diff_url": "https://github.com/matomo-org/matomo/pull/17798.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17798.patch", "merged_at": "2021-08-12T12:35:14Z" }, "body": "### Description:\r\n\r\nFixes #17773 by setting a Content-Security-Policy which is fairly loose at this stage.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17798/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17798/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17797", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17797/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17797/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17797/events", "html_url": "https://github.com/matomo-org/matomo/issues/17797", "id": 947940256, "node_id": "MDU6SXNzdWU5NDc5NDAyNTY=", "number": 17797, "title": "core:archive fails with \"This user has super user access.\" error response", "user": { "login": "ulope", "id": 55078, "node_id": "MDQ6VXNlcjU1MDc4", "avatar_url": "https://avatars.githubusercontent.com/u/55078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ulope", "html_url": "https://github.com/ulope", "followers_url": "https://api.github.com/users/ulope/followers", "following_url": "https://api.github.com/users/ulope/following{/other_user}", "gists_url": "https://api.github.com/users/ulope/gists{/gist_id}", "starred_url": "https://api.github.com/users/ulope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ulope/subscriptions", "organizations_url": "https://api.github.com/users/ulope/orgs", "repos_url": "https://api.github.com/users/ulope/repos", "events_url": "https://api.github.com/users/ulope/events{/privacy}", "received_events_url": "https://api.github.com/users/ulope/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 1592987658, "node_id": "MDU6TGFiZWwxNTkyOTg3NjU4", "url": "https://api.github.com/repos/matomo-org/matomo/labels/invalid", "name": "invalid", "color": "2f378c", "default": true, "description": "Indicates that an issue or pull request is no longer relevant." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 3, "created_at": "2021-07-19T19:03:34Z", "updated_at": "2021-09-12T21:56:10Z", "closed_at": "2021-07-20T14:25:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behavior\r\nRunning `./console core:archive` to succeed without errors\r\n\r\n## Current Behavior\r\n`core:archive` fails with:\r\n```\r\nDEBUG [2021-07-19 14:52:05] 1 Execute HTTP API request: https://XXXXXXXX/?module=API&method=CoreAdminHome.archiveReports&idSite=1&period=year&date=2021-01-01&format=json&trigger=archivephp&\r\nERROR [2021-07-19 14:52:06] 1 Got invalid response from API request: ?module=API&method=CoreAdminHome.archiveReports&idSite=1&period=year&date=2021-01-01&format=json&trigger=archivephp. Response was \r\n```\r\n\r\n```\r\nINFO [2021-07-19 14:52:06] 1 '<!DOCTYPE html>\r\n <html>\r\n <head>\r\n <meta charset=\"utf-8\">\r\n <meta name=\"robots\" content=\"noindex,nofollow\">\r\n <title>Matomo &rsaquo; Error</title>\r\n <link rel=\"shortcut icon\" href=\"misc/user/favicon.png\" />\r\n <link rel=\"stylesheet\" type=\"text/css\" href=\"plugins/Morpheus/stylesheets/simple_structure.css\" />\r\n </head>\r\n <body id=\"simple\">\r\n\r\n <div class=\"logo\">\r\n <img title=\"Matomo\" alt=\"Matomo\" style=\"height: 40px;\" src=\"https://XXXXXXXX/plugins/Morpheus/images/logo.svg\"/>\r\n </div>\r\n\r\n <div class=\"box\">\r\n\r\n <div class=\"header\">\r\n <h1>An error occurred</h1>\r\n </div>\r\n\r\n <div class=\"content\"><h2>This user has super user access. For embedding widgets super user token auths are not allowed. <a href=\"https://matomo.org//faq_147/\" rel=\"noreferrer noopener\">See our faq for more information.</a></h2>\r\n <p><a href=\"javascript:window.history.back();\">Go Back</a> | <a href=\"index.php\">Go to Matomo</a></p> <ul>\r\n <li><a rel=\"noreferrer noopener\" target=\"_blank\" href=\"https://matomo.org\">Matomo.org homepage</a></li>\r\n <li><a rel=\"noreferrer noopener\" target=\"_blank\" href=\"https://matomo.org/faq/\">Frequently Asked Questions</a></li>\r\n <li><a rel=\"noreferrer noopener\" target=\"_blank\" href=\"https://matomo.org/docs/\">User Guides</a></li>\r\n <li><a rel=\"noreferrer noopener\" target=\"_blank\" href=\"https://forum.matomo.org/\">Matomo Forums</a></li>\r\n <li><a rel=\"noreferrer noopener\" target=\"_blank\" href=\"https://matomo.org/support/?pk_campaign=App_AnErrorOccured&p&pk_medium=ProfessionalServicesLink\">Professional Support for Matomo</a></li>\r\n </ul> </div>\r\n\r\n <div class=\"footer\">\r\n <a href=\"index.php\">&laquo; Back to Matomo</a>\r\n </div>\r\n\r\n </div>\r\n </body>\r\n </html>'\r\n```\r\n\r\nThe matomo log also shows:\r\n```\r\nNOTICE: PHP message: Error in Matomo: This user has super user access. For embedding widgets super user token auths are not allowed. See our faq for more information.\r\n```\r\n\r\n\r\n## Steps to Reproduce (for Bugs)\r\n(Not sure if reproducible)\r\n1. Install fresh matomo 4.3.1 \r\n2. Add one hit manually\r\n3. Run `core:archive` once (worked successfully)\r\n4. Run it again 2 days later, see error above\r\n\r\n## Your Environment\r\n\r\n* Matomo Version: 4.3.1\r\n* PHP Version: 7.4.21\r\n* Server Operating System: ubuntu 20.04 / docker image: `matomo:4.3-fpm`\r\n* Additionally installed plugins: - \r\n* Browser: - \r\n* Operating System: -\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17797/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17797/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17796", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17796/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17796/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17796/events", "html_url": "https://github.com/matomo-org/matomo/issues/17796", "id": 947937145, "node_id": "MDU6SXNzdWU5NDc5MzcxNDU=", "number": 17796, "title": "Recent 4.3.1 Upgrade. Getting Date format must be: YYYY-MM-DD, or 'today' or 'yesterday' or any keyword supported by the strtotime function", "user": { "login": "jbrule", "id": 765798, "node_id": "MDQ6VXNlcjc2NTc5OA==", "avatar_url": "https://avatars.githubusercontent.com/u/765798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbrule", "html_url": "https://github.com/jbrule", "followers_url": "https://api.github.com/users/jbrule/followers", "following_url": "https://api.github.com/users/jbrule/following{/other_user}", "gists_url": "https://api.github.com/users/jbrule/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbrule/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbrule/subscriptions", "organizations_url": "https://api.github.com/users/jbrule/orgs", "repos_url": "https://api.github.com/users/jbrule/repos", "events_url": "https://api.github.com/users/jbrule/events{/privacy}", "received_events_url": "https://api.github.com/users/jbrule/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 13, "created_at": "2021-07-19T18:59:58Z", "updated_at": "2021-07-21T23:00:41Z", "closed_at": "2021-07-21T23:00:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Upgraded from 3.13.6 -> 4.3.1\r\n\r\nI recently upgraded to 4.3.1 and most things are working well. I am however getting the following error when querying monthly Time states for some sites. FYI. The the initial archive after upgrade is still running (via cron). Other sites works for this particular time frame. Any tips?\r\n\r\n```\r\nDate format must be: YYYY-MM-DD, or 'today' or 'yesterday' or any keyword supported by the strtotime function (see http://php.net/strtotime for more information):\r\n```\r\nI see some NULL ```visitor_localtime``` entries in my ```log_visit``` table but it is not consistent as those sites doesn't error out when retrieving the report\r\n\r\n![Matomo-4 3 1 Error](https://user-images.githubusercontent.com/765798/126212513-20eb57d1-784f-4515-99f6-5f1ad870841e.png)\r\n![Matomo Diagnostics](https://user-images.githubusercontent.com/765798/126212519-1b4bd38b-d34e-4430-afe7-faf9f23e1080.png)\r\n\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17796/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17795", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17795/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17795/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17795/events", "html_url": "https://github.com/matomo-org/matomo/pull/17795", "id": 947850915, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkyNzc1NDcx", "number": 17795, "title": "Support filter_truncate parameter for MultiSites API", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-19T17:03:29Z", "updated_at": "2021-07-19T18:00:41Z", "closed_at": "2021-07-19T18:00:40Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17795", "html_url": "https://github.com/matomo-org/matomo/pull/17795", "diff_url": "https://github.com/matomo-org/matomo/pull/17795.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17795.patch", "merged_at": "2021-07-19T18:00:40Z" }, "body": "### Description:\r\n\r\nfixes #17759 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17795/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17795/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17794", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17794/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17794/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17794/events", "html_url": "https://github.com/matomo-org/matomo/issues/17794", "id": 947777439, "node_id": "MDU6SXNzdWU5NDc3Nzc0Mzk=", "number": 17794, "title": "Add button \"duplicate report\" to Email Reports", "user": { "login": "ziegenberg", "id": 856916, "node_id": "MDQ6VXNlcjg1NjkxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/856916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ziegenberg", "html_url": "https://github.com/ziegenberg", "followers_url": "https://api.github.com/users/ziegenberg/followers", "following_url": "https://api.github.com/users/ziegenberg/following{/other_user}", "gists_url": "https://api.github.com/users/ziegenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/ziegenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ziegenberg/subscriptions", "organizations_url": "https://api.github.com/users/ziegenberg/orgs", "repos_url": "https://api.github.com/users/ziegenberg/repos", "events_url": "https://api.github.com/users/ziegenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/ziegenberg/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 137043266, "node_id": "MDU6TGFiZWwxMzcwNDMyNjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Usability", "name": "c: Usability", "color": "bfe5bf", "default": false, "description": "For issues that let users achieve a defined goal more effectively or efficiently." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 6, "created_at": "2021-07-19T15:32:38Z", "updated_at": "2022-01-17T18:34:30Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\nWhen creating a similar email report to an already existing one in Matomo, it would be a nice usability enhancement if you could just duplicate a report and modify it slightly afterwards.\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n\r\n## Summary\r\n<!-- Please provide a detailed summary of the feature -->\r\n\r\nWhen creating and scheduling many reports or re-creating an existing report with slightly altered details, it is cumbersome and error-prone to have the old report open in one browser tab and create the new report in a second tab. Duplicating existing reports and going from there to alter them slightly would be a greater usability enhancement.\r\n\r\nThis is a mockup of a possible UI for this feature. There needs to be a better icon; I just select one that somewhat fits.\r\n\r\n![Screenshot from 2021-07-19 17-22-26](https://user-images.githubusercontent.com/856916/126185783-ca273ab6-d7c4-4200-a960-d931bdf073e0.png)\r\n\r\n\r\n## Your Environment\r\n<!-- Include as many relevant details about the environment when applicable -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.3.1\r\n* PHP Version: 8.0.8\r\n* Server Operating System: CentOS 8.3\r\n* Additionally installed plugins:\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17794/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17794/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17793", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17793/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17793/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17793/events", "html_url": "https://github.com/matomo-org/matomo/pull/17793", "id": 947649559, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkyNjAzNjEw", "number": 17793, "title": "Temporarily let update test fail directly to avoid aborted tests on PHP7.4 and above", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-19T13:22:26Z", "updated_at": "2021-07-19T17:09:07Z", "closed_at": "2021-07-19T17:09:06Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17793", "html_url": "https://github.com/matomo-org/matomo/pull/17793", "diff_url": "https://github.com/matomo-org/matomo/pull/17793.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17793.patch", "merged_at": "2021-07-19T17:09:06Z" }, "body": "till someone has some time to work on #17721 \r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17793/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17793/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17792", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17792/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17792/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17792/events", "html_url": "https://github.com/matomo-org/matomo/pull/17792", "id": 947487614, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkyNDYxNjQ0", "number": 17792, "title": "Updates device detector to 4.3.0", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-19T10:04:48Z", "updated_at": "2021-07-26T04:33:42Z", "closed_at": "2021-07-19T10:05:47Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17792", "html_url": "https://github.com/matomo-org/matomo/pull/17792", "diff_url": "https://github.com/matomo-org/matomo/pull/17792.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17792.patch", "merged_at": "2021-07-19T10:05:46Z" }, "body": "### Description:\r\n\r\n\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17792/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17792/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17791", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17791/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17791/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17791/events", "html_url": "https://github.com/matomo-org/matomo/issues/17791", "id": 947280826, "node_id": "MDU6SXNzdWU5NDcyODA4MjY=", "number": 17791, "title": "Add tooltip or help text to \"Email Reports\" page", "user": { "login": "Starker3", "id": 20905821, "node_id": "MDQ6VXNlcjIwOTA1ODIx", "avatar_url": "https://avatars.githubusercontent.com/u/20905821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Starker3", "html_url": "https://github.com/Starker3", "followers_url": "https://api.github.com/users/Starker3/followers", "following_url": "https://api.github.com/users/Starker3/following{/other_user}", "gists_url": "https://api.github.com/users/Starker3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Starker3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Starker3/subscriptions", "organizations_url": "https://api.github.com/users/Starker3/orgs", "repos_url": "https://api.github.com/users/Starker3/repos", "events_url": "https://api.github.com/users/Starker3/events{/privacy}", "received_events_url": "https://api.github.com/users/Starker3/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." }, { "id": 137043266, "node_id": "MDU6TGFiZWwxMzcwNDMyNjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Usability", "name": "c: Usability", "color": "bfe5bf", "default": false, "description": "For issues that let users achieve a defined goal more effectively or efficiently." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-07-19T05:30:02Z", "updated_at": "2021-07-19T21:33:30Z", "closed_at": "2021-07-19T21:33:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\nCurrently when you create a new Email Report (Or for existing reports) you have the option to `Download` the report or the `Send report now`\r\nHowever, what users may not always realise is that the Email Report will be sent using the both the period and dates selected in the Date Selector.\r\n\r\nWe should add either a small text box somewhere on the page or add a tooltip to the \"Download\" and \"Send report now\" links to indicate that the dates and periods currently in the Date Selector will be used for the report.\r\n\r\nFor example:\r\n![image](https://user-images.githubusercontent.com/20905821/126107532-ecafb0d5-aeef-450b-85ae-9b2d3d026134.png)\r\n\r\nAlternatively help text that is displayed when hovering over the links.\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17791/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17791/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17790", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17790/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17790/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17790/events", "html_url": "https://github.com/matomo-org/matomo/pull/17790", "id": 947162657, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkyMTg0NTk0", "number": 17790, "title": "When reading IP address, do not ignore remote_addr if reading the last ip in proxy header lists", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-19T01:07:32Z", "updated_at": "2021-07-28T01:55:34Z", "closed_at": "2021-07-20T02:29:38Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17790", "html_url": "https://github.com/matomo-org/matomo/pull/17790", "diff_url": "https://github.com/matomo-org/matomo/pull/17790.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17790.patch", "merged_at": "2021-07-20T02:29:38Z" }, "body": "### Description:\r\n\r\nPlease include a description of this change and which issue it fixes. If no issue exists yet please include context and what problem it solves.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17790/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17789", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17789/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17789/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17789/events", "html_url": "https://github.com/matomo-org/matomo/pull/17789", "id": 947135898, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkyMTYzMzYx", "number": 17789, "title": "Make error messages not leak potentially sensitive information when db connection fails", "user": { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370581, "node_id": "MDU6TGFiZWwxMTIzNzA1ODE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Security", "name": "c: Security", "color": "fad8c7", "default": false, "description": "For issues that make Matomo more secure. Please report issues through HackerOne and not in Github." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 1, "created_at": "2021-07-18T23:10:07Z", "updated_at": "2021-07-28T01:48:32Z", "closed_at": "2021-07-19T18:21:20Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17789", "html_url": "https://github.com/matomo-org/matomo/pull/17789", "diff_url": "https://github.com/matomo-org/matomo/pull/17789.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17789.patch", "merged_at": "2021-07-19T18:21:20Z" }, "body": "### Description:\r\n\r\nImprove DB connection issue messages and provide framework for later improvements if any.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17789/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17789/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17788", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17788/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17788/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17788/events", "html_url": "https://github.com/matomo-org/matomo/pull/17788", "id": 947110115, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkyMTQzNTc1", "number": 17788, "title": "do not try and set mysqli ssl option through mysqli_options since it is set later via mysqli_ssl_set", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-18T20:17:21Z", "updated_at": "2021-07-19T07:56:34Z", "closed_at": "2021-07-19T07:56:33Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17788", "html_url": "https://github.com/matomo-org/matomo/pull/17788", "diff_url": "https://github.com/matomo-org/matomo/pull/17788.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17788.patch", "merged_at": "2021-07-19T07:56:33Z" }, "body": "### Description:\r\n\r\nFixes #17782\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17788/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17787", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17787/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17787/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17787/events", "html_url": "https://github.com/matomo-org/matomo/issues/17787", "id": 946823505, "node_id": "MDU6SXNzdWU5NDY4MjM1MDU=", "number": 17787, "title": "Javascript console error when clicking Install routine: Download System Check button", "user": { "login": "math-GH", "id": 1645099, "node_id": "MDQ6VXNlcjE2NDUwOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1645099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/math-GH", "html_url": "https://github.com/math-GH", "followers_url": "https://api.github.com/users/math-GH/followers", "following_url": "https://api.github.com/users/math-GH/following{/other_user}", "gists_url": "https://api.github.com/users/math-GH/gists{/gist_id}", "starred_url": "https://api.github.com/users/math-GH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/math-GH/subscriptions", "organizations_url": "https://api.github.com/users/math-GH/orgs", "repos_url": "https://api.github.com/users/math-GH/repos", "events_url": "https://api.github.com/users/math-GH/events{/privacy}", "received_events_url": "https://api.github.com/users/math-GH/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": { "login": "geekdenz", "id": 479499, "node_id": "MDQ6VXNlcjQ3OTQ5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/479499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekdenz", "html_url": "https://github.com/geekdenz", "followers_url": "https://api.github.com/users/geekdenz/followers", "following_url": "https://api.github.com/users/geekdenz/following{/other_user}", "gists_url": "https://api.github.com/users/geekdenz/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekdenz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekdenz/subscriptions", "organizations_url": "https://api.github.com/users/geekdenz/orgs", "repos_url": "https://api.github.com/users/geekdenz/repos", "events_url": "https://api.github.com/users/geekdenz/events{/privacy}", "received_events_url": "https://api.github.com/users/geekdenz/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "geekdenz", "id": 479499, "node_id": "MDQ6VXNlcjQ3OTQ5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/479499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekdenz", "html_url": "https://github.com/geekdenz", "followers_url": "https://api.github.com/users/geekdenz/followers", "following_url": "https://api.github.com/users/geekdenz/following{/other_user}", "gists_url": "https://api.github.com/users/geekdenz/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekdenz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekdenz/subscriptions", "organizations_url": "https://api.github.com/users/geekdenz/orgs", "repos_url": "https://api.github.com/users/geekdenz/repos", "events_url": "https://api.github.com/users/geekdenz/events{/privacy}", "received_events_url": "https://api.github.com/users/geekdenz/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 2, "created_at": "2021-07-17T13:22:31Z", "updated_at": "2021-10-06T02:33:59Z", "closed_at": "2021-08-16T10:12:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Install routine\r\nPage 2\r\n\r\nButton \"Download System Check\"\r\n\r\nDoes not work. JavaScript error.\r\n![grafik](https://user-images.githubusercontent.com/1645099/126038323-dcbde0eb-c665-4fe1-be5f-402f01872659.png)\r\n\r\n\r\n## Expected Behavior\r\ndownload works without an JavaScript error\r\n\r\n## Current Behavior\r\ndownload does not work\r\n\r\n\r\n## Your Environment\r\n* Matomo Version: 4.3.1\r\n* Browser: Firefox 90\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17787/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17787/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17786", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17786/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17786/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17786/events", "html_url": "https://github.com/matomo-org/matomo/issues/17786", "id": 946820903, "node_id": "MDU6SXNzdWU5NDY4MjA5MDM=", "number": 17786, "title": "Install routine: language changer line height improvements", "user": { "login": "math-GH", "id": 1645099, "node_id": "MDQ6VXNlcjE2NDUwOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1645099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/math-GH", "html_url": "https://github.com/math-GH", "followers_url": "https://api.github.com/users/math-GH/followers", "following_url": "https://api.github.com/users/math-GH/following{/other_user}", "gists_url": "https://api.github.com/users/math-GH/gists{/gist_id}", "starred_url": "https://api.github.com/users/math-GH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/math-GH/subscriptions", "organizations_url": "https://api.github.com/users/math-GH/orgs", "repos_url": "https://api.github.com/users/math-GH/repos", "events_url": "https://api.github.com/users/math-GH/events{/privacy}", "received_events_url": "https://api.github.com/users/math-GH/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 171063645, "node_id": "MDU6TGFiZWwxNzEwNjM2NDU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Design%20/%20UI", "name": "c: Design / UI", "color": "006b75", "default": false, "description": "For issues that impact Matomo's user interface or the design overall." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 1, "created_at": "2021-07-17T13:06:01Z", "updated_at": "2021-11-29T01:08:15Z", "closed_at": "2021-10-18T08:50:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "![grafik](https://user-images.githubusercontent.com/1645099/126037769-f5eb0732-56ba-4085-8e59-7f3f7e10ad47.png)\r\n\r\n\r\n\r\n## Expected Behavior\r\nsmaller gap between line 1 and 2\r\n\r\n## Current Behavior\r\nbig gap (line-height: 30px)\r\n\r\n![grafik](https://user-images.githubusercontent.com/1645099/126037811-a5f267fd-fa18-4296-9206-33be019befc9.png)\r\n\r\n\r\n## Possible Solution\r\n```\r\n.menuDropdown .items .item {\r\n padding: 12px 25px 12px 6px !important;\r\n line-height: 16px;\r\n}\r\n```\r\n![grafik](https://user-images.githubusercontent.com/1645099/126037908-2972c147-6ceb-41d0-8081-f90a3e424db6.png)\r\n\r\n\r\n## Your Environment\r\n\r\n* Matomo Version: 4.3.1\r\n* Browser: Firefox 90\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17786/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17785", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17785/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17785/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17785/events", "html_url": "https://github.com/matomo-org/matomo/issues/17785", "id": 946817020, "node_id": "MDU6SXNzdWU5NDY4MTcwMjA=", "number": 17785, "title": "Install routine UI: improve text contrast", "user": { "login": "math-GH", "id": 1645099, "node_id": "MDQ6VXNlcjE2NDUwOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1645099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/math-GH", "html_url": "https://github.com/math-GH", "followers_url": "https://api.github.com/users/math-GH/followers", "following_url": "https://api.github.com/users/math-GH/following{/other_user}", "gists_url": "https://api.github.com/users/math-GH/gists{/gist_id}", "starred_url": "https://api.github.com/users/math-GH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/math-GH/subscriptions", "organizations_url": "https://api.github.com/users/math-GH/orgs", "repos_url": "https://api.github.com/users/math-GH/repos", "events_url": "https://api.github.com/users/math-GH/events{/privacy}", "received_events_url": "https://api.github.com/users/math-GH/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 171063645, "node_id": "MDU6TGFiZWwxNzEwNjM2NDU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Design%20/%20UI", "name": "c: Design / UI", "color": "006b75", "default": false, "description": "For issues that impact Matomo's user interface or the design overall." }, { "id": 313159626, "node_id": "MDU6TGFiZWwzMTMxNTk2MjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Accessibility", "name": "c: Accessibility", "color": "bfe5bf", "default": false, "description": "When something is not usable for a certain group (eg missing contrast) or devices (eg smartphones)." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-07-17T12:42:23Z", "updated_at": "2021-11-29T00:56:11Z", "closed_at": "2021-10-28T13:01:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Install routine: text color\r\n\r\n![grafik](https://user-images.githubusercontent.com/1645099/126037095-b39e5f34-1b9c-4585-bc8d-99295b1439e2.png)\r\n(checked with the development tool in Firefox)\r\n\r\n## Expected Behavior\r\ndarker grey (better: black), that has a much better contrast\r\n\r\n## Current Behavior\r\ngrey font color with low contrast.\r\nfont-color: #858585 (contrast ratio: 3.7)\r\n\r\n## Possible Solution\r\nfont-color: #757575 (contrast ratio: 4.5 => minimum ratio https://developer.mozilla.org/en-US/docs/Web/Accessibility/Understanding_WCAG/Perceivable/Color_contrast)\r\n\r\n\r\n\r\n## Your Environment\r\n* Matomo Version: 4.3.1\r\n* Browser: Firefox 90\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17785/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17785/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17784", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17784/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17784/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17784/events", "html_url": "https://github.com/matomo-org/matomo/issues/17784", "id": 946807062, "node_id": "MDU6SXNzdWU5NDY4MDcwNjI=", "number": 17784, "title": "Install routine: \"In case you are using an ad blocker, please ...\"", "user": { "login": "math-GH", "id": 1645099, "node_id": "MDQ6VXNlcjE2NDUwOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1645099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/math-GH", "html_url": "https://github.com/math-GH", "followers_url": "https://api.github.com/users/math-GH/followers", "following_url": "https://api.github.com/users/math-GH/following{/other_user}", "gists_url": "https://api.github.com/users/math-GH/gists{/gist_id}", "starred_url": "https://api.github.com/users/math-GH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/math-GH/subscriptions", "organizations_url": "https://api.github.com/users/math-GH/orgs", "repos_url": "https://api.github.com/users/math-GH/repos", "events_url": "https://api.github.com/users/math-GH/events{/privacy}", "received_events_url": "https://api.github.com/users/math-GH/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 171063645, "node_id": "MDU6TGFiZWwxNzEwNjM2NDU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Design%20/%20UI", "name": "c: Design / UI", "color": "006b75", "default": false, "description": "For issues that impact Matomo's user interface or the design overall." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 1, "created_at": "2021-07-17T11:39:52Z", "updated_at": "2021-10-15T14:15:28Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Install routine first page:\r\n\r\n![grafik](https://user-images.githubusercontent.com/1645099/126033841-6c475782-4610-49e0-a8af-762aeb615264.png)\r\n\r\nStep 2:\r\n![grafik](https://user-images.githubusercontent.com/1645099/126034076-3f07aa0c-42b7-4733-b314-54bb83b9b3ea.png)\r\n\r\n\r\n## Expected Behavior\r\na better UI. Show the message at the top with a modern UI.\r\n\r\n## Current Behavior\r\nlooks a little bit outdated\r\n\r\n## Possible Solution\r\n## Your Environment\r\n\r\n* Matomo Version: 4.3.1\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17784/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17784/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17783", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17783/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17783/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17783/events", "html_url": "https://github.com/matomo-org/matomo/pull/17783", "id": 946689870, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkxODIxOTk3", "number": 17783, "title": "[automatic translation update] Updated 29 strings in 1 languages (cs)", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-17T02:36:32Z", "updated_at": "2021-07-19T07:48:29Z", "closed_at": "2021-07-19T07:48:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17783", "html_url": "https://github.com/matomo-org/matomo/pull/17783", "diff_url": "https://github.com/matomo-org/matomo/pull/17783.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17783.patch", "merged_at": "2021-07-19T07:48:20Z" }, "body": "- Updated Czech (29 changes / 73% translated)\n\n\nHelp us translate Matomo in your language!\nSignup at https://www.transifex.com/matomo/matomo/\nIf you have any questions, get in touch with us at translations@matomo.org", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17783/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17782", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17782/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17782/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17782/events", "html_url": "https://github.com/matomo-org/matomo/issues/17782", "id": 946668173, "node_id": "MDU6SXNzdWU5NDY2NjgxNzM=", "number": 17782, "title": "in PHP 8.0, when enabling MySQL SSL, got a HTTP 500 ", "user": { "login": "robinverstrepen", "id": 1937069, "node_id": "MDQ6VXNlcjE5MzcwNjk=", "avatar_url": "https://avatars.githubusercontent.com/u/1937069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robinverstrepen", "html_url": "https://github.com/robinverstrepen", "followers_url": "https://api.github.com/users/robinverstrepen/followers", "following_url": "https://api.github.com/users/robinverstrepen/following{/other_user}", "gists_url": "https://api.github.com/users/robinverstrepen/gists{/gist_id}", "starred_url": "https://api.github.com/users/robinverstrepen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robinverstrepen/subscriptions", "organizations_url": "https://api.github.com/users/robinverstrepen/orgs", "repos_url": "https://api.github.com/users/robinverstrepen/repos", "events_url": "https://api.github.com/users/robinverstrepen/events{/privacy}", "received_events_url": "https://api.github.com/users/robinverstrepen/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 2, "created_at": "2021-07-17T00:36:54Z", "updated_at": "2021-07-26T05:02:18Z", "closed_at": "2021-07-19T07:56:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n<!-- Important: If this bug is regarding a premium plugin you purchased on plugins.matomo.org, please email shop@innocraft.com instead of creating a bug report here. -->\r\n\r\n## Expected Behavior\r\n<!-- When describing a bug, please tell us what should happen -->\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\nWorking matomo interface\r\n\r\n## Current Behavior\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\nHTTP error 500\r\n\r\n```\r\nPHP Fatal error: Uncaught TypeError: mysqli_options(): Argument #2 ($option) must be of type int, string given in /srv/matomo/libs/Zend/Db/Adapter/Mysqli.php:323\r\n\r\nStack trace:\r\n#0 /srv/matomo/libs/Zend/Db/Adapter/Mysqli.php(323): mysqli_options(Object(mysqli), 'ssl_ca', '/srv/certs/aws-...')\r\n#1 /srv/matomo/core/Db/Adapter/Mysqli.php(81): Zend_Db_Adapter_Mysqli->_connect()\r\n#2 /srv/matomo/libs/Zend/Db/Adapter/Abstract.php(315): Piwik\\Db\\Adapter\\Mysqli->_connect()\r\n#3 /srv/matomo/core/Db/Adapter.php(51): Zend_Db_Adapter_Abstract->getConnection()\r\n#4 /srv/matomo/core/Db.php(156): Piwik\\Db\\Adapter::factory('MYSQLI', Array)\r\n#5 /srv/matomo/core/Db.php(55): Piwik\\Db::createDatabaseObject()\r\n#6 /srv/matomo/core/Db.php(297): Piwik\\Db::get()\r\n#7 /srv/matomo/core/Option.php(288): Piwik\\Db::fetchAll('SELECT option_v...')\r\n#8 /srv/matomo/core/Option.php(178): Piwik\\Option->autoload()\r\n#9 /srv/matomo/core/Option.php(48): Piwik\\Option->getValue('branding_use_cu...')\r\n#10 /srv/matomo/plugins/CoreAdminHome/CustomLogo.php(53): Piwik\\Option::get('branding_use_cu...')\r\n#11 /srv/matomo/plugins/CoreAdminHome/CustomLogo.php(68): Piwik\\Plugins\\CoreAdminHome\\CustomLogo->isEnabled()\r\n#12 /srv/matomo/core/ExceptionHandler.php(126): Piwik\\Plugins\\CoreAdminHome\\CustomLogo->hasSVGLogo()\r\n#13 /srv/matomo/core/ExceptionHandler.php(90): Piwik\\ExceptionHandler::getErrorResponse(Object(TypeError))\r\n#14 /srv/matomo/core/ExceptionHandler.php(42): Piwik\\ExceptionHandler::dieWithHtmlErrorPage(Object(TypeError))\r\n#15 [internal function]: Piwik\\ExceptionHandler::handleException(Object(TypeError))\r\n#16 {main}\r\n thrown in /srv/matomo/libs/Zend/Db/Adapter/Mysqli.php on line 323\r\n```\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\n\r\nComment line 323 in file /srv/matomo/libs/Zend/Db/Adapter/Mysqli.php\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. Use MySQL SSL config with MySQLi driver\r\n```\r\nadapter = \"MYSQLI\"\r\nenable_ssl = 1\r\nssl_ca = \"/srv/certs/aws-ca.crt\"\r\n```\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.3.1\r\n* PHP Version: 8.0.8\r\n* Server Operating System: CentOS 7\r\n* Additionally installed plugins: None\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17782/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17782/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17781", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17781/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17781/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17781/events", "html_url": "https://github.com/matomo-org/matomo/issues/17781", "id": 946166600, "node_id": "MDU6SXNzdWU5NDYxNjY2MDA=", "number": 17781, "title": "Page Overlay Plugin trying display a page that blocks being embedded in an i-frame", "user": { "login": "RadekKosiada", "id": 32394535, "node_id": "MDQ6VXNlcjMyMzk0NTM1", "avatar_url": "https://avatars.githubusercontent.com/u/32394535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RadekKosiada", "html_url": "https://github.com/RadekKosiada", "followers_url": "https://api.github.com/users/RadekKosiada/followers", "following_url": "https://api.github.com/users/RadekKosiada/following{/other_user}", "gists_url": "https://api.github.com/users/RadekKosiada/gists{/gist_id}", "starred_url": "https://api.github.com/users/RadekKosiada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RadekKosiada/subscriptions", "organizations_url": "https://api.github.com/users/RadekKosiada/orgs", "repos_url": "https://api.github.com/users/RadekKosiada/repos", "events_url": "https://api.github.com/users/RadekKosiada/events{/privacy}", "received_events_url": "https://api.github.com/users/RadekKosiada/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-07-16T10:42:16Z", "updated_at": "2021-07-16T12:34:13Z", "closed_at": "2021-07-16T12:34:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "We use Page Overlay Plugin on the page that blocks being displayed in an i-frame within the Plugin and so the whole Plugin doesn't work. We can't see the page, and on the right side it says 'Loading..'.\r\n\r\nWe cannot adjust the settings of the page due to the policy again clickjacking. \r\nCan we still use the Plugin, if the page cannot be displayed in the i-frame? \r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17781/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17781/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17780", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17780/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17780/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17780/events", "html_url": "https://github.com/matomo-org/matomo/issues/17780", "id": 946118193, "node_id": "MDU6SXNzdWU5NDYxMTgxOTM=", "number": 17780, "title": "JS tracker calls callback too early", "user": { "login": "SassNinja", "id": 19912475, "node_id": "MDQ6VXNlcjE5OTEyNDc1", "avatar_url": "https://avatars.githubusercontent.com/u/19912475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SassNinja", "html_url": "https://github.com/SassNinja", "followers_url": "https://api.github.com/users/SassNinja/followers", "following_url": "https://api.github.com/users/SassNinja/following{/other_user}", "gists_url": "https://api.github.com/users/SassNinja/gists{/gist_id}", "starred_url": "https://api.github.com/users/SassNinja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SassNinja/subscriptions", "organizations_url": "https://api.github.com/users/SassNinja/orgs", "repos_url": "https://api.github.com/users/SassNinja/repos", "events_url": "https://api.github.com/users/SassNinja/events{/privacy}", "received_events_url": "https://api.github.com/users/SassNinja/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 5, "created_at": "2021-07-16T09:38:20Z", "updated_at": "2021-07-27T12:23:23Z", "closed_at": "2021-07-18T20:13:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n<!-- Important: If this bug is regarding a premium plugin you purchased on plugins.matomo.org, please email shop@innocraft.com instead of creating a bug report here. -->\r\n\r\n## Expected Behavior\r\n<!-- When describing a bug, please tell us what should happen -->\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\nI expect when I provide a callback to `trackEvent`, it's called AFTER the tracking is done meaning there's no pending request.\r\n\r\n## Current Behavior\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\nWhen I pass a callback to `trackEvent` and immediately redirect the user once it's called, the request to matomo is still pending and therefore never finished.\r\n\r\n![matomo_callback_issue](https://user-images.githubusercontent.com/19912475/125927181-f4e0584a-139d-47f7-9c90-58ab7864f24e.png)\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\nNot sure, where exactly the origin of that problem comes from.\r\nAfter digging into the code I haven't found anything suspicious though the result is definitely wrong.\r\nI assume it's related to this part in the code:\r\nhttps://github.com/matomo-org/matomo/blob/fa66bc580852c2b098ba5ea7f7ba57048f258714/js/piwik.js#L2800\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. create a promise, track an event and pass the resolver as callback\r\n2. wait until the promise is resolved (meaning the callback is called) and the redirect to another page\r\n3. expect the matomo request being finished in the network panel in the browser dev tools\r\n\r\n```javascript\r\nconst trackEvent = () => {\r\n return new Promise(resolve => {\r\n window._paq.push(['trackEvent', 'category', 'action', undefined, undefined, undefined, resolve])\r\n })\r\n}\r\n\r\nconst redirect = async () => {\r\n await trackEvent()\r\n console.log('expect matomo request being finished')\r\n window.location.href = 'https://...'\r\n}\r\n\r\nredirect()\r\n```\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\nI'm redirecting the used to another website once he's done with a renewal. Therefore I cannot track anything on the target page but must track it right before redirecting him. This means I need to know when the matomo request is done to be sure everything is tracked before the current page is left.\r\n\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: latest (4.3.1)\r\n* PHP Version: 7.4.20\r\n* Server Operating System:\r\n* Additionally installed plugins:\r\n<!-- For UI Bugs please also tell us something about your environment -->\r\n* Browser: Chrome \r\n* Operating System: Mac OS\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17780/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17780/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17779", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17779/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17779/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17779/events", "html_url": "https://github.com/matomo-org/matomo/pull/17779", "id": 946068526, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkxMjk5MjM2", "number": 17779, "title": "Fix filter in UserCountry.getCountry for Map of Maps", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 2, "created_at": "2021-07-16T08:34:20Z", "updated_at": "2021-07-19T15:12:43Z", "closed_at": "2021-07-19T15:12:42Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17779", "html_url": "https://github.com/matomo-org/matomo/pull/17779", "diff_url": "https://github.com/matomo-org/matomo/pull/17779.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17779.patch", "merged_at": "2021-07-19T15:12:41Z" }, "body": "### Description:\r\n\r\nfixes #17776\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17779/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17779/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17778", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17778/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17778/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17778/events", "html_url": "https://github.com/matomo-org/matomo/pull/17778", "id": 946047109, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkxMjgxOTk4", "number": 17778, "title": "Throw a meaningful exception if a report does not support pivot feature", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-16T08:06:00Z", "updated_at": "2021-07-18T20:38:23Z", "closed_at": "2021-07-18T20:38:22Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17778", "html_url": "https://github.com/matomo-org/matomo/pull/17778", "diff_url": "https://github.com/matomo-org/matomo/pull/17778.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17778.patch", "merged_at": "2021-07-18T20:38:22Z" }, "body": "### Description:\r\n\r\nfixes #17775 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17778/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17777", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17777/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17777/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17777/events", "html_url": "https://github.com/matomo-org/matomo/pull/17777", "id": 945882944, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkxMTQ0NTk0", "number": 17777, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-16T02:14:58Z", "updated_at": "2021-07-28T01:47:21Z", "closed_at": "2021-07-16T07:15:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17777", "html_url": "https://github.com/matomo-org/matomo/pull/17777", "diff_url": "https://github.com/matomo-org/matomo/pull/17777.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17777.patch", "merged_at": "2021-07-16T07:15:38Z" }, "body": "Updated submodules:\n- plugins/AnonymousPiwikUsageMeasurement\n- plugins/TagManager\n- plugins/TrackingSpamPrevention\n- plugins/VisitorGenerator\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17777/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17777/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17776", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17776/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17776/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17776/events", "html_url": "https://github.com/matomo-org/matomo/issues/17776", "id": 945800567, "node_id": "MDU6SXNzdWU5NDU4MDA1Njc=", "number": 17776, "title": "Call to undefined method Piwik\\\\DataTable\\\\Map::getRowFromLabel() in plugins/UserCountry/API.php", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 1, "created_at": "2021-07-15T22:37:52Z", "updated_at": "2021-07-19T15:12:42Z", "closed_at": "2021-07-19T15:12:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "refs https://github.com/matomo-org/matomo/issues/13507\r\n\r\n> Error: {\"message\":\"Call to undefined method Piwik\\\\DataTable\\\\Map::getRowFromLabel()\",\"file\":\"plugins\\/UserCountry\\/API.php\",\"line\":46,\"request_id\":\"41b0e\",\"backtrace\":\" on plugins\\/UserCountry\\/API.php(46)\\n#0 [internal function]: Piwik\\\\Plugins\\\\UserCountry\\\\API->getCountry('all', 'day', 'last14', false)\\n#1 core\\/API\\/Proxy.php(244): call_user_func_array(Array, Array)\\n#2 core\\/Context.php(28): Piwik\\\\API\\\\Proxy->Piwik\\\\API\\\\{closure}()\\n#3 core\\/API\\/Proxy.php(335): Piwik\\\\Context::executeWithQueryParameters(Array, Object(Closure))\\n#4 core\\/API\\/Request.php(266): Piwik\\\\API\\\\Proxy->call('\\\\\\\\Piwik\\\\\\\\Plugins\\\\\\\\...', 'getCountry', Array)\\n#5 plugins\\/API\\/Controller.php(46): Piwik\\\\API\\\\Request->process()\\n#6 [internal function]: Piwik\\\\Plugins\\\\API\\\\Controller->index()\\n#7 core\\/FrontController.php(615): call_user_func_array(Array, Array)\\n#8 core\\/FrontController.php(167): Piwik\\\\FrontController->doDispatch('API', false, Array)\\n#9 core\\/dispatch.php(32): Piwik\\\\FrontController->dispatch()\\n#10 index.php(25): require_once('c...')\\n#11 {main}\",\"safemode_backtrace\":\"#0 [internal function]: Piwik\\\\Plugins\\\\Cloud\\\\Controller->safemode(Array)\\n#1 \\/core\\/FrontController.php(615): call_user_func_array(Array, Array)\\n#2 \\/core\\/FrontController.php(167): Piwik\\\\FrontController->doDispatch('Cloud', 'safemode', Array)\\n#3 \\/core\\/FrontController.php(98): Piwik\\\\FrontController->dispatch('CorePluginsAdmi...', 'safemode', Array)\\n#4 \\/core\\/FrontController.php(138): Piwik\\\\FrontController::(Array)\\n#5 \\/core\\/FrontController.php(188): Piwik\\\\FrontController::(Object(Error))\\n#6 \\/core\\/dispatch.php(32): Piwik\\\\FrontController->dispatch()\\n#7 \\/index.php(25): require_once('\\/c...')\\n#8 {main}\"}\r\n\r\n\r\n> ?token_auth=XYZANONYMIZED&module=API&method=Referrers.getReferrerType&method=UserCountry.getCountry&idSite=all&period=day&date=last14&segment=&format=json&filter_limit=-1\r\n\r\nNo referrer\r\n\r\nwill comment then this happens again.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17776/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17776/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17775", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17775/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17775/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17775/events", "html_url": "https://github.com/matomo-org/matomo/issues/17775", "id": 945799317, "node_id": "MDU6SXNzdWU5NDU3OTkzMTc=", "number": 17775, "title": "Call to a member function getSubtableDimension() on null in core/DataTable/Filter/PivotByDimension.php", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 1, "created_at": "2021-07-15T22:34:52Z", "updated_at": "2021-07-18T20:38:33Z", "closed_at": "2021-07-18T20:38:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "> Error: {\"message\":\"Call to a member function getSubtableDimension() on null\",\"file\":\"/core\\/DataTable\\/Filter\\/PivotByDimension.php\",\"line\":354,\"request_id\":\"d24dc\",\"backtrace\":\" on /core\\/DataTable\\/Filter\\/PivotByDimension.php(354)\\n#0 /core\\/DataTable\\/Filter\\/PivotByDimension.php(169): Piwik\\\\DataTable\\\\Filter\\\\PivotByDimension->setThisReportMetadata(NULL)\\n#1 [internal function]: Piwik\\\\DataTable\\\\Filter\\\\PivotByDimension->__construct(Object(Piwik\\\\DataTable\\\\Simple), NULL, 'Referrers.Keywo...', '', 0, 0)\\n#2 /core\\/DataTable.php(524): ReflectionClass->newInstanceArgs(Array)\\n#3 /core\\/DataTable\\/Map.php(110): Piwik\\\\DataTable->filter('Piwik\\\\\\\\DataTable...', Array)\\n#4 /core\\/API\\/DataTablePostProcessor.php(163): Piwik\\\\DataTable\\\\Map->filter('PivotByDimensio...', Array)\\n#5 /core\\/API\\/DataTablePostProcessor.php(113): Piwik\\\\API\\\\DataTablePostProcessor->applyPivotByFilter(Object(Piwik\\\\DataTable\\\\Map))\\n#6 /core\\/API\\/ResponseBuilder.php(190): Piwik\\\\API\\\\DataTablePostProcessor->process(Object(Piwik\\\\DataTable\\\\Map))\\n#7 /core\\/API\\/ResponseBuilder.php(104): Piwik\\\\API\\\\ResponseBuilder->handleDataTable(Object(Piwik\\\\DataTable\\\\Map))\\n#8 /core\\/API\\/Request.php(272): Piwik\\\\API\\\\ResponseBuilder->getResponse(Object(Piwik\\\\DataTable\\\\Map), 'VisitsSummary', 'getVisits')\\n#9 /core\\/Context.php(28): Piwik\\\\API\\\\Request->Piwik\\\\API\\\\{closure}()\\n#10 /core\\/API\\/Request.php(273): Piwik\\\\Context::executeWithQueryParameters(Array, Object(Closure))\\n#11 /plugins\\/API\\/Controller.php(46): Piwik\\\\API\\\\Request->process()\\n#12 [internal function]: Piwik\\\\Plugins\\\\API\\\\Controller->index()\\n#13 /core\\/FrontController.php(615): call_user_func_array(Array, Array)\\n#14 /core\\/FrontController.php(167): Piwik\\\\FrontController->doDispatch('API', false, Array)\\n#15 /core\\/dispatch.php(32): Piwik\\\\FrontController->dispatch()\\n#16 /index.php(25): require_once('/c...')\\n#17 {main}\",\"safemode_backtrace\":\"#0 [internal function]: Piwik\\\\Plugins\\\\Cloud\\\\Controller->safemode(Array)\\n#1 \\/core\\/FrontController.php(615): call_user_func_array(Array, Array)\\n#2 \\/core\\/FrontController.php(167): Piwik\\\\FrontController->doDispatch('Cloud', 'safemode', Array)\\n#3 \\/core\\/FrontController.php(98): Piwik\\\\FrontController->dispatch('CorePluginsAdmi...', 'safemode', Array)\\n#4 \\/core\\/FrontController.php(138): Piwik\\\\FrontController::(Array)\\n#5 \\/core\\/FrontController.php(188): Piwik\\\\FrontController::(Object(Error))\\n#6 \\/core\\/dispatch.php(32): Piwik\\\\FrontController->dispatch()\\n#7 \\/index.php(25): require_once('\\/c...')\\n#8 {main}\"}\r\n\r\nURL: ?token_auth=XYZANONYMIZED&module=API&method=VisitsSummary.getVisits&idSite=1&period=day&date=last14&segment=&pivotBy=Referrers.Keyword&format=json&flat=0&filter_limit=-1\r\n\r\nNo referrer found (so probably called directly)\r\n\r\nI will comment if it happens again.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17775/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17775/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17774", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17774/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17774/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17774/events", "html_url": "https://github.com/matomo-org/matomo/issues/17774", "id": 944956862, "node_id": "MDU6SXNzdWU5NDQ5NTY4NjI=", "number": 17774, "title": "Goal Overview Report & widget on dashboard can cause a very large spike in requests", "user": { "login": "Starker3", "id": 20905821, "node_id": "MDQ6VXNlcjIwOTA1ODIx", "avatar_url": "https://avatars.githubusercontent.com/u/20905821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Starker3", "html_url": "https://github.com/Starker3", "followers_url": "https://api.github.com/users/Starker3/followers", "following_url": "https://api.github.com/users/Starker3/following{/other_user}", "gists_url": "https://api.github.com/users/Starker3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Starker3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Starker3/subscriptions", "organizations_url": "https://api.github.com/users/Starker3/orgs", "repos_url": "https://api.github.com/users/Starker3/repos", "events_url": "https://api.github.com/users/Starker3/events{/privacy}", "received_events_url": "https://api.github.com/users/Starker3/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370553, "node_id": "MDU6TGFiZWwxMTIzNzA1NTM=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Major", "name": "Major", "color": "eb6420", "default": false, "description": "Indicates the severity or impact or benefit of an issue is much higher than normal but not critical." }, { "id": 112370558, "node_id": "MDU6TGFiZWwxMTIzNzA1NTg=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "If you can reproduce this issue, please reopen the issue or create a new one describing it." }, { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." }, { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 3, "created_at": "2021-07-15T03:12:03Z", "updated_at": "2021-10-07T20:16:02Z", "closed_at": "2021-10-07T20:16:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Current Behavior\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\nCurrently when adding the \"Goal Overview\" widget to the dashboard or loading the Goal Overview report it will make at least 2 GET requests for each goal present in the Overview (At least one request for each sparkline per goal)\r\nA Matomo server with just 7 goals for example makes around 25 requests just for sparklines on the Goals Overview.\r\n\r\nOn websites that have a large number of goals (For example >50) this can cause a spike in the number of PHP processes that can result in the maximum number of PHP child processes to be created, this results in the following warning:\r\n`\"WARNING: [pool www] server reached pm.max_children setting (50), consider raising it\"`\r\n\r\nThis in turn results in unexpected performance issues that may be difficult to resolve (Other than simply removing the Goal Overview widget from the dashboard, but this doesn't solve the issue when loading the Goal Overview report)\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\nNot sure if there is a quick fix for this sort of thing, other than somehow batching the requests for the sparklines so that it doesn't cause the child processes to be maxed?\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\nFor users running servers with a single endpoint (Tracking and UI on the same server) this can potentially result in the entire Matomo server being slow to respond to requests (Since PHP can't handle new requests coming in this could potentially lead to slow tracker performance or other issues)\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17774/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17774/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17773", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17773/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17773/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17773/events", "html_url": "https://github.com/matomo-org/matomo/issues/17773", "id": 944797930, "node_id": "MDU6SXNzdWU5NDQ3OTc5MzA=", "number": 17773, "title": "Matomo should be setting content security policy to prevent some XSS", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370581, "node_id": "MDU6TGFiZWwxMTIzNzA1ODE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Security", "name": "c: Security", "color": "fad8c7", "default": false, "description": "For issues that make Matomo more secure. Please report issues through HackerOne and not in Github." } ], "state": "closed", "locked": false, "assignee": { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2021-07-14T21:08:17Z", "updated_at": "2021-08-25T22:47:46Z", "closed_at": "2021-08-12T12:35:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is for the Matomo UI (not tracking). For better security we shouldn't leave it up to users to configure content security policy. We should set a CSP to only allow requests to the current domain. Note: When Matomo is behind a load balancer etc then it might not know the correct domain it is on so would need to use trusted hosts maybe (or in some cases).\r\n\r\nNot sure if there are any external domains the UI requests. In any case plugins should allow to configure extra rules. These rules would probably be applied to all Matomo requests (as eg if a widget does external requests by the time the widget is requested then it cannot change the CSP). Additionally, for better security, we may give plugins the ability to enrich the CSP for a specific controller/action request. This way they would only change the CSP for the current request but not other pages. This can be useful if a plugin renders an entire page. \r\n\r\nWe may also need to allow extra configurations through the config file.\r\n\r\nWe could also be making use of `nonce-source` which may be quite good but not sure it fully works or whether some other plugins may add script tags dynamically etc where this could get difficult. \r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17773/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17772", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17772/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17772/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17772/events", "html_url": "https://github.com/matomo-org/matomo/pull/17772", "id": 944774414, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkwMjA1Njcx", "number": 17772, "title": "check plugin exists in the filesystem on plugin activate command", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 1, "created_at": "2021-07-14T20:31:15Z", "updated_at": "2021-07-19T07:57:50Z", "closed_at": "2021-07-19T07:57:49Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17772", "html_url": "https://github.com/matomo-org/matomo/pull/17772", "diff_url": "https://github.com/matomo-org/matomo/pull/17772.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17772.patch", "merged_at": "2021-07-19T07:57:49Z" }, "body": "### Description:\r\n\r\nIf a plugin doesn't have a Plugin class, the plugin manager just uses `new Plugin($pluginName)`. Calling `getMissingDependencies()` immediately after triggers the plugin install code path, which adds the nonexistent plugin to the INI config. Now we check and provide a clear error message in the commands, and make sure we only try to load plugins that exist in the filesystem.\r\n\r\nFixes #17770\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17772/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17771", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17771/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17771/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17771/events", "html_url": "https://github.com/matomo-org/matomo/pull/17771", "id": 944755923, "node_id": "MDExOlB1bGxSZXF1ZXN0NjkwMTg5NDc0", "number": 17771, "title": "If table prefix is not specified, the database abilities diagnostic can fail", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2021-07-14T20:06:15Z", "updated_at": "2021-07-28T01:44:26Z", "closed_at": "2021-07-15T08:16:30Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17771", "html_url": "https://github.com/matomo-org/matomo/pull/17771", "diff_url": "https://github.com/matomo-org/matomo/pull/17771.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17771.patch", "merged_at": "2021-07-15T08:16:30Z" }, "body": "### Description:\r\n\r\nIf not table prefix is specified, the database abilities diagnostic can fail when it tries to batch insert into the option table. Fixed w/ backticks.\r\n\r\nFixes #17762\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17771/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17771/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17770", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17770/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17770/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17770/events", "html_url": "https://github.com/matomo-org/matomo/issues/17770", "id": 944578384, "node_id": "MDU6SXNzdWU5NDQ1NzgzODQ=", "number": 17770, "title": "activating non-existing plugin via console plugin:activate results in uncaught exception and plugin is listed as installed afterwards", "user": { "login": "ziegenberg", "id": 856916, "node_id": "MDQ6VXNlcjg1NjkxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/856916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ziegenberg", "html_url": "https://github.com/ziegenberg", "followers_url": "https://api.github.com/users/ziegenberg/followers", "following_url": "https://api.github.com/users/ziegenberg/following{/other_user}", "gists_url": "https://api.github.com/users/ziegenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/ziegenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ziegenberg/subscriptions", "organizations_url": "https://api.github.com/users/ziegenberg/orgs", "repos_url": "https://api.github.com/users/ziegenberg/repos", "events_url": "https://api.github.com/users/ziegenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/ziegenberg/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": null, "comments": 1, "created_at": "2021-07-14T16:01:01Z", "updated_at": "2021-07-19T07:57:49Z", "closed_at": "2021-07-19T07:57:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n<!-- Important: If this bug is regarding a premium plugin you purchased on plugins.matomo.org, please email shop@innocraft.com instead of creating a bug report here. -->\r\n\r\n## Expected Behavior\r\n<!-- When describing a bug, please tell us what should happen -->\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\n\r\nWhen trying to activate a non-existing plugin via ` console plugin:activate`, it should report the not existing plugin in a nice message and do not throw an uncaught exception. Also, it should not be listed in the list of installed plugins afterwards.\r\n\r\n## Current Behavior\r\n<!-- For bugs, please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\n\r\nWhen trying to activate a non-existing plugin via ` console plugin:activate`, it throws an uncaught exception.\r\n```\r\nphp console plugin:activate SecurityInfo2\r\nERROR [2021-07-14 15:45:55] 477937 Uncaught exception: /opt/matomo/core/Plugin/Manager.php(684): Plugin 'SecurityInfo2' cannot be found in the filesystem in plugins/ directory.\r\n \r\n [Exception] \r\n Plugin 'SecurityInfo2' cannot be found in the filesystem in plugins/ directory. \r\n \r\nplugin:activate [plugin1] ... [pluginN]\r\n```\r\n\r\nAlso, it's now listed in the list of installed plugins afterwards.\r\n\r\n```\r\nphp console plugin:list \r\n+----------------------+-------------------+---------------+\r\n| Plugin | Core or optional? | Status |\r\n+----------------------+-------------------+---------------+\r\n| Diagnostics | Core | Activated |\r\n| Login | Core | Activated |\r\n| CoreAdminHome | Core | Activated |\r\n| UsersManager | Core | Activated |\r\n| SecurityInfo | Optional | Activated |\r\n| SecurityInfo2 | Optional | Not activated |\r\n| LogViewer | Optional | Activated |\r\n+----------------------+-------------------+---------------+\r\n\r\n```\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps on how to reproduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands you are using that may help us to reproduce the bug -->\r\n1. call `php console plugin:activate pluginName` for a plugin not in `matomo/plugins`\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\nAutomating plugin installs via console for ansible playbooks.\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.3.1\r\n* PHP Version: 8.0\r\n* Server Operating System: CentOS Linux release 8.4.2105\r\n* Additionally installed plugins: -\r\n<!-- For UI Bugs please also tell us something about your environment -->\r\n* Browser: -\r\n* Operating System: -\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17770/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17770/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17769", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17769/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17769/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17769/events", "html_url": "https://github.com/matomo-org/matomo/issues/17769", "id": 943998586, "node_id": "MDU6SXNzdWU5NDM5OTg1ODY=", "number": 17769, "title": "Show brute_force_log entries in the UI or add the option to retrieve entries with a CLI command", "user": { "login": "Starker3", "id": 20905821, "node_id": "MDQ6VXNlcjIwOTA1ODIx", "avatar_url": "https://avatars.githubusercontent.com/u/20905821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Starker3", "html_url": "https://github.com/Starker3", "followers_url": "https://api.github.com/users/Starker3/followers", "following_url": "https://api.github.com/users/Starker3/following{/other_user}", "gists_url": "https://api.github.com/users/Starker3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Starker3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Starker3/subscriptions", "organizations_url": "https://api.github.com/users/Starker3/orgs", "repos_url": "https://api.github.com/users/Starker3/repos", "events_url": "https://api.github.com/users/Starker3/events{/privacy}", "received_events_url": "https://api.github.com/users/Starker3/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 0, "created_at": "2021-07-14T03:23:48Z", "updated_at": "2021-07-14T03:26:48Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently the only method to check for failed login attempts is to check the `brute_force_log` table for any entries or to check the `Activity Log` if the failed login attempt was from the UI.\r\n\r\nSince there may be cases when people can accidentally get themselves blocked by making API requests with an invalid token (For example running a script that sends a series of API requests) it can sometimes be difficult for them to realize that they accidentally blocked themselves.\r\n\r\nOther times it can be useful for Super Users to check the brute force log for failed login attempts to be aware of when someone may be trying to gain unauthorized access (Before the IP is blocked or after the block expires).\r\n\r\nIt would be great if we could show the `brute_force_log` in the UI (Maybe in the existing Brute Force Log under Diagnostics) or alternatively as a CLI command for users to run without needing to run a SQL query.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17769/timeline", "performed_via_github_app": null, "state_reason": null } ]
