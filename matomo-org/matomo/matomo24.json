[ { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17465", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17465/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17465/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17465/events", "html_url": "https://github.com/matomo-org/matomo/pull/17465", "id": 859398375, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE2NDg2ODk5", "number": 17465, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-04-16T02:23:06Z", "updated_at": "2021-04-16T06:32:47Z", "closed_at": "2021-04-16T06:32:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17465", "html_url": "https://github.com/matomo-org/matomo/pull/17465", "diff_url": "https://github.com/matomo-org/matomo/pull/17465.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17465.patch", "merged_at": "2021-04-16T06:32:45Z" }, "body": "Updated submodules:\n- plugins/TagManager\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17465/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17465/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17464", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17464/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17464/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17464/events", "html_url": "https://github.com/matomo-org/matomo/pull/17464", "id": 858635581, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE1ODQyNjM2", "number": 17464, "title": "Allow generating reports in TSV format", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 1, "created_at": "2021-04-15T08:30:37Z", "updated_at": "2021-04-16T00:04:38Z", "closed_at": "2021-04-16T00:04:35Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17464", "html_url": "https://github.com/matomo-org/matomo/pull/17464", "diff_url": "https://github.com/matomo-org/matomo/pull/17464.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17464.patch", "merged_at": "2021-04-16T00:04:35Z" }, "body": "### Description:\r\n\r\nThis PR will make it possible to send scheduled reports in TSV format.\r\n\r\nNote: Did those changes in a couple of minutes only. Will try to complete the PR when I have some time in between maybe.\r\n\r\nfixes #17463\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17464/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17463", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17463/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17463/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17463/events", "html_url": "https://github.com/matomo-org/matomo/issues/17463", "id": 858535242, "node_id": "MDU6SXNzdWU4NTg1MzUyNDI=", "number": 17463, "title": "Email export as TSV format", "user": { "login": "selametaydogdu", "id": 17404177, "node_id": "MDQ6VXNlcjE3NDA0MTc3", "avatar_url": "https://avatars.githubusercontent.com/u/17404177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/selametaydogdu", "html_url": "https://github.com/selametaydogdu", "followers_url": "https://api.github.com/users/selametaydogdu/followers", "following_url": "https://api.github.com/users/selametaydogdu/following{/other_user}", "gists_url": "https://api.github.com/users/selametaydogdu/gists{/gist_id}", "starred_url": "https://api.github.com/users/selametaydogdu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/selametaydogdu/subscriptions", "organizations_url": "https://api.github.com/users/selametaydogdu/orgs", "repos_url": "https://api.github.com/users/selametaydogdu/repos", "events_url": "https://api.github.com/users/selametaydogdu/events{/privacy}", "received_events_url": "https://api.github.com/users/selametaydogdu/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 1, "created_at": "2021-04-15T06:24:47Z", "updated_at": "2021-04-16T00:04:35Z", "closed_at": "2021-04-16T00:04:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "According to the documentation, only CSV, HTML and PDF email reports can be sent:\r\nhttps://matomo.org/docs/email-reports/\r\nBut not in TSV format.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17463/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17463/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17462", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17462/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17462/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17462/events", "html_url": "https://github.com/matomo-org/matomo/pull/17462", "id": 858470604, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE1NzA0MDU1", "number": 17462, "title": "Add testdox to phpunit.xml", "user": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false } ], "milestone": null, "comments": 9, "created_at": "2021-04-15T04:29:18Z", "updated_at": "2021-05-21T19:56:24Z", "closed_at": "2021-05-17T13:31:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17462", "html_url": "https://github.com/matomo-org/matomo/pull/17462", "diff_url": "https://github.com/matomo-org/matomo/pull/17462.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17462.patch", "merged_at": "2021-05-17T13:31:36Z" }, "body": "### Description:\r\n\r\nI had a failing test in another PR and it was hard to understand why and where it is happening. Modifying the `phpunit.xml` can help investigate failing tests easier. \r\n\r\nInstead of only dots, we have some information about what's going on, and if a build fails, we can see which one was the last test. \r\n\r\nAn example:\r\n\r\n```\r\nApi Get Report Metadata (Piwik\\Tests\\System\\ApiGetReportMetadata)\r\n ✔ Api with data set #0 [548.94 ms]\r\n ✔ Api with data set #1 [26.24 ms]\r\n ✔ Api with data set #2 [28.44 ms]\r\n ✔ Api with data set #3 [29.22 ms]\r\n ✔ Api with data set #4 [7.41 ms]\r\n ✔ Api with data set #5 [3.97 ms]\r\n```\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17462/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17461", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17461/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17461/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17461/events", "html_url": "https://github.com/matomo-org/matomo/pull/17461", "id": 858448635, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE1Njg3ODcx", "number": 17461, "title": "Add get-segment-sql development command for debugging", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-04-15T03:37:03Z", "updated_at": "2021-04-16T00:24:43Z", "closed_at": "2021-04-16T00:24:39Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17461", "html_url": "https://github.com/matomo-org/matomo/pull/17461", "diff_url": "https://github.com/matomo-org/matomo/pull/17461.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17461.patch", "merged_at": "2021-04-16T00:24:39Z" }, "body": "### Description:\r\n\r\nPrints out the query of a segment, can be used if trying to determine if a segment is query is being built correctly or not.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17461/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17461/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17460", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17460/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17460/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17460/events", "html_url": "https://github.com/matomo-org/matomo/pull/17460", "id": 858426329, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE1NjczODAx", "number": 17460, "title": "add some assertions for segment rearchive so there is test coverage", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-04-15T02:54:58Z", "updated_at": "2021-04-15T07:53:47Z", "closed_at": "2021-04-15T07:53:44Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17460", "html_url": "https://github.com/matomo-org/matomo/pull/17460", "diff_url": "https://github.com/matomo-org/matomo/pull/17460.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17460.patch", "merged_at": "2021-04-15T07:53:44Z" }, "body": "### Description:\r\n\r\nNoticed there weren't any explicit tests for this so I added a couple.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17460/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17459", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17459/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17459/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17459/events", "html_url": "https://github.com/matomo-org/matomo/issues/17459", "id": 858375320, "node_id": "MDU6SXNzdWU4NTgzNzUzMjA=", "number": 17459, "title": "Website Measurables can be created with no URLs which breaks some features", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 0, "created_at": "2021-04-15T01:02:13Z", "updated_at": "2022-07-08T02:32:33Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "When creating a website measurable, we want to make sure at least one URL is always defined. However, since site URLs can be specified by plugin setting, it's possible to omit the `'urls'` plugin setting entirely, or just send the name, eg, `['name' => 'urls']` instead of `['name' => 'urls', 'values' => ...]`. In these cases, Matomo just ignores the setting entirely, never checking it or setting it to anything.\r\n\r\nHaving no site URL causes features like Overlay to break, so we should require them. However, some measurables legitimately have no URLs (like RollUps).\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17459/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17458", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17458/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17458/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17458/events", "html_url": "https://github.com/matomo-org/matomo/pull/17458", "id": 857868303, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE1MjE1OTI0", "number": 17458, "title": "Rearchive segment only when definition changed", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-04-14T12:52:17Z", "updated_at": "2021-04-14T15:25:50Z", "closed_at": "2021-04-14T15:25:46Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17458", "html_url": "https://github.com/matomo-org/matomo/pull/17458", "diff_url": "https://github.com/matomo-org/matomo/pull/17458.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17458.patch", "merged_at": "2021-04-14T15:25:46Z" }, "body": "### Description:\r\n\r\nfixes #17444\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17458/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17457", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17457/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17457/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17457/events", "html_url": "https://github.com/matomo-org/matomo/pull/17457", "id": 857537755, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE0OTQwMDIw", "number": 17457, "title": "Workaround error in Overlay when site has no URLs", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 5, "created_at": "2021-04-14T05:36:19Z", "updated_at": "2021-04-15T01:25:59Z", "closed_at": "2021-04-15T01:25:55Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17457", "html_url": "https://github.com/matomo-org/matomo/pull/17457", "diff_url": "https://github.com/matomo-org/matomo/pull/17457.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17457.patch", "merged_at": "2021-04-15T01:25:55Z" }, "body": "### Description:\r\n\r\nWhen creating a site it is possible to not specify URLs. In this case, we send a plugin setting entry in the HTTP request as `['name' => 'urls']` w/ no `value` key. Currently this is ignored by Matomo, and the validation that happens does not occur. Which allows sites to have no URLs.\r\n\r\nIf this happens and Overlay is loaded, the JS will error when trying to find the host of the site URLs.\r\n\r\nThis is fixed in this PR w/ tests. The issue in Overlay is also worked around in case there are users who created sites w/ no URLs.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17457/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17456", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17456/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17456/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17456/events", "html_url": "https://github.com/matomo-org/matomo/pull/17456", "id": 857494624, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE0OTA0MTM0", "number": 17456, "title": "show period label on evo graph", "user": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 6, "created_at": "2021-04-14T03:49:43Z", "updated_at": "2021-04-21T21:23:27Z", "closed_at": "2021-04-21T21:23:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17456", "html_url": "https://github.com/matomo-org/matomo/pull/17456", "diff_url": "https://github.com/matomo-org/matomo/pull/17456.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17456.patch", "merged_at": "2021-04-21T21:23:23Z" }, "body": "### Description:\r\n\r\nfixes #15021 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17456/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17455", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17455/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17455/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17455/events", "html_url": "https://github.com/matomo-org/matomo/pull/17455", "id": 857369203, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE0ODAxNzcx", "number": 17455, "title": "update expected screenshots", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-04-13T22:32:12Z", "updated_at": "2021-04-13T22:32:25Z", "closed_at": "2021-04-13T22:32:21Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17455", "html_url": "https://github.com/matomo-org/matomo/pull/17455", "diff_url": "https://github.com/matomo-org/matomo/pull/17455.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17455.patch", "merged_at": "2021-04-13T22:32:21Z" }, "body": "### Description:\r\n\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17455/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17454", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17454/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17454/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17454/events", "html_url": "https://github.com/matomo-org/matomo/issues/17454", "id": 856875222, "node_id": "MDU6SXNzdWU4NTY4NzUyMjI=", "number": 17454, "title": "JS Tracking code may generate \"The operation is insecure\" warnings with specific Firefox settings", "user": { "login": "brainfoolong", "id": 1684236, "node_id": "MDQ6VXNlcjE2ODQyMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1684236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brainfoolong", "html_url": "https://github.com/brainfoolong", "followers_url": "https://api.github.com/users/brainfoolong/followers", "following_url": "https://api.github.com/users/brainfoolong/following{/other_user}", "gists_url": "https://api.github.com/users/brainfoolong/gists{/gist_id}", "starred_url": "https://api.github.com/users/brainfoolong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brainfoolong/subscriptions", "organizations_url": "https://api.github.com/users/brainfoolong/orgs", "repos_url": "https://api.github.com/users/brainfoolong/repos", "events_url": "https://api.github.com/users/brainfoolong/events{/privacy}", "received_events_url": "https://api.github.com/users/brainfoolong/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 1992458592, "node_id": "MDU6TGFiZWwxOTkyNDU4NTky", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tracking", "name": "c: Tracking", "color": "1d76db", "default": false, "description": "Issues related to getting data into Matomo" } ], "state": "closed", "locked": false, "assignee": { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 22, "created_at": "2021-04-13T11:37:56Z", "updated_at": "2021-07-26T04:49:19Z", "closed_at": "2021-07-05T17:39:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This bug is just a follow up to a already known bug, but i decided to start a new issue here as the others are marked as resolved or have been merged.\r\n\r\nReferences: \r\n* https://forum.matomo.org/t/firefox-84-promiseerror-securityerror-the-operation-is-insecure/40299/8\r\n* https://github.com/matomo-org/matomo/pull/17139\r\n* https://github.com/matomo-org/matomo/issues/17136\r\n\r\nOk, i can now reproduce this bug with `4.2.1` in Firefox `87.0` on windows. It is still present and still causes errors in our JS error logs. It depends on some specific firefox strict security settings.\r\n\r\nFollowing example:\r\n* Open any site you want with Firefox\r\n* Open F12 console\r\n* Enter and execute this: `console.log(navigator.serviceWorker && navigator.serviceWorker.ready)`\r\n* Error occurs\r\n\r\nThe console command is basically the same as used in matomo here\r\nhttps://github.com/matomo-org/matomo/blob/4.x-dev/js/piwik.js#L6989\r\n\r\nDemo:\r\n![firefox-bug](https://user-images.githubusercontent.com/1684236/114546215-303b0d00-9c5d-11eb-9532-d3a3f8c8f0b7.gif)\r\n\r\nSettings:\r\n![image](https://user-images.githubusercontent.com/1684236/114546202-2ca78600-9c5d-11eb-9a69-a324cab306e4.png)\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17454/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17454/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17453", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17453/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17453/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17453/events", "html_url": "https://github.com/matomo-org/matomo/pull/17453", "id": 856537061, "node_id": "MDExOlB1bGxSZXF1ZXN0NjE0MDk3Njk2", "number": 17453, "title": "fix random failure + update two screenshots", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-04-13T03:41:03Z", "updated_at": "2021-04-13T04:12:02Z", "closed_at": "2021-04-13T04:12:00Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17453", "html_url": "https://github.com/matomo-org/matomo/pull/17453", "diff_url": "https://github.com/matomo-org/matomo/pull/17453.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17453.patch", "merged_at": "2021-04-13T04:12:00Z" }, "body": "### Description:\r\n\r\nExclude more columns from failing BlobReportLimitingTest and update two screenshots\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17453/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17452", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17452/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17452/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17452/events", "html_url": "https://github.com/matomo-org/matomo/issues/17452", "id": 856402550, "node_id": "MDU6SXNzdWU4NTY0MDI1NTA=", "number": 17452, "title": "Offer opt out without iframe / 3rd party cookies", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370561, "node_id": "MDU6TGFiZWwxMTIzNzA1NjE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Critical", "name": "Critical", "color": "e11d21", "default": false, "description": "Indicates the severity of an issue is very critical and the issue has a very high priority." }, { "id": 126437638, "node_id": "MDU6TGFiZWwxMjY0Mzc2Mzg=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Privacy", "name": "c: Privacy", "color": "bfe5bf", "default": false, "description": "For issues that impact or improve the privacy." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/163", "html_url": "https://github.com/matomo-org/matomo/milestone/163", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/163/labels", "id": 8040741, "node_id": "MI_kwDOABefqs4AerEl", "number": 163, "title": "4.12.0", "description": "", "creator": { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false }, "open_issues": 6, "closed_issues": 192, "state": "open", "created_at": "2022-06-02T07:49:12Z", "updated_at": "2022-09-30T18:15:51Z", "due_on": null, "closed_at": null }, "comments": 13, "created_at": "2021-04-12T22:19:00Z", "updated_at": "2022-09-09T04:08:03Z", "closed_at": "2022-09-09T04:08:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "3rd party cookies work less and less and eventually won't be available anymore. Kind of related post https://matomo.org/blog/2020/02/new-cookie-behaviour-in-browsers-may-cause-regressions/ For the opt in to work we therefore need a different way and set first party cookies. \r\n\r\nMatomo for WordPress already doesn't use the opt out iframe anymore and sets first party cookies. In On-Premise as part of https://github.com/matomo-org/matomo/issues/12767 we already added the support of `postMessages` to set first party cookies when possible. This however currently only works in some cases (eg when the tracking code is embedded on the same page and both opt out and tracking code use the same Matomo domain). \r\n\r\nIn the future ideally we show a message in the opt out iframe when it won't work because eg there's no tracking code on the privacy policy page. We might even want to completely remove the third party cookie part (however we'd still need to detect it when it's set and not track to not break BC and to not suddenly start tracking users that oped out previously). Maybe we could even remove the domain check and opt users out in more cases even if there is a mismatch between the opt out iframe and the tracking domain on the privacy policy page.\r\n\r\nOr maybe we would need to offer a new way of embedding the opt out without any iframe. This would likely require loading another JS and some configuration to customise it and for Matomo to know where to place it (unless this is all stored in a JS file and the user can configure multiple different JS opt out files).\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17452/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17451", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17451/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17451/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17451/events", "html_url": "https://github.com/matomo-org/matomo/issues/17451", "id": 856152944, "node_id": "MDU6SXNzdWU4NTYxNTI5NDQ=", "number": 17451, "title": "Logo & favicon feature: Change logo or favicon is taken into account even if not submitted", "user": { "login": "heurteph-ei", "id": 79993552, "node_id": "MDQ6VXNlcjc5OTkzNTUy", "avatar_url": "https://avatars.githubusercontent.com/u/79993552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heurteph-ei", "html_url": "https://github.com/heurteph-ei", "followers_url": "https://api.github.com/users/heurteph-ei/followers", "following_url": "https://api.github.com/users/heurteph-ei/following{/other_user}", "gists_url": "https://api.github.com/users/heurteph-ei/gists{/gist_id}", "starred_url": "https://api.github.com/users/heurteph-ei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heurteph-ei/subscriptions", "organizations_url": "https://api.github.com/users/heurteph-ei/orgs", "repos_url": "https://api.github.com/users/heurteph-ei/repos", "events_url": "https://api.github.com/users/heurteph-ei/events{/privacy}", "received_events_url": "https://api.github.com/users/heurteph-ei/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 7, "created_at": "2021-04-12T16:35:49Z", "updated_at": "2021-04-27T00:25:37Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "# Expected Behavior\r\n[Matomo logo and favicon customization](https://matomo.org/faq/new-to-piwik/faq_129/) feature\r\nWhen I upload a new logo or favicon, it should not be saved until I use the submit button\r\n\r\n# Current Behavior / Steps to Reproduce\r\n1. Go to **Administration > System > General Settings** menu (or something like that, as my Matomo is in French, I am not sure of the English wording)\r\n2. In section **Branding**, just upload a logo or a favicon, but do not click on the **Submit** (or **Save**?) button\r\n3. Refresh the page ([Ctrl] + [F5])\r\n4. The logo (or favicon depending on step 2) has changed :cry: \r\n\r\n# Your Environment\r\n## Mandatory checks\r\nVersion PHP >= 7.2.5: ✔ 7.3.20\r\nPDO Extension: ✔ \r\nPDO\\MYSQL Extension: ✔ \r\nMYSQLI Extension: ✔ \r\nExtensions requises: ✔ zlib ✔ SPL ✔ iconv ✔ json ✔ mbstring ✔ Reflection\r\nFonctions requises: ✔ debug_backtrace ✔ eval ✔ hash ✔ gzcompress ✔ gzuncompress ✔ pack\r\nConfiguration PHP requise (php.ini): ✔ session.auto_start = 0 ✔ max_execution_time = 0 OR >= 30\r\nRépertoires avec les droits d'accès en écriture: ✔ $DOC_ROOT/tmp ✔ $DOC_ROOT/tmp/assets ✔ $DOC_ROOT/tmp/cache ✔ $DOC_ROOT/tmp/climulti ✔ $DOC_ROOT/tmp/latest ✔ $DOC_ROOT/tmp/logs ✔ $DOC_ROOT/tmp/sessions ✔ $DOC_ROOT/tmp/tcpdf ✔ $DOC_ROOT/tmp/templates_c\r\nRépertoires avec accès en écriture pour Gestionnaire de balises: ✔ $DOC_ROOT/js\r\n## Optional checks\r\nIntégrité du fichier: ✔ \r\nStatut du traqueur: ✔ \r\nLimite mémoire: ✔ 128M\r\nFuseau horaire: ✔ \r\nOuvrez l'URL: ✔ curl\r\nPageSpeed désactivé: ✔ \r\nGD > 2.x + Freetype (graphiques): ✔ \r\nAutres extensions: ✔ json ✔ libxml ✔ dom ✔ SimpleXML\r\nAutres fonctions: ✔ shell_exec ✔ set_time_limit ✔ mail ✔ parse_ini_file ✔ glob ✔ gzopen ✔ md5_file\r\nSystème de fichiers: ✔ \r\nSetup Cron (faster report loading): ⚠ Warning: Pour des performances optimales et un Matomo rapide, il est vivement recommandé de mettre en place une entré CRON pour archiver automatiquement vos rapports, et de désactiver le déclanchement depuis l'interface depuis les paramètres Matomo.\r\nSetup Cron - Gestion des processus via la ligne de commande: ✔ Ok\r\nCapacités de la base de données: ✔ UTF8mb4 charset ⚠ Warning: LOAD DATA INFILE<br/>L'utilisation de LOAD DATA INFILE va grandement accélérer la vitesse du processus d'archivage de Matomo. Pour le rendre disponible à Matomo, essayez de mettre à jour PHP & MySQL et assurez-vous que votre utilisateur MySQL a les privilèges de FILE.<br/>Si votre serveur Matomo suit des sites à fort trafic (ex. > 100000 pages par mois), nous recommandons d'essayer de corriger ce problème.<br/><strong>Erreur:</strong> LOAD DATA INFILE failed... Error was: <br/> Try 1: LOAD DATA INFILE : SQLSTATE[28000]: Invalid authorization specification: 1045 Access denied for user (using password: YES)[28000],<br/> Try 2: LOAD DATA LOCAL INFILE : SQLSTATE[42000]: Syntax error or access violation: 1148 The used command is not allowed with this MySQL version[42000]<br/> ✔ CREATE TEMPORARY TABLES ✔ Changing transaction isolation level\r\nTaille maximale des paquets: ⚠ Warning: Il est important de configurer une taille 'max_allowed_packet' dans votre base de données MySQL d'au moins 64MB. 32MB configuré en ce moment.\r\nConnexion SSL forcée: ⚠ Warning: Nous recommandons d'utiliser Matomo uniquement avec des connexions sécurisées SSL. Pour empêcher l'accès non sécurisée par HTTP, ajoutez <code>force_ssl = 1</code> à la section <code>General</code> dans votre fichier conf/config.ini.php de Matomo.\r\nGéolocalisation: ⚠ Warning: La géolocalisation fonctionne, mais vous n'utilisez pas un des fournisseurs recommandés. Si vous devez importer des fichiers de journaux ou bien effectuer quoi que ce soit d'autre qui requiert la définition des adresses IP, utilisez l'implémentation PHP GeoIP l'extension maxminddb.\r\nMettre à jour via HTTPS: ✔ \r\nTraceur JavaScript inscriptible (\"/matomo.js\"): ✔ \r\nHeatmap & Session Recording Tracking: ⚠ Warning: Requesting '$MATOMO_URLplugins/HeatmapSessionRecording/configs.php?idsite=1&trackerid=5lX6EM&url=http%3A%2F%2Ftest.test%2F' resulted in an SSL error. Maybe you are using a self signed certificate? Please open the URL manually in a browser to see if the response contains 'Piwik.HeatmapSessionRecording'. If not, you might need to modify your server configuration as this file needs to be accessible via a browser from the Internet or Intranet.\r\n## Informational results\r\nMatomo Version: 4.0.5\r\nMatomo Update History: 4.0.5,\r\nMatomo Install Version: 4.0.5\r\nPHP_OS: Linux\r\nPHP SAPI: apache2handler\r\nTimezone Version: 0.system\r\nPHP Timezone: UTC\r\nPHP Time: 1614954151\r\nPHP Datetime: 2021-03-05 14:22:31\r\nPHP INI max_execution_time: 30\r\nPHP INI post_max_size: 8M\r\nPHP INI max_input_vars: 1000\r\nPHP INI zlib.output_compression: \r\nCurl Version: 7.29.0, NSS/3.44\r\nSuhosin Installed: 0\r\nDB Prefix: matomo_\r\nDB Charset: utf8mb4\r\nDB Adapter: PDO\\MYSQL\r\nMySQL Version: 5.7.33-enterprise-commercial-advanced-log\r\nNum Tables: 69\r\nBrowser Segment Archiving Enabled: 1\r\nDevelopment Mode Enabled: 0\r\nInternet Enabled: 1\r\nMulti Server Environment: 0\r\nCustom User Path: 0\r\nCustom Include Path: 0\r\nPlugins Activated: API, AbTesting 4.0.6, Actions, ActivityLog 4.0.2, Annotations, BulkTracking, Cohorts 4.0.2, Contents, CoreAdminHome, CoreConsole, CoreHome, CorePluginsAdmin, CoreUpdater, CoreVisualizations, CustomDimensions, CustomJsTracker, CustomReports 4.0.4, Dashboard, DevicePlugins, DevicesDetection, Diagnostics, Events, Feedback, FormAnalytics 4.0.2, Funnels 4.0.3, GeoIp2, Goals, Heartbeat, HeatmapSessionRecording 4.0.6, ImageGraph, Insights, Installation, Intl, IntranetMeasurable, LanguagesManager, Live, LoginLdap 4.3.0, MobileMessaging, Monolog, Morpheus, MultiSites, Overlay, PagePerformance, PrivacyManager, ProfessionalServices, Proxy, Referrers, Resolution, RollUpReporting 4.0.1, RssWidget, SEO, ScheduledReports, SearchEngineKeywordsPerformance 4.1.1, SegmentEditor, SitesManager, TagManager, Tour, Transitions, TwoFactorAuth, UserCountry, UserCountryMap, UserId, UserLanguage, UsersFlow 4.0.2, UsersManager, VisitFrequency, VisitTime, VisitorInterest, VisitsSummary, WebsiteMeasurable, Widgetize\r\nPlugins Deactivated: CustomVariables, DBStats, Ecommerce, Login, LoginSaml 4.0.3, **Marketplace (yes we had to deactivate it!)**, MediaAnalytics 4.0.2, MobileAppMeasurable, MultiChannelConversionAttribution 4.0.2, Provider, WhiteLabel 4.0.1, WooCommerceAnalytics 4.0.3\r\nPlugins Invalid: \r\nServer Info: Apache\r\nHad visits in last 1 day: 1\r\nHad visits in last 3 days: 1\r\nHad visits in last 5 days: 1\r\nArchive Time Last Started: 0\r\nArchive Time Last Finished: 0\r\nNum invalidations: 80 queued, 0 in progress\r\nUser Agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64; rv:78.0) Gecko/20100101 Firefox/78.0\r\nBrowser Language: fr,fr-fr,en-us,en\r\nAnonymize Referrer: \r\nDo Not Track enabled: 0\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17451/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17450", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17450/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17450/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17450/events", "html_url": "https://github.com/matomo-org/matomo/issues/17450", "id": 856132589, "node_id": "MDU6SXNzdWU4NTYxMzI1ODk=", "number": 17450, "title": "Email reports management: per group instead of per user", "user": { "login": "heurteph-ei", "id": 79993552, "node_id": "MDQ6VXNlcjc5OTkzNTUy", "avatar_url": "https://avatars.githubusercontent.com/u/79993552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heurteph-ei", "html_url": "https://github.com/heurteph-ei", "followers_url": "https://api.github.com/users/heurteph-ei/followers", "following_url": "https://api.github.com/users/heurteph-ei/following{/other_user}", "gists_url": "https://api.github.com/users/heurteph-ei/gists{/gist_id}", "starred_url": "https://api.github.com/users/heurteph-ei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heurteph-ei/subscriptions", "organizations_url": "https://api.github.com/users/heurteph-ei/orgs", "repos_url": "https://api.github.com/users/heurteph-ei/repos", "events_url": "https://api.github.com/users/heurteph-ei/events{/privacy}", "received_events_url": "https://api.github.com/users/heurteph-ei/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-04-12T16:10:41Z", "updated_at": "2021-04-12T20:49:57Z", "closed_at": "2021-04-12T20:49:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Summary\r\nToday, if I want to create (and share) an **Email & SMS Report**, I can do it, thanks to the [dedicated feature](https://matomo.org/docs/email-reports/):\r\n![image](https://user-images.githubusercontent.com/79993552/114424211-2f9c6b00-9bb8-11eb-9267-5f60c8b69320.png)\r\n(Note: I think it is strange to place this feature in **Administration > Personal** menu 🤨)\r\n\r\nThen I add many colleagues in the list of report recipient. 👌 Great.\r\n\r\nSuddenly, I become sick.\r\nWho will then manage the report (eg. update the report contents, change frequency, add/remove recipients, etc.)?\r\n\r\nI think it could be better to create a role (as the roles that manage the sites: **read**, **write**, **admin**, etc.) dedicated to manage the **Email & SMS Report** feature (or use an existing one, but which one?)", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17450/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17450/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17449", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17449/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17449/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17449/events", "html_url": "https://github.com/matomo-org/matomo/pull/17449", "id": 856101603, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEzNzM0Nzcx", "number": 17449, "title": "Fix some UI tests", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-04-12T15:36:37Z", "updated_at": "2021-04-12T15:36:45Z", "closed_at": "2021-04-12T15:36:42Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17449", "html_url": "https://github.com/matomo-org/matomo/pull/17449", "diff_url": "https://github.com/matomo-org/matomo/pull/17449.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17449.patch", "merged_at": "2021-04-12T15:36:42Z" }, "body": "", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17449/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17449/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17448", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17448/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17448/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17448/events", "html_url": "https://github.com/matomo-org/matomo/pull/17448", "id": 856097297, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEzNzMxMjMz", "number": 17448, "title": "fix typo in cache:clear", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-04-12T15:31:57Z", "updated_at": "2021-04-12T17:38:53Z", "closed_at": "2021-04-12T17:38:50Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17448", "html_url": "https://github.com/matomo-org/matomo/pull/17448", "diff_url": "https://github.com/matomo-org/matomo/pull/17448.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17448.patch", "merged_at": "2021-04-12T17:38:50Z" }, "body": "just a minor typo and Piwik->Matomo replacement while I'm on this line\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17448/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17447", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17447/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17447/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17447/events", "html_url": "https://github.com/matomo-org/matomo/pull/17447", "id": 856037342, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEzNjgwODk5", "number": 17447, "title": "INI process_new_segments_from: allow processing segments X days before last edit day", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 2, "created_at": "2021-04-12T14:29:20Z", "updated_at": "2021-05-17T05:41:21Z", "closed_at": "2021-04-12T23:26:37Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17447", "html_url": "https://github.com/matomo-org/matomo/pull/17447", "diff_url": "https://github.com/matomo-org/matomo/pull/17447.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17447.patch", "merged_at": "2021-04-12T23:26:37Z" }, "body": "### Description:\r\n\r\n\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17447/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17447/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17446", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17446/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17446/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17446/events", "html_url": "https://github.com/matomo-org/matomo/pull/17446", "id": 855985210, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEzNjM2OTA0", "number": 17446, "title": "Dont load unneeded images", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-04-12T13:35:51Z", "updated_at": "2021-04-12T20:27:23Z", "closed_at": "2021-04-12T20:27:20Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17446", "html_url": "https://github.com/matomo-org/matomo/pull/17446", "diff_url": "https://github.com/matomo-org/matomo/pull/17446.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17446.patch", "merged_at": "2021-04-12T20:27:19Z" }, "body": "fixes #17422\r\n\r\nLacking a better workaround this should also fix the issue.\r\n\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17446/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17445", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17445/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17445/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17445/events", "html_url": "https://github.com/matomo-org/matomo/pull/17445", "id": 855956905, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEzNjEyNjgz", "number": 17445, "title": "Ensure correct no access message is shown", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 2, "created_at": "2021-04-12T13:05:43Z", "updated_at": "2021-04-14T09:55:46Z", "closed_at": "2021-04-14T09:55:44Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17445", "html_url": "https://github.com/matomo-org/matomo/pull/17445", "diff_url": "https://github.com/matomo-org/matomo/pull/17445.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17445.patch", "merged_at": "2021-04-14T09:55:44Z" }, "body": "### Description:\r\n\r\nWhile testing I recognized, that when an access exception is thrown Matomo currently always shows a \"session expired\" error, even though the user might still be logged in, but simply does not have access for the current site.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17445/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17444", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17444/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17444/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17444/events", "html_url": "https://github.com/matomo-org/matomo/issues/17444", "id": 855470646, "node_id": "MDU6SXNzdWU4NTU0NzA2NDY=", "number": 17444, "title": "Invalidate segment data on update only if the definition changes", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370553, "node_id": "MDU6TGFiZWwxMTIzNzA1NTM=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Major", "name": "Major", "color": "eb6420", "default": false, "description": "Indicates the severity or impact or benefit of an issue is much higher than normal but not critical." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-04-12T01:34:43Z", "updated_at": "2021-04-14T15:25:46Z", "closed_at": "2021-04-14T15:25:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In https://github.com/matomo-org/matomo/blob/4.3.0-b2/plugins/SegmentEditor/API.php#L278 we trigger to rearchive the segment whenever it is updated. However, we should only do this if the definition changes (because the meaning of the report changes) or if the autoArchive changes from false/0 to true/1 (because then we'd want to make sure to have all the needed reports for in the past depending on configured setting).\r\n\r\nThis will be useful as this way we don't invalidate and rearchive reports unnecessarily. ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17444/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17443", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17443/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17443/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17443/events", "html_url": "https://github.com/matomo-org/matomo/pull/17443", "id": 854965819, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEyODIyNDQ1", "number": 17443, "title": "[automatic translation update] Updated 32 strings in 5 languages (tr pt el sq ro)", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-04-10T02:58:13Z", "updated_at": "2021-04-11T17:14:37Z", "closed_at": "2021-04-11T17:14:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17443", "html_url": "https://github.com/matomo-org/matomo/pull/17443", "diff_url": "https://github.com/matomo-org/matomo/pull/17443.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17443.patch", "merged_at": "2021-04-11T17:14:34Z" }, "body": "- Updated Turkish (2 changes / 100% translated)\n- Updated Portuguese (3 changes / 94% translated)\n- Updated Greek (2 changes / 100% translated)\n- Updated Albanian (2 changes / 99% translated)\n- Updated Romanian (23 changes / 59% translated)\n\n\nHelp us translate Matomo in your language!\nSignup at https://www.transifex.com/matomo/matomo/\nIf you have any questions, get in touch with us at translations@matomo.org", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17443/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17442", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17442/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17442/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17442/events", "html_url": "https://github.com/matomo-org/matomo/pull/17442", "id": 854563233, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEyNDg5NDQ4", "number": 17442, "title": "Fix exporting main metrics with a period of weeks and export format CSV", "user": { "login": "ziegenberg", "id": 856916, "node_id": "MDQ6VXNlcjg1NjkxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/856916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ziegenberg", "html_url": "https://github.com/ziegenberg", "followers_url": "https://api.github.com/users/ziegenberg/followers", "following_url": "https://api.github.com/users/ziegenberg/following{/other_user}", "gists_url": "https://api.github.com/users/ziegenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/ziegenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ziegenberg/subscriptions", "organizations_url": "https://api.github.com/users/ziegenberg/orgs", "repos_url": "https://api.github.com/users/ziegenberg/repos", "events_url": "https://api.github.com/users/ziegenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/ziegenberg/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 15, "created_at": "2021-04-09T14:11:47Z", "updated_at": "2021-07-20T11:43:59Z", "closed_at": "2021-07-20T11:38:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17442", "html_url": "https://github.com/matomo-org/matomo/pull/17442", "diff_url": "https://github.com/matomo-org/matomo/pull/17442.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17442.patch", "merged_at": "2021-07-20T11:38:30Z" }, "body": "### Description:\r\n\r\nFIXES #17441.\r\n\r\nEscape the first column in CSV exports because it might contain a date span, and the date span will contain a comma.\r\n\r\n\r\n\r\n_If a test to prevent regressions is desired, I would need help with implementing that._\r\n\r\n_Note:_ As soon PHP 8 is the required minimum escaping could be limited with `str_contains()`.\r\n\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review was done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17442/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17441", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17441/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17441/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17441/events", "html_url": "https://github.com/matomo-org/matomo/issues/17441", "id": 854538832, "node_id": "MDU6SXNzdWU4NTQ1Mzg4MzI=", "number": 17441, "title": "Exporting main metrics with a period of \"week\" as CSV produces broken exports", "user": { "login": "ziegenberg", "id": 856916, "node_id": "MDQ6VXNlcjg1NjkxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/856916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ziegenberg", "html_url": "https://github.com/ziegenberg", "followers_url": "https://api.github.com/users/ziegenberg/followers", "following_url": "https://api.github.com/users/ziegenberg/following{/other_user}", "gists_url": "https://api.github.com/users/ziegenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/ziegenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ziegenberg/subscriptions", "organizations_url": "https://api.github.com/users/ziegenberg/orgs", "repos_url": "https://api.github.com/users/ziegenberg/repos", "events_url": "https://api.github.com/users/ziegenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/ziegenberg/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "ziegenberg", "id": 856916, "node_id": "MDQ6VXNlcjg1NjkxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/856916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ziegenberg", "html_url": "https://github.com/ziegenberg", "followers_url": "https://api.github.com/users/ziegenberg/followers", "following_url": "https://api.github.com/users/ziegenberg/following{/other_user}", "gists_url": "https://api.github.com/users/ziegenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/ziegenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ziegenberg/subscriptions", "organizations_url": "https://api.github.com/users/ziegenberg/orgs", "repos_url": "https://api.github.com/users/ziegenberg/repos", "events_url": "https://api.github.com/users/ziegenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/ziegenberg/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "ziegenberg", "id": 856916, "node_id": "MDQ6VXNlcjg1NjkxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/856916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ziegenberg", "html_url": "https://github.com/ziegenberg", "followers_url": "https://api.github.com/users/ziegenberg/followers", "following_url": "https://api.github.com/users/ziegenberg/following{/other_user}", "gists_url": "https://api.github.com/users/ziegenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/ziegenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ziegenberg/subscriptions", "organizations_url": "https://api.github.com/users/ziegenberg/orgs", "repos_url": "https://api.github.com/users/ziegenberg/repos", "events_url": "https://api.github.com/users/ziegenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/ziegenberg/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 2, "created_at": "2021-04-09T13:43:18Z", "updated_at": "2021-07-20T11:38:42Z", "closed_at": "2021-07-20T11:38:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\nWhen exporting the main metrics with a period of _week_ as CSV the resulting export is broken, because the date span contains a comma, which is also the column separator used in CSVs.\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n\r\n## Expected Behavior\r\n<!-- When describing a bug, please tell us what should happen -->\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\nExporting main metrics with a period of _week_ as CSV results in usable data.\r\nExample: \r\n```csv\r\nDate,Unique visitors,Visits,Users,Actions,Maximum actions in one visit,Bounces,Total time spent by visitors (in seconds),New Visits,Actions by New Visits,Unique new visitors,New Users,max_actions_new,Bounce Rate for New Visits,Avg. Actions per New Visit,Avg. Duration of a New Visit (in sec),Visitors from Search Engines,Visitors from Social Networks,Visitors from Direct Entry,Visitors from Websites,Visitors from Campaigns,Percent of Visitors from Direct Entry,Percent of Visitors from Search Engines,Percent of Visitors from Campaigns,Percent of Visitors from Social Networks,Percent of Visitors from Websites,PagePerformance_network_time,PagePerformance_network_hits,PagePerformance_servery_time,PagePerformance_server_hits,PagePerformance_transfer_time,PagePerformance_transfer_hits,PagePerformance_domprocessing_time,PagePerformance_domprocessing_hits,PagePerformance_domcompletion_time,PagePerformance_domcompletion_hits,PagePerformance_onload_time,PagePerformance_onload_hits,PagePerformance_pageload_time,PagePerformance_pageload_hits,Avg. network time,Avg. server time,Avg. transfer time,Avg. DOM processing time,Avg. DOM completion time,Avg. on load time,Avg. page load time,Conversions,Visits with Conversions,Revenue,Conversion Rate,nb_conversions_new_visit,nb_visits_converted_new_visit,revenue_new_visit,conversion_rate_new_visit,Pageviews,Unique Pageviews,Downloads,Unique Downloads,Outlinks,Unique Outlinks,Searches,Unique Keywords,Bounce Rate,Actions per Visit,Avg. Visit Duration (in seconds),Avg. Duration of a Returning Visit (in sec),Avg. Actions per Returning Visit,Bounce Rate for Returning Visits,Returning Visits,Actions by Returning Visits,Unique returning visitors,Returning Users,Maximum actions in one returning visit,Distinct search engines,Distinct social networks,Distinct keywords,Distinct websites,Referrers_distinctWebsitesUrls,Distinct campaigns,nb_conversions_returning_visit,nb_visits_converted_returning_visit,revenue_returning_visit,conversion_rate_returning_visit\r\n\"2021-02-22,2021-02-28\",1,1,0,1,1,1,0,1,1,1,0,1,100%,1,0s,0,0,1,0,0,0%,0%,0%,0%,0%,0.15,1,0.549,1,0.073,1,0.466,1,0.562,1,0.066,1,1.866,1,0.15s,0.55s,0.07s,0.47s,0.56s,0.07s,1.87s,0,0,0,0%,0,0,0,0%,1,1,0,0,0,0,0,0,100%,1,0s,0s,0,0%\r\n\"2021-03-15,2021-03-21\",448,1228,36,2317,23,805,136761,530,1012,422,36,23,67%,1.9,2 min 26s,319,110,171,521,107,1%,2%,1%,1%,3%,136.293,1234,602.219,1234,206.332,1234,1393.43,1234,864.863,1234,234.408,1234,3437.545,1234,0.11s,0.49s,0.17s,1.13s,0.7s,0.19s,2.79s,204,184,35268.78,14.98%,66,32,16804.19,6.04%,1831,1553,110,110,80,80,37,29,66%,1.9,1 min 51s,1 min 25s,1.9,65%,698,1305,299,31,23,9,3,131,153,239,12,0,0,0,0%\r\n\r\n```\r\n\r\n## Current Behavior\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\nExporting main metrics with a period of _week_ as CSV results in broken data.\r\nExample: \r\n```csv\r\nDate,Unique visitors,Visits,Users,Actions,Maximum actions in one visit,Bounces,Total time spent by visitors (in seconds),New Visits,Actions by New Visits,Unique new visitors,New Users,max_actions_new,Bounce Rate for New Visits,Avg. Actions per New Visit,Avg. Duration of a New Visit (in sec),Visitors from Search Engines,Visitors from Social Networks,Visitors from Direct Entry,Visitors from Websites,Visitors from Campaigns,Percent of Visitors from Direct Entry,Percent of Visitors from Search Engines,Percent of Visitors from Campaigns,Percent of Visitors from Social Networks,Percent of Visitors from Websites,PagePerformance_network_time,PagePerformance_network_hits,PagePerformance_servery_time,PagePerformance_server_hits,PagePerformance_transfer_time,PagePerformance_transfer_hits,PagePerformance_domprocessing_time,PagePerformance_domprocessing_hits,PagePerformance_domcompletion_time,PagePerformance_domcompletion_hits,PagePerformance_onload_time,PagePerformance_onload_hits,PagePerformance_pageload_time,PagePerformance_pageload_hits,Avg. network time,Avg. server time,Avg. transfer time,Avg. DOM processing time,Avg. DOM completion time,Avg. on load time,Avg. page load time,Conversions,Visits with Conversions,Revenue,Conversion Rate,nb_conversions_new_visit,nb_visits_converted_new_visit,revenue_new_visit,conversion_rate_new_visit,Pageviews,Unique Pageviews,Downloads,Unique Downloads,Outlinks,Unique Outlinks,Searches,Unique Keywords,Bounce Rate,Actions per Visit,Avg. Visit Duration (in seconds),Avg. Duration of a Returning Visit (in sec),Avg. Actions per Returning Visit,Bounce Rate for Returning Visits,Returning Visits,Actions by Returning Visits,Unique returning visitors,Returning Users,Maximum actions in one returning visit,Distinct search engines,Distinct social networks,Distinct keywords,Distinct websites,Referrers_distinctWebsitesUrls,Distinct campaigns,nb_conversions_returning_visit,nb_visits_converted_returning_visit,revenue_returning_visit,conversion_rate_returning_visit\r\n2021-02-22,2021-02-28,1,1,0,1,1,1,0,1,1,1,0,1,100%,1,0s,0,0,1,0,0,0%,0%,0%,0%,0%,0.15,1,0.549,1,0.073,1,0.466,1,0.562,1,0.066,1,1.866,1,0.15s,0.55s,0.07s,0.47s,0.56s,0.07s,1.87s,0,0,0,0%,0,0,0,0%,1,1,0,0,0,0,0,0,100%,1,0s,0s,0,0%\r\n2021-03-15,2021-03-21,448,1228,36,2317,23,805,136761,530,1012,422,36,23,67%,1.9,2 min 26s,319,110,171,521,107,1%,2%,1%,1%,3%,136.293,1234,602.219,1234,206.332,1234,1393.43,1234,864.863,1234,234.408,1234,3437.545,1234,0.11s,0.49s,0.17s,1.13s,0.7s,0.19s,2.79s,204,184,35268.78,14.98%,66,32,16804.19,6.04%,1831,1553,110,110,80,80,37,29,66%,1.9,1 min 51s,1 min 25s,1.9,65%,698,1305,299,31,23,9,3,131,153,239,12,0,0,0,0%\r\n\r\n```\r\n\r\n\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\n\r\nEscape the date span for exports with a period of week using double quotes. Or use a different character between the two dates in the date span. \r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. Go to \"Visitors\" > \"Overview\"\r\n2. At the \"Visits Over Time\" graph change the period to \"week\"\r\n3. Export the dataset with export format \"CSV\".\r\n4. The CSV is broken.\r\n\r\nThis is reproducible on https://demo.matomo.cloud\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\n --\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.2.1\r\n* PHP Version: 8.0.3\r\n* Server Operating System: CentOS 8.3\r\n* Additionally installed plugins: \r\n<!-- For UI Bugs please also tell us something about your environment -->\r\n* Browser:\r\n* Operating System:\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17441/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17440", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17440/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17440/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17440/events", "html_url": "https://github.com/matomo-org/matomo/pull/17440", "id": 854192162, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEyMTc1MTIw", "number": 17440, "title": "speed up integration tests by not using DbHelper::getTablesInstalled()", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-04-09T06:01:37Z", "updated_at": "2021-04-11T17:13:52Z", "closed_at": "2021-04-11T17:13:27Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17440", "html_url": "https://github.com/matomo-org/matomo/pull/17440", "diff_url": "https://github.com/matomo-org/matomo/pull/17440.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17440.patch", "merged_at": "2021-04-11T17:13:27Z" }, "body": "### Description:\r\n\r\nNow in DbHelper::getTablesInstalled() we post an event and force load all activated plugins: https://github.com/matomo-org/matomo/blob/4.x-dev/core/Db/Schema/Mysql.php#L453-L458\r\n\r\nThis is quite a bit more work, it seems. Locally it slows each individual integration test case by about 14s. Removing it speeds the LoaderTest, for example, from 10mins to finish to 1min.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17440/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17440/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17439", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17439/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17439/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17439/events", "html_url": "https://github.com/matomo-org/matomo/pull/17439", "id": 854176933, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEyMTYyNzUw", "number": 17439, "title": "Fixes for specific case when partial archives have to initiate archiving for child archives", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 10, "created_at": "2021-04-09T05:33:23Z", "updated_at": "2021-04-12T04:30:21Z", "closed_at": "2021-04-12T04:30:17Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17439", "html_url": "https://github.com/matomo-org/matomo/pull/17439", "diff_url": "https://github.com/matomo-org/matomo/pull/17439.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17439.patch", "merged_at": "2021-04-12T04:30:17Z" }, "body": "### Description:\r\n\r\nRefs #17428\r\n\r\nIncludes new test case and changes to make it pass. See inline comments for individual changes/fixes.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17439/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17439/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17438", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17438/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17438/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17438/events", "html_url": "https://github.com/matomo-org/matomo/pull/17438", "id": 854093455, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEyMDk0MTk1", "number": 17438, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-04-09T02:22:50Z", "updated_at": "2021-04-09T08:18:05Z", "closed_at": "2021-04-09T08:18:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17438", "html_url": "https://github.com/matomo-org/matomo/pull/17438", "diff_url": "https://github.com/matomo-org/matomo/pull/17438.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17438.patch", "merged_at": "2021-04-09T08:18:01Z" }, "body": "Updated submodules:\n- plugins/SecurityInfo\n- plugins/TagManager\n- tests/travis\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17438/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17437", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17437/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17437/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17437/events", "html_url": "https://github.com/matomo-org/matomo/pull/17437", "id": 854055514, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEyMDYzMzAx", "number": 17437, "title": "Do not allow setting partial archives to DONE_INVALIDATED", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 3, "created_at": "2021-04-09T00:57:05Z", "updated_at": "2021-04-11T22:46:19Z", "closed_at": "2021-04-11T22:46:16Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17437", "html_url": "https://github.com/matomo-org/matomo/pull/17437", "diff_url": "https://github.com/matomo-org/matomo/pull/17437.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17437.patch", "merged_at": "2021-04-11T22:46:16Z" }, "body": "### Description:\r\n\r\nSince DONE_INVALIDATED archives are treated the same as DONE_OK ones, we don't want partial archives to be set this way, as it changes the content.\r\n\r\nI thought this was already in the code, but apparently it's not.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17437/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17437/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17436", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17436/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17436/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17436/events", "html_url": "https://github.com/matomo-org/matomo/pull/17436", "id": 853239418, "node_id": "MDExOlB1bGxSZXF1ZXN0NjExMzU5OTQy", "number": 17436, "title": "Escape URL in geolocation admin error message", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370581, "node_id": "MDU6TGFiZWwxMTIzNzA1ODE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Security", "name": "c: Security", "color": "fad8c7", "default": false, "description": "For issues that make Matomo more secure. Please report issues through HackerOne and not in Github." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-04-08T08:55:28Z", "updated_at": "2021-04-08T16:13:30Z", "closed_at": "2021-04-08T16:13:27Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17436", "html_url": "https://github.com/matomo-org/matomo/pull/17436", "diff_url": "https://github.com/matomo-org/matomo/pull/17436.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17436.patch", "merged_at": "2021-04-08T16:13:27Z" }, "body": "### Description:\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17436/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17435", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17435/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17435/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17435/events", "html_url": "https://github.com/matomo-org/matomo/pull/17435", "id": 852983612, "node_id": "MDExOlB1bGxSZXF1ZXN0NjExMTUxNjQ2", "number": 17435, "title": "Add new validator class - alpha numeric spaces", "user": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false } ], "milestone": null, "comments": 2, "created_at": "2021-04-08T02:05:01Z", "updated_at": "2021-04-27T02:17:54Z", "closed_at": "2021-04-27T02:17:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": true, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17435", "html_url": "https://github.com/matomo-org/matomo/pull/17435", "diff_url": "https://github.com/matomo-org/matomo/pull/17435.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17435.patch", "merged_at": null }, "body": "### Description:\r\n\r\nThis new class will check if the validated field only contains alphanumeric characters and spaces. No special characters allowed.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17435/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17434", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17434/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17434/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17434/events", "html_url": "https://github.com/matomo-org/matomo/issues/17434", "id": 852954116, "node_id": "MDU6SXNzdWU4NTI5NTQxMTY=", "number": 17434, "title": "Goal report take ages to generate after an update ", "user": { "login": "nelhefni", "id": 74159849, "node_id": "MDQ6VXNlcjc0MTU5ODQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74159849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nelhefni", "html_url": "https://github.com/nelhefni", "followers_url": "https://api.github.com/users/nelhefni/followers", "following_url": "https://api.github.com/users/nelhefni/following{/other_user}", "gists_url": "https://api.github.com/users/nelhefni/gists{/gist_id}", "starred_url": "https://api.github.com/users/nelhefni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nelhefni/subscriptions", "organizations_url": "https://api.github.com/users/nelhefni/orgs", "repos_url": "https://api.github.com/users/nelhefni/repos", "events_url": "https://api.github.com/users/nelhefni/events{/privacy}", "received_events_url": "https://api.github.com/users/nelhefni/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 3, "created_at": "2021-04-08T00:52:54Z", "updated_at": "2021-09-12T21:56:07Z", "closed_at": "2021-06-04T17:20:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nAfter updating an existing Goal, the next cron job will try to generate past reports.\r\n\r\nMy current settings:\r\n`rearchive_reports_in_past_last_n_months = last1`\r\n\r\nThe cron job will then take up to 30 hours to complete!\r\nEach weekly report took around 10 minutes. But it seems that the monthly report for February took 27 hours.\r\nThousands of partial reports will be inserted in the DB during the process\r\n\r\n```\r\nMariaDB [matomo]> select count(*) from matomo_archive_numeric_2021_03 where date1 = '2021-03-22' and period = 1 and name like '%Goal%';\r\n+----------+\r\n| count(*) |\r\n+----------+\r\n| 125936 |\r\n```\r\n\r\nWe have 125936 Goal reports for a single day.\r\nFiltering on the row including `done` and `Goal`:\r\n\r\n```\r\nMariaDB [matomo]> select count(*) from matomo_archive_numeric_2021_03 where date1 = '2021-03-22' and period = 1 and name like 'done%Goal%';\r\n+----------+\r\n| count(*) |\r\n+----------+\r\n| 3572 |\r\n+----------+\r\n```\r\n\r\nHere is a small extract of the actual rows:\r\n\r\n```\r\n...\r\n| 260168 | done5aa0e3c4a2c285b80bcc0cd6e8a62f3e.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:28:35 | 5 |\r\n| 260169 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:28:35 | 5 |\r\n| 260194 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:29:16 | 5 |\r\n| 260196 | done5aa0e3c4a2c285b80bcc0cd6e8a62f3e.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:29:17 | 5 |\r\n| 260197 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:29:17 | 5 |\r\n| 260222 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:29:58 | 5 |\r\n| 260224 | done5aa0e3c4a2c285b80bcc0cd6e8a62f3e.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:29:59 | 5 |\r\n| 260225 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:30:00 | 5 |\r\n| 260250 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:30:40 | 5 |\r\n| 260252 | done5aa0e3c4a2c285b80bcc0cd6e8a62f3e.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:30:42 | 5 |\r\n| 260253 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:30:42 | 5 |\r\n| 260278 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:31:23 | 5 |\r\n| 260280 | done5aa0e3c4a2c285b80bcc0cd6e8a62f3e.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:31:24 | 5 |\r\n| 260281 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:31:25 | 5 |\r\n| 260306 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:32:05 | 5 |\r\n| 260308 | done5aa0e3c4a2c285b80bcc0cd6e8a62f3e.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:32:07 | 5 |\r\n| 260309 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:32:08 | 5 |\r\n| 260334 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:32:49 | 5 |\r\n| 260336 | done5aa0e3c4a2c285b80bcc0cd6e8a62f3e.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:32:50 | 5 |\r\n| 260337 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:32:51 | 5 |\r\n| 260362 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:33:32 | 5 |\r\n| 260364 | done5aa0e3c4a2c285b80bcc0cd6e8a62f3e.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:33:33 | 5 |\r\n| 260365 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:33:34 | 5 |\r\n| 260390 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:34:15 | 5 |\r\n| 260392 | done5aa0e3c4a2c285b80bcc0cd6e8a62f3e.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:34:16 | 5 |\r\n| 260393 | donefea44bece172bc9696ae57c26888bf8a.Goals | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 20:34:17 | 5 |\r\n...\r\n```\r\n\r\nGoal plugin seems to be archiving segments for the same dates over and over.\r\nCould you please have a look?\r\n\r\n## Your Environment\r\n\r\nMatomo 4.2.1\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17434/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17433", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17433/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17433/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17433/events", "html_url": "https://github.com/matomo-org/matomo/issues/17433", "id": 852815803, "node_id": "MDU6SXNzdWU4NTI4MTU4MDM=", "number": 17433, "title": "Provide new system check diagnostic for required database priviliges", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-04-07T21:09:26Z", "updated_at": "2021-04-07T21:09:26Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "## Summary\r\n\r\nMatomo does not report if the database user does not have enough privileges to perform installation and update logic. One would expect that there would be an error thrown in this case, but it seems possible for this to fail silently. In this case, a diagnostic that checked for required privileges before installing would be helpful.\r\n\r\nRefs https://github.com/matomo-org/matomo/issues/17420#issuecomment-814625793\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17433/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17433/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17432", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17432/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17432/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17432/events", "html_url": "https://github.com/matomo-org/matomo/pull/17432", "id": 852513174, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEwNzUyODU0", "number": 17432, "title": "Run JavaScript tests also with node/puppeteer", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 5, "created_at": "2021-04-07T15:12:03Z", "updated_at": "2021-04-11T23:35:20Z", "closed_at": "2021-04-11T23:34:31Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17432", "html_url": "https://github.com/matomo-org/matomo/pull/17432", "diff_url": "https://github.com/matomo-org/matomo/pull/17432.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17432.patch", "merged_at": "2021-04-11T23:34:31Z" }, "body": "### Description:\r\n\r\nThe PR also includes some changes to JS tests, so they don't fail in a browser that supports sendBeacon\r\n\r\nrequires https://github.com/matomo-org/travis-scripts/pull/68\r\n \r\nfixes #17424\r\n\r\n~Before merging this on, the travis-scripts PR needs to be merged and the submodule reference in this PR needs an update.~\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17432/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17431", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17431/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17431/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17431/events", "html_url": "https://github.com/matomo-org/matomo/issues/17431", "id": 852398937, "node_id": "MDU6SXNzdWU4NTIzOTg5Mzc=", "number": 17431, "title": "Large Database, Deleting Old Raw Data Seems to Not Work", "user": { "login": "mddvul22", "id": 6833993, "node_id": "MDQ6VXNlcjY4MzM5OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/6833993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mddvul22", "html_url": "https://github.com/mddvul22", "followers_url": "https://api.github.com/users/mddvul22/followers", "following_url": "https://api.github.com/users/mddvul22/following{/other_user}", "gists_url": "https://api.github.com/users/mddvul22/gists{/gist_id}", "starred_url": "https://api.github.com/users/mddvul22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mddvul22/subscriptions", "organizations_url": "https://api.github.com/users/mddvul22/orgs", "repos_url": "https://api.github.com/users/mddvul22/repos", "events_url": "https://api.github.com/users/mddvul22/events{/privacy}", "received_events_url": "https://api.github.com/users/mddvul22/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 18, "created_at": "2021-04-07T13:15:47Z", "updated_at": "2021-09-12T21:56:07Z", "closed_at": "2021-04-23T00:14:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "We have, what I believe is a very large Matomo database. Up until this week, we have never scheduled any regular deletion of old raw data. Some example table sizes in our database, as of two days ago:\r\npiwik_log_link_visit_action.ibd : 1009G\r\npiwik_log_visit.ibd: 161G\r\npiwik_log_action.ibd: 19G\r\n\r\nAs you can see, those three tables, combined are over 1TB.\r\n\r\nSo, yesterday, I configured the section: \"Regularly delete old raw data\", and told it to delete logs older than 730 days. \r\n![image](https://user-images.githubusercontent.com/6833993/113872189-46d2f700-9779-11eb-899e-a757aed41097.png)\r\n\r\n Well, according to Matomo, it deleted data earlier this morning:\r\n![image](https://user-images.githubusercontent.com/6833993/113872270-5baf8a80-9779-11eb-8fce-742ff9edcaa5.png)\r\n\r\nBut, this morning I logged in to our server and checked and our database has not gotten smaller, at all. Today, it shows:\r\n\r\npiwik_log_link_visit_action.ibd : 1010G\r\npiwik_lpiwik_log_action.ibd: 162G\r\npiwik_log_action.ibd: 19G\r\n\r\nWhy aren't these tables getting smaller? According to this page: https://matomo.org/faq/troubleshooting/faq_42/ it appears that deleting raw data should \"free significant database space\". Am I doing something wrong?\r\n\r\n## Expected Behavior\r\nI would expect that those tables would have gotten much smaller.\r\n\r\n## Current Behavior\r\nTwo of the tables actually increased in size. I think the increase is because of new data having been imported overnight. So, most likely, the purge of old data did nothing.\r\n\r\n\r\n## Context\r\nOur database is becoming unmanageable and is causing problems for us, with backups and with Matomo upgrades. We need to reduce its size.\r\n\r\n## Your Environment\r\n* Matomo Version: 3.14.1\r\n* PHP Version: 7.2.24\r\n* Server Operating System: CentOS 8.3\r\n* Additionally installed plugins:\r\n* Browser: Firefox\r\n* Operating System: Linux\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17431/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17430", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17430/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17430/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17430/events", "html_url": "https://github.com/matomo-org/matomo/pull/17430", "id": 852360083, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEwNjI1ODcz", "number": 17430, "title": "allow skipping system check entries", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 6, "created_at": "2021-04-07T12:31:22Z", "updated_at": "2021-04-07T21:44:55Z", "closed_at": "2021-04-07T13:42:39Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17430", "html_url": "https://github.com/matomo-org/matomo/pull/17430", "diff_url": "https://github.com/matomo-org/matomo/pull/17430.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17430.patch", "merged_at": null }, "body": "suggested in https://forum.matomo.org/t/how-to-ignore-system-integrity-warnings/41368\r\n\r\nI'm not entirely sure if this is useful to a lot of people and if this is the best way to implement it, but it seemed like a nice thing for people to be able to ignore specific warnings in their setup and not having to ignore them (and potentially miss others).\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17430/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17429", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17429/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17429/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17429/events", "html_url": "https://github.com/matomo-org/matomo/issues/17429", "id": 852303361, "node_id": "MDU6SXNzdWU4NTIzMDMzNjE=", "number": 17429, "title": "Site cannot be fetched", "user": { "login": "ljubacanoa", "id": 31829134, "node_id": "MDQ6VXNlcjMxODI5MTM0", "avatar_url": "https://avatars.githubusercontent.com/u/31829134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ljubacanoa", "html_url": "https://github.com/ljubacanoa", "followers_url": "https://api.github.com/users/ljubacanoa/followers", "following_url": "https://api.github.com/users/ljubacanoa/following{/other_user}", "gists_url": "https://api.github.com/users/ljubacanoa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ljubacanoa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ljubacanoa/subscriptions", "organizations_url": "https://api.github.com/users/ljubacanoa/orgs", "repos_url": "https://api.github.com/users/ljubacanoa/repos", "events_url": "https://api.github.com/users/ljubacanoa/events{/privacy}", "received_events_url": "https://api.github.com/users/ljubacanoa/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 2084322191, "node_id": "MDU6TGFiZWwyMDg0MzIyMTkx", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Potential%20Bug", "name": "Potential Bug", "color": "fbbaba", "default": false, "description": "Something that might be a bug, but can't be reproduced (yet)." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-04-07T11:19:52Z", "updated_at": "2021-04-07T21:17:27Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\nI get already Matomo installed on GCP like official click to deploy and it worked well. Now I switched to Plesk and no chance to get it to work by following tutorial from docs (100% - firewall disabled and PageSpeed disabled). P.S. - Plesk is running on Litespeed Fast CGI.\r\nFinally I started fresh instance of GCP (again) and I get 100% same situation. So, NOTHING TOUCHED (click to deploy), mean - running Matomo from IP, by adding first site, site is not recognized. So, here is nothing from above specific moments (firewall, LS,...).\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n\r\n## Expected Behavior\r\n<!-- When describing a bug, please tell us what should happen -->\r\nAfter adding tracking code of first site to WP site, by login on Matomo, I should to see dashboard with initial site tracking widgets, but I still see warning page that tracking code is not added.\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\n\r\n## Current Behavior\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\nI suspect that issue is OS - Ubuntu 20.04 (Plesk) or Debian (GCP click and deploy), as it looks how Matomo runs on CentOS 8 (CyberPanel).\r\nI tried to mess with permissions on Plesk, but no results. However, that cannot be the case on GCP click and deploy.\r\n<!-- how to implement the suggested change or improvement -->\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\nOn GCP is no steps. Install it, run it and see the issue.\r\n<!-- if that is possible, please include the URLs and steps how to reproduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1.\r\n2.\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\n\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version:4.11 - 4.20 - 4.21 (Plesk installations) and 4.21 (GCP click and deploy)\r\n* PHP Version: 7.4.16\r\n* Server Operating System: Ubuntu 20.04 (Plesk) and Debian (GCP)\r\n* Additionally installed plugins: none\r\n<!-- For UI Bugs please also tell us something about your environment -->\r\n* Browser: Chromium (cache) and Chrome (Incognito)\r\n* Operating System: MacOS Big Sur\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17429/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17429/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17428", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17428/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17428/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17428/events", "html_url": "https://github.com/matomo-org/matomo/issues/17428", "id": 852017613, "node_id": "MDU6SXNzdWU4NTIwMTc2MTM=", "number": 17428, "title": "Regression: some daily reports disappear from UI, and weekly reports are corrupted", "user": { "login": "nelhefni", "id": 74159849, "node_id": "MDQ6VXNlcjc0MTU5ODQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74159849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nelhefni", "html_url": "https://github.com/nelhefni", "followers_url": "https://api.github.com/users/nelhefni/followers", "following_url": "https://api.github.com/users/nelhefni/following{/other_user}", "gists_url": "https://api.github.com/users/nelhefni/gists{/gist_id}", "starred_url": "https://api.github.com/users/nelhefni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nelhefni/subscriptions", "organizations_url": "https://api.github.com/users/nelhefni/orgs", "repos_url": "https://api.github.com/users/nelhefni/repos", "events_url": "https://api.github.com/users/nelhefni/events{/privacy}", "received_events_url": "https://api.github.com/users/nelhefni/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 12, "created_at": "2021-04-07T05:21:44Z", "updated_at": "2021-09-12T21:56:06Z", "closed_at": "2021-06-04T17:20:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nWe think PR https://github.com/matomo-org/matomo/pull/17216 has introduced some regressions to the archiving process since Matomo 4.2.0\r\n\r\nFYI, browser archiving is disabled:\r\n```\r\nenable_browser_archiving_triggering = 0\r\nbrowser_archiving_disabled_enforce = 1\r\narchiving_range_force_on_browser_request = 0\r\n```\r\n\r\nFor a given plugin, we are facing 2 issues since the update to Matomo 4.2.0, \r\n- Issue#1: Some daily reports disappear from the UI, even though `delete_reports_enable` is set to 0\r\n- Issue#2: Some weekly reports have inaccurate data: gather the values of only some days of the week.\r\n\r\nThis seems to be related to the changes made with the handling of partial archives.\r\nIndeed, we have a lot of partial archives in our DB, which doesn't contain the reports of our impacted plugins:\r\n\r\n```\r\nMariaDB [matomo]> select commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb from matomo_archive_numeric_2021_03 where idarchive = 46176;\r\n\r\n| idarchive | name | idsite | date1 | date2 | period | ts_archived | value |\r\n\r\n| 46176 | myPlugin | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-03-23 00:05:52 | 10 |\r\n| 46176 | otherPlugin | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-03-23 00:05:52 | 20 |\r\n| 46176 | done | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-03-23 00:05:52 | 1 |\r\n```\r\n\r\n```\r\nMariaDB [matomo]> select commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb from matomo_archive_numeric_2021_03 where idarchive = 56405;\r\n\r\n| idarchive | name | idsite | date1 | date2 | period | ts_archived | value |\r\n\r\n| 56405 | otherPlugin | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 18:52:03 | 20 |\r\n| 56405 | done | 1 | 2021-03-22 | 2021-03-22 | 1 | 2021-04-05 18:52:03 | 5 |\r\n```\r\n\r\nAs you can see, `myPlugin` report is not part of `partial archive` 56405 (`partial` because the value of `done` row is 5), but it is nevertheless selected since Matomo 4.2.0, as `ts_archived` is more recent.\r\n\r\nSince https://github.com/matomo-org/matomo/pull/17216, `checkAuthorizedToArchive = false` is passed to `Rules::getSelectableDoneFlagValues` during the retrival of archive to display in the UI\r\nhttps://github.com/matomo-org/matomo/blob/2c30dc8d231af58cdf2516a413da2d86bf7d62c6/core/DataAccess/ArchiveSelector.php#L370\r\n\r\nAs a consequence, both `ArchiveWriter::DONE_PARTIAL` and `ArchiveWriter::DONE_INVALIDATED` are added to the list of accepted value. Which explains why archive 56405 is selected instead of 46176 in our case.\r\nhttps://github.com/matomo-org/matomo/blob/2c30dc8d231af58cdf2516a413da2d86bf7d62c6/core/ArchiveProcessor/Rules.php#L321\r\n\r\nThus, as soon as archive 56405 was created, `myPlugin` report disappeared from the UI.\r\nI don't think `ArchiveWriter::DONE_PARTIAL` should be part of the list of accepted values.\r\nWe have been able to fix this issue#1 with this PR https://github.com/matomo-org/matomo/pull/17425\r\n\r\nConcerning issue#2, we have been able to fix it by reverting the changes done in the same PR to `ArchiveSelector::findArchiveDataWithLatestTsArchived`, and then invalidating faulty reports and re-running the cron job.\r\n\r\n## Your Environment\r\n\r\nMatomo 4.2.1\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17428/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17427", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17427/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17427/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17427/events", "html_url": "https://github.com/matomo-org/matomo/pull/17427", "id": 851956339, "node_id": "MDExOlB1bGxSZXF1ZXN0NjEwMjg4NTEz", "number": 17427, "title": "Performance timing API as default", "user": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 20, "created_at": "2021-04-07T02:55:18Z", "updated_at": "2021-04-14T05:02:44Z", "closed_at": "2021-04-14T05:02:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17427", "html_url": "https://github.com/matomo-org/matomo/pull/17427", "diff_url": "https://github.com/matomo-org/matomo/pull/17427.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17427.patch", "merged_at": "2021-04-14T05:02:41Z" }, "body": "### Description:\r\n\r\nfixes #17259 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17427/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17426", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17426/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17426/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17426/events", "html_url": "https://github.com/matomo-org/matomo/pull/17426", "id": 851396622, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA5ODI3NjA0", "number": 17426, "title": "Display French Guiana as separate country on map", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 1, "created_at": "2021-04-06T12:56:12Z", "updated_at": "2021-04-07T08:54:57Z", "closed_at": "2021-04-07T08:54:54Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17426", "html_url": "https://github.com/matomo-org/matomo/pull/17426", "diff_url": "https://github.com/matomo-org/matomo/pull/17426.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17426.patch", "merged_at": "2021-04-07T08:54:53Z" }, "body": "### Description:\r\n\r\nbefore it was displayed as `France`. But as the Geo IP providers actually are not detecting it as region of France but as country instead, it makes more sense to display it that way...\r\n\r\nfixes #5056\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17426/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17425", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17425/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17425/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17425/events", "html_url": "https://github.com/matomo-org/matomo/pull/17425", "id": 850863856, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA5Mzc2OTE5", "number": 17425, "title": "Fix issue with reports disappearing from UI", "user": { "login": "nelhefni", "id": 74159849, "node_id": "MDQ6VXNlcjc0MTU5ODQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74159849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nelhefni", "html_url": "https://github.com/nelhefni", "followers_url": "https://api.github.com/users/nelhefni/followers", "following_url": "https://api.github.com/users/nelhefni/following{/other_user}", "gists_url": "https://api.github.com/users/nelhefni/gists{/gist_id}", "starred_url": "https://api.github.com/users/nelhefni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nelhefni/subscriptions", "organizations_url": "https://api.github.com/users/nelhefni/orgs", "repos_url": "https://api.github.com/users/nelhefni/repos", "events_url": "https://api.github.com/users/nelhefni/events{/privacy}", "received_events_url": "https://api.github.com/users/nelhefni/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 2915202421, "node_id": "MDU6TGFiZWwyOTE1MjAyNDIx", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Stale%20for%20long", "name": "Stale for long", "color": "c5def5", "default": false, "description": "The label used by the Close Stale Issues action" } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 4, "created_at": "2021-04-06T00:59:00Z", "updated_at": "2021-06-04T17:19:35Z", "closed_at": "2021-06-04T17:19:34Z", "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17425", "html_url": "https://github.com/matomo-org/matomo/pull/17425", "diff_url": "https://github.com/matomo-org/matomo/pull/17425.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17425.patch", "merged_at": null }, "body": "### Description:\r\n\r\nExperimental fix for https://github.com/matomo-org/matomo/issues/17428\r\nSome daily reports disappear from the UI, even though `delete_reports_enable` is set to 0\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17425/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17424", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17424/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17424/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17424/events", "html_url": "https://github.com/matomo-org/matomo/issues/17424", "id": 850447475, "node_id": "MDU6SXNzdWU4NTA0NDc0NzU=", "number": 17424, "title": "Run Javascript tests with node/puppeteer as well as Phantomjs", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": null, "comments": 0, "created_at": "2021-04-05T15:30:04Z", "updated_at": "2021-05-17T04:05:07Z", "closed_at": "2021-04-11T23:34:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "followup to https://github.com/matomo-org/matomo/pull/14421\r\n\r\nIt seems like the JS tests are still using Phantomjs (which isn't maintained anymore).\r\n\r\nhttps://github.com/matomo-org/travis-scripts/blob/e955829a58a5a6af00a40737c663ede98eef5dcb/travis.sh#L28-L33\r\n\r\nIt might be useful to also use Chromium/Pupeteer there to make sure Matomo JS still works in modern browsers.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17424/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17424/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17423", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17423/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17423/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17423/events", "html_url": "https://github.com/matomo-org/matomo/issues/17423", "id": 850250275, "node_id": "MDU6SXNzdWU4NTAyNTAyNzU=", "number": 17423, "title": "Tracker JS Tests", "user": { "login": "ElManaa", "id": 10146202, "node_id": "MDQ6VXNlcjEwMTQ2MjAy", "avatar_url": "https://avatars.githubusercontent.com/u/10146202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ElManaa", "html_url": "https://github.com/ElManaa", "followers_url": "https://api.github.com/users/ElManaa/followers", "following_url": "https://api.github.com/users/ElManaa/following{/other_user}", "gists_url": "https://api.github.com/users/ElManaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ElManaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ElManaa/subscriptions", "organizations_url": "https://api.github.com/users/ElManaa/orgs", "repos_url": "https://api.github.com/users/ElManaa/repos", "events_url": "https://api.github.com/users/ElManaa/events{/privacy}", "received_events_url": "https://api.github.com/users/ElManaa/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 3, "created_at": "2021-04-05T09:54:08Z", "updated_at": "2021-04-05T19:28:50Z", "closed_at": "2021-04-05T10:28:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello Everyone!\r\n\r\nIt’s been months that I’ve been working on matomo and I found it very effective and flexible for our needs, we are actually trying to extend matomo and add new plugins, plugins that helps media and web magazines get more information about their articles!\r\n\r\nEvery plugin I create I made some system tests for it to make sure it’s working as it should be but, on the tracker JS side, haven’t found any way to make sure that the events submitted are real and precise could you suggest for me a methodology to test every event I track and make sure that it’s real? … I did work a little with selenium, but we require big numbers of tests (simulate hundreds of people on a website)\r\n\r\ni hope you all have a good day\r\nstay productive\r\nGreetings", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17423/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17422", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17422/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17422/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17422/events", "html_url": "https://github.com/matomo-org/matomo/issues/17422", "id": 849920929, "node_id": "MDU6SXNzdWU4NDk5MjA5Mjk=", "number": 17422, "title": "Don't load review logos if they are not shown", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 2, "created_at": "2021-04-04T17:23:36Z", "updated_at": "2021-04-12T20:27:36Z", "closed_at": "2021-04-12T20:27:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It seems like the images used by the review plugin (e.g. /plugins/Feedback/images/saasworthy.png) are loaded on every Matomo page view, even if the popup is not shown. \r\n\r\nChanging `<img src=\"\">` to `<img ng-src=\"\">` doesn't seem to change a thing.\r\nThis could be used to save five requests that could instead load images that are blocking the rendering of the page.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17422/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17422/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17421", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17421/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17421/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17421/events", "html_url": "https://github.com/matomo-org/matomo/pull/17421", "id": 849625413, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA4MzYyODI5", "number": 17421, "title": "more markdown friendly system checks", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 2, "created_at": "2021-04-03T10:06:31Z", "updated_at": "2021-04-05T21:27:01Z", "closed_at": "2021-04-05T21:26:58Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17421", "html_url": "https://github.com/matomo-org/matomo/pull/17421", "diff_url": "https://github.com/matomo-org/matomo/pull/17421.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17421.patch", "merged_at": "2021-04-05T21:26:58Z" }, "body": "While the new copyable system check output is really nice, it also takes up a lot of space in Github issues (e.g. https://github.com/matomo-org/matomo/issues/17420). (same on the forum)\r\n\r\nI try to change three things to make the reports more readable when interpreted as Markdown (as on Github and the forum).\r\n\r\n- smaller headings (as otherwise they use a lot of space)\r\n- put output into a separate line (this way it isn't also formatted as the heading)\r\n- wrap everything in a `<details>` (this way one doesn't have to scroll past everything when looking at a Github issue)\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17421/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17420", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17420/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17420/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17420/events", "html_url": "https://github.com/matomo-org/matomo/issues/17420", "id": 849608123, "node_id": "MDU6SXNzdWU4NDk2MDgxMjM=", "number": 17420, "title": "After fresh installation of 4.2.1 some columns like \"visit_first_action_time\" are missing", "user": { "login": "mwalliczek", "id": 35632862, "node_id": "MDQ6VXNlcjM1NjMyODYy", "avatar_url": "https://avatars.githubusercontent.com/u/35632862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwalliczek", "html_url": "https://github.com/mwalliczek", "followers_url": "https://api.github.com/users/mwalliczek/followers", "following_url": "https://api.github.com/users/mwalliczek/following{/other_user}", "gists_url": "https://api.github.com/users/mwalliczek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwalliczek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwalliczek/subscriptions", "organizations_url": "https://api.github.com/users/mwalliczek/orgs", "repos_url": "https://api.github.com/users/mwalliczek/repos", "events_url": "https://api.github.com/users/mwalliczek/events{/privacy}", "received_events_url": "https://api.github.com/users/mwalliczek/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." }, { "id": 1964375076, "node_id": "MDU6TGFiZWwxOTY0Mzc1MDc2", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Likely%20a%20server%20config%20issue", "name": "Likely a server config issue", "color": "d4c5f9", "default": false, "description": "Indicates that the issue is not in Matomo and a fix likely requires a server configuration change." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 5, "created_at": "2021-04-03T08:17:30Z", "updated_at": "2021-04-28T12:37:21Z", "closed_at": "2021-04-08T15:50:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just installed matomo 4.2.1 at my server, connected to an empty database, added some sites to be analyzed - but when I try to import some data from the logfiles, I get an Error 500 from the server and the logfile says \"PHP message: Error in Matomo (tracker): Error query: preparing query failed: Unknown column 'visit_first_action_time'\"\r\n\r\n## Expected Behavior\r\nThe data is imported correctly.\r\n\r\n## Current Behavior\r\nCommand:\r\n```\r\npython /home/matomo/misc/log-analytics/import_logs.py --enable-reverse-dns --enable-http-errors --enable-http-redirects --enable-bots --url=https://example.com/matomo --idsite=1 /var/log/nginx/access.log-20210328\r\n0 lines parsed, 0 lines recorded, 0 records/sec (avg), 0 records/sec (current)\r\nParsing log /var/log/nginx/access.log-20210328...\r\n2021-04-03 10:07:02,054: [INFO] Error when connecting to Matomo: HTTP Error 500: Internal Server Error\r\n```\r\n\r\nlogfile:\r\n```\r\n2021/04/03 09:53:57 [warn] 5709#0: *5422011 a client request body is buffered to a temporary file /var/lib/nginx/tmp/client/0000000712, client: 1.2.3.4, server: example.com, request: \"POST /matomo/piwik.php HTTP/1.1\", host: \"example.com\"\r\n2021/04/03 09:53:57 [error] 5709#0: *5422011 FastCGI sent in stderr: \"PHP message: Error in Matomo (tracker): Error query: preparing query failed: Unknown column 'visit_first_action_time' in 'field list' : SELECT visit_last_action_time, visit_first_action_time, idvisitor, idvisit, user_id, visit_exit_idaction_url, visit_exit_idaction_name, visitor_returning, visitor_seconds_since_first, visitor_seconds_since_order, visitor_count_visits, visit_goal_buyer, location_country, location_region, location_city, location_latitude, location_longitude, referer_name, referer_keyword, referer_type, idsite, profilable, visit_entry_idaction_url, visit_total_actions, visit_total_interactions, visit_total_searches, referer_url, config_browser_name, config_client_type, config_device_brand, config_device_model, config_device_type, visit_total_events, visit_total_time, location_ip, location_browser_lang, last_idlink_va FROM matomo_log_visit WHERE visit_last_action_time >= ? AND visit_last_action_time <= ? AND idsite = ? AND config_id = ? ORDER BY visit_last_action_time\" while reading response header from upstream, client: 1.2.3.4, server: example.com, request: \"POST /matomo/piwik.php HTTP/1.1\", upstream: \"fastcgi://unix:/usr/lib64/php7.4/fpm/matomo/socket:\", host: \"example.com\"\r\n```\r\n## Possible Solution\r\nI tryed adding the column, but than I get an error about a different missing column (user_id).\r\n\r\n## Your Environment\r\n\r\n# Mandatory checks\r\n\r\n## PHP-Version >= 7.2.5: ✔ 7.4.15\r\n## PDO Erweiterung: ✔ \r\n## PDO\\MYSQL Erweiterung: ✔ \r\n## MYSQLI Erweiterung: ✔ \r\n## Weitere erforderliche Anforderungen: ✔ zlib ✔ SPL ✔ iconv ✔ json ✔ mbstring ✔ Reflection\r\n## Erforderliche Funktionen: ✔ debug_backtrace ✔ eval ✔ hash ✔ gzcompress ✔ gzuncompress ✔ pack\r\n## Benötigte PHP Konfiguration (php.ini): ✔ session.auto_start = 0 ✔ max_execution_time = 0 OR >= 30\r\n## Verzeichnisse mit Schreibzugriff: ✔ $DOC_ROOT/tmp ✔ $DOC_ROOT/tmp/assets ✔ $DOC_ROOT/tmp/cache ✔ $DOC_ROOT/tmp/climulti ✔ $DOC_ROOT/tmp/latest ✔ $DOC_ROOT/tmp/logs ✔ $DOC_ROOT/tmp/sessions ✔ $DOC_ROOT/tmp/tcpdf ✔ $DOC_ROOT/tmp/templates_c\r\n\r\n# Optional checks\r\n\r\n## Dateiintegrität: ✔ \r\n## Tracker-Status: ✔ \r\n## Speicherlimit: ✔ 512M\r\n## Zeitzone: ✔ \r\n## Öffnen einer URL: ✔ curl\r\n## PageSpeed deaktiviert: ✔ \r\n## GD > 2.x + Freetype (graphics): ✔ \r\n## Andere Erweiterungen: ✔ json ✔ libxml ✔ dom ✔ SimpleXML\r\n## Andere Funktionen: ✔ shell_exec ✔ set_time_limit ✔ mail ✔ parse_ini_file ✔ glob ✔ gzopen ✔ md5_file\r\n## Dateisystem: ✔ \r\n## Cron einrichten (schneller ladende Berichte): ⚠ Warning: Für eine optimale Leistung und ein schnelles Matomo wird dringend empfohlen, einen Crontab einzurichten, um Ihre Berichte automatisch zu archivieren und das Auslösen durch den Browser in den Matomo-Einstellungen zu deaktivieren. <a href=\"https://matomo.org/docs/setup-auto-archiving/\" target=\"_blank\" rel=\"noreferrer noopener\">Erfahren Sie mehr.</a>\r\n## Cron einrichten - Prozesse via CLI steuern: nicht unterstützt (optional)\r\n## Datenbankfähigkeiten: ✔ UTF8mb4 charset ⚠ Warning: LOAD DATA INFILE<br/>Die Benutzung von LOAD DATA INFILE erhöht die Geschwindigkeit des Matomo Archivierungsprozesses erheblich. Um dies für Matomo verfügbar zu machen, setzen Sie bitte eine neuere PHP & MySQL Software ein und stellen Sie sicher, dass der gewählte Datenbankbenutzer das FILE Recht besitzt.<br/>Falls Ihr Matomo Server Websites mit erhöhtem Verkehrsaufkommen (z.B.: > 100 000 Seiten pro Monat) verarbeiten muss, empfehlen wir dieses Problem zu beheben. ✔ CREATE TEMPORARY TABLES ✔ Changing transaction isolation level\r\n## Maximale Packetgröße: ✔ \r\n## Erzwungene SSL Verbindung: ⚠ Warning: Wir empfehlen, Matomo ausschliesslich über sichere SSL Verbindungen zu verwenden. Um unsicheren Zugriff über http zu verhindern, fügen Sie <code>force_ssl = 1</code> dem Bereich <code>General</code> in Ihrer Matomo config/config.ini.php Datei hinzu.\r\n## Standorterkennung: ⚠ Warning: Die voreingestellte Standorterkennung versucht das Herkunftsland des Besuchers anhand dessen verwendeter Sprache zu erkennen. Dies ist nicht sehr genau, daher <a href=\"https://matomo.org/docs/geo-locate/\" rel=\"noreferrer noopener\" target=\"_blank\">wird empfohlen Geolocation-Datenbank zu installieren und zu nutzen.</a>\r\n## Update über HTTPS: ✔ \r\n## Schreibbarer JavaScript-Tracker (\"/matomo.js\"): ✔ \r\n\r\n# Informational results\r\n\r\n## Matomo Version: 4.2.1\r\n## Matomo Update History: 4.2.1,\r\n## Matomo Install Version: 4.2.1\r\n## Latest Available Version: 4.2.1\r\n## Is Git Deployment: 0\r\n## PHP_OS: Linux\r\n## PHP_BINARY: /usr/lib64/php7.4/bin/php-fpm\r\n## PHP SAPI: fpm-fcgi\r\n## Timezone Version: 2020.4\r\n## PHP Timezone: UTC\r\n## PHP Time: 1617437516\r\n## PHP Datetime: 2021-04-03 08:11:56\r\n## PHP INI max_execution_time: 30\r\n## PHP INI post_max_size: 8M\r\n## PHP INI max_input_vars: 1000\r\n## PHP INI zlib.output_compression: \r\n## Curl Version: 7.74.0, OpenSSL/1.1.1j\r\n## Suhosin Installed: 0\r\n## DB Prefix: matomo_\r\n## DB Charset: utf8mb4\r\n## DB Adapter: MYSQLI\r\n## MySQL Version: 10.4.17-MariaDB-log\r\n## Num Tables: 31\r\n## Browser Segment Archiving Enabled: 1\r\n## Development Mode Enabled: 0\r\n## Internet Enabled: 1\r\n## Multi Server Environment: 0\r\n## Auto Update Enabled: 1\r\n## Custom User Path: 0\r\n## Custom Include Path: 0\r\n## Release Channel: latest_stable\r\n## Plugins Activated: API, Actions, Annotations, BulkTracking, Contents, CoreAdminHome, CoreConsole, CoreHome, CorePluginsAdmin, CoreUpdater, CoreVisualizations, CustomDimensions, CustomJsTracker, Dashboard, DevicePlugins, DevicesDetection, Diagnostics, Ecommerce, Events, Feedback, GeoIp2, Goals, Heartbeat, ImageGraph, Insights, Installation, Intl, IntranetMeasurable, LanguagesManager, Live, Login, Marketplace, MobileMessaging, Monolog, Morpheus, MultiSites, Overlay, PagePerformance, PrivacyManager, ProfessionalServices, Proxy, Referrers, Resolution, RssWidget, SEO, ScheduledReports, SegmentEditor, SitesManager, Tour, Transitions, TwoFactorAuth, UserCountry, UserCountryMap, UserId, UserLanguage, UsersManager, VisitFrequency, VisitTime, VisitorInterest, VisitsSummary, WebsiteMeasurable, Widgetize\r\n## Plugins Deactivated: CustomVariables, DBStats, MobileAppMeasurable, Provider, TagManager\r\n## Plugins Invalid: \r\n## Server Info: nginx/1.18.0\r\n## Had visits in last 1 day: 0\r\n## Had visits in last 3 days: 0\r\n## Had visits in last 5 days: 0\r\n## Archive Time Last Started: 0\r\n## Archive Time Last Finished: 0\r\n## Num invalidations: 0 queued, 0 in progress\r\n## User Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36\r\n## Browser Language: de-de,de,en-us,en\r\n## Anonymize Referrer: \r\n## Do Not Track enabled: 1", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17420/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17420/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17419", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17419/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17419/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17419/events", "html_url": "https://github.com/matomo-org/matomo/pull/17419", "id": 849563811, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA4MzE5ODk1", "number": 17419, "title": "[automatic translation update] Updated 79 strings in 4 languages (tr it el sq)", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-04-03T03:01:13Z", "updated_at": "2021-04-04T18:17:53Z", "closed_at": "2021-04-04T18:16:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17419", "html_url": "https://github.com/matomo-org/matomo/pull/17419", "diff_url": "https://github.com/matomo-org/matomo/pull/17419.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17419.patch", "merged_at": "2021-04-04T18:16:56Z" }, "body": "- Updated Turkish (14 changes / 100% translated)\n- Updated Italian (16 changes / 99% translated)\n- Updated Greek (34 changes / 100% translated)\n- Updated Albanian (15 changes / 99% translated)\n\n\nHelp us translate Matomo in your language!\nSignup at https://www.transifex.com/matomo/matomo/\nIf you have any questions, get in touch with us at translations@matomo.org", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17419/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17418", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17418/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17418/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17418/events", "html_url": "https://github.com/matomo-org/matomo/pull/17418", "id": 848912017, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA3NzcyNDc0", "number": 17418, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-04-02T02:28:03Z", "updated_at": "2021-04-28T11:37:06Z", "closed_at": "2021-04-02T05:26:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17418", "html_url": "https://github.com/matomo-org/matomo/pull/17418", "diff_url": "https://github.com/matomo-org/matomo/pull/17418.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17418.patch", "merged_at": "2021-04-02T05:26:46Z" }, "body": "Updated submodules:\n- plugins/TagManager\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17418/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17418/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17416", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17416/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17416/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17416/events", "html_url": "https://github.com/matomo-org/matomo/pull/17416", "id": 847375352, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA2MzkzOTc1", "number": 17416, "title": "better systemcheck error boxes", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 171063645, "node_id": "MDU6TGFiZWwxNzEwNjM2NDU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Design%20/%20UI", "name": "c: Design / UI", "color": "006b75", "default": false, "description": "For issues that impact Matomo's user interface or the design overall." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 1, "created_at": "2021-03-31T21:32:40Z", "updated_at": "2021-04-01T04:59:14Z", "closed_at": "2021-04-01T04:59:12Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17416", "html_url": "https://github.com/matomo-org/matomo/pull/17416", "diff_url": "https://github.com/matomo-org/matomo/pull/17416.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17416.patch", "merged_at": "2021-04-01T04:59:11Z" }, "body": "The system check `LongErrorMessage`-boxes were missing the bottom border making them look a bit weird:\r\n![image](https://user-images.githubusercontent.com/6266037/113213859-fccdab00-9278-11eb-9614-98d68f9a775d.png)\r\n\r\nThere is unfortunately a pretty specific rule from another part of Matomo:\r\n```css\r\ntable.entityTable tbody tr td {\r\n border-bottom: 1px solid #f2f2f2 !important;\r\n}\r\n```\r\nso to make this look correct I also had to make the error rule more specific. \r\nHopefully the .error class is used nowhere else in Matomo\r\n\r\nBut I think it should be fine as it is generally defined here:\r\nhttps://github.com/matomo-org/matomo/blob/703ed9402e4aada544ec94e789021df86575ad15/plugins/Morpheus/stylesheets/simple_structure.css#L188-L193\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17416/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17416/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17417", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17417/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17417/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17417/events", "html_url": "https://github.com/matomo-org/matomo/issues/17417", "id": 847415165, "node_id": "MDU6SXNzdWU4NDc0MTUxNjU=", "number": 17417, "title": "setting the cookie domain even when cookies are disabled for compatibility with \"Require Cookie Consent\" feature", "user": { "login": "Starker3", "id": 20905821, "node_id": "MDQ6VXNlcjIwOTA1ODIx", "avatar_url": "https://avatars.githubusercontent.com/u/20905821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Starker3", "html_url": "https://github.com/Starker3", "followers_url": "https://api.github.com/users/Starker3/followers", "following_url": "https://api.github.com/users/Starker3/following{/other_user}", "gists_url": "https://api.github.com/users/Starker3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Starker3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Starker3/subscriptions", "organizations_url": "https://api.github.com/users/Starker3/orgs", "repos_url": "https://api.github.com/users/Starker3/repos", "events_url": "https://api.github.com/users/Starker3/events{/privacy}", "received_events_url": "https://api.github.com/users/Starker3/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 126437638, "node_id": "MDU6TGFiZWwxMjY0Mzc2Mzg=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Privacy", "name": "c: Privacy", "color": "bfe5bf", "default": false, "description": "For issues that impact or improve the privacy." } ], "state": "closed", "locked": false, "assignee": { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 10, "created_at": "2021-03-31T20:41:15Z", "updated_at": "2021-07-26T03:57:34Z", "closed_at": "2021-07-15T02:55:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Description of issue:\r\nWhen using a cookie domain such as .example.com and requiring cookie consent causes cookies for both www.example.com and .example.com to be created when cookie consent is given when using MTM\r\nHowever, when cookie consent is withdrawn only one set of cookies are deleted (.example.com).\r\nThe www.example.com cookies remain including the mtm_cookie_consent cookie which causes .example.com cookies to be recreated when refreshing the page.\r\n\r\n### Steps to reproduce:\r\n1. Setup MTM container using the following settings:\r\nEnable Link Tracking\r\nEnable Cross Domain Linking\r\nRequire Cookie Consent\r\nCookie domain set to .example.com\r\nBundle Tracker\r\nRegister As Default Tracker\r\n\r\n2. Visit the page and execute `_paq.push(['rememberCookieConsentGiven']);`\r\n3. Refresh the page and check cookies created (There should be cookies for both www.example.com and .example.com when reproducing - in my testing I am using a website with a different subdomain of static.example.com)\r\nIt is expected here that cookies should only be set to .example.com\r\n![image](https://user-images.githubusercontent.com/20905821/113207699-68d9fe80-92cd-11eb-8fd7-f8cc9f338fae.png)\r\n\r\n4. Execute `_paq.push(['forgetCookieConsentGiven']);` and refresh the page. Check cookies, there should be cookies that remained for www.example.com:\r\n![image](https://user-images.githubusercontent.com/20905821/113207895-ab034000-92cd-11eb-96aa-2e4ac8abb7f6.png)\r\n\r\n5. Refresh the page, it should have recreated the cookies for .example.com:\r\n![image](https://user-images.githubusercontent.com/20905821/113208056-db4ade80-92cd-11eb-8f15-983a55aa0412.png)\r\n\r\n### Expected behaviour:\r\nWhen not using a cookie domain and having Require Cookie Consent enabled, the Cookie Consent works as expected. It only creates cookies for the subdomain that is being viewed and the cookies are deleted when withdrawing cookie consent.\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17417/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17417/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17415", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17415/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17415/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17415/events", "html_url": "https://github.com/matomo-org/matomo/issues/17415", "id": 846282977, "node_id": "MDU6SXNzdWU4NDYyODI5Nzc=", "number": 17415, "title": "Service Crashes on initial Setup when using specific passwords", "user": { "login": "cinatic", "id": 2721787, "node_id": "MDQ6VXNlcjI3MjE3ODc=", "avatar_url": "https://avatars.githubusercontent.com/u/2721787?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cinatic", "html_url": "https://github.com/cinatic", "followers_url": "https://api.github.com/users/cinatic/followers", "following_url": "https://api.github.com/users/cinatic/following{/other_user}", "gists_url": "https://api.github.com/users/cinatic/gists{/gist_id}", "starred_url": "https://api.github.com/users/cinatic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cinatic/subscriptions", "organizations_url": "https://api.github.com/users/cinatic/orgs", "repos_url": "https://api.github.com/users/cinatic/repos", "events_url": "https://api.github.com/users/cinatic/events{/privacy}", "received_events_url": "https://api.github.com/users/cinatic/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 3, "created_at": "2021-03-31T09:30:33Z", "updated_at": "2021-03-31T10:20:45Z", "closed_at": "2021-03-31T10:08:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "i had problems when using the following password for the initial user `11!test$Lc&gCu+_+gB2c5dQGzywtuS=5M+`, this should be error handled", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17415/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17414", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17414/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17414/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17414/events", "html_url": "https://github.com/matomo-org/matomo/issues/17414", "id": 845803470, "node_id": "MDU6SXNzdWU4NDU4MDM0NzA=", "number": 17414, "title": "Calender shows compare to previous period after page reload instead of period year", "user": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-03-31T04:03:46Z", "updated_at": "2021-03-31T04:04:15Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n\r\n## Expected Behavior\r\n<!-- When describing a bug, please tell us what should happen -->\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\nWhen we choose \"compare to previous year\" in the calendar, after page reload, we'd like to see \"compare to previous year\" in the calendar when we open it.\r\n\r\n## Current Behavior\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\nWhen we choose \"compare to previous year\" in the calendar, after page reload, the dates and data are correct, but when we open the calendar, it shows \"compare to previous period\".\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. Open the calendar and set the period to day, week or month.\r\n2. Choose \"compare to previous year\"\r\n3. Reload the page\r\n4. Open the calendar and check what it shows \r\n\r\n## Your Environment\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.2.1 on demo site\r\n\r\nThe problem probably is that in the URL we don't save what kind of comparison is that, only the dates, so the data is correct, but the calendar doesn't know it is actually a \"compare to previous year\".\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17414/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17413", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17413/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17413/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17413/events", "html_url": "https://github.com/matomo-org/matomo/pull/17413", "id": 845573528, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA0NzMyOTI2", "number": 17413, "title": "Use exceptions to provide more context to warning logs in Row.php", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 1, "created_at": "2021-03-31T01:03:07Z", "updated_at": "2021-04-29T08:48:58Z", "closed_at": "2021-04-01T07:12:49Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17413", "html_url": "https://github.com/matomo-org/matomo/pull/17413", "diff_url": "https://github.com/matomo-org/matomo/pull/17413.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17413.patch", "merged_at": "2021-04-01T07:12:49Z" }, "body": "### Description:\r\n\r\nThe warning logs in Row.php are pretty vague about what is actually going on to cause them, making them hard to reproduce and debug. Using exceptions, however, we can get stack traces in the right context.\r\n\r\nLooks a bit odd, but it seems to work.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17413/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17412", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17412/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17412/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17412/events", "html_url": "https://github.com/matomo-org/matomo/pull/17412", "id": 845176287, "node_id": "MDExOlB1bGxSZXF1ZXN0NjA0MzU4NTM0", "number": 17412, "title": "track visits in JSTracker UI test to separate site so it does not affect most other tests screenshots", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 2, "created_at": "2021-03-30T20:06:35Z", "updated_at": "2021-04-06T23:30:12Z", "closed_at": "2021-04-06T23:30:09Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": true, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17412", "html_url": "https://github.com/matomo-org/matomo/pull/17412", "diff_url": "https://github.com/matomo-org/matomo/pull/17412.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17412.patch", "merged_at": null }, "body": "### Description:\r\n\r\nAs title, should stop some random failures in the future.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17412/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17411", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17411/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17411/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17411/events", "html_url": "https://github.com/matomo-org/matomo/issues/17411", "id": 844689742, "node_id": "MDU6SXNzdWU4NDQ2ODk3NDI=", "number": 17411, "title": "Internal Server Error while creating tables during installation", "user": { "login": "jonaskohl", "id": 23175424, "node_id": "MDQ6VXNlcjIzMTc1NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/23175424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonaskohl", "html_url": "https://github.com/jonaskohl", "followers_url": "https://api.github.com/users/jonaskohl/followers", "following_url": "https://api.github.com/users/jonaskohl/following{/other_user}", "gists_url": "https://api.github.com/users/jonaskohl/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonaskohl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonaskohl/subscriptions", "organizations_url": "https://api.github.com/users/jonaskohl/orgs", "repos_url": "https://api.github.com/users/jonaskohl/repos", "events_url": "https://api.github.com/users/jonaskohl/events{/privacy}", "received_events_url": "https://api.github.com/users/jonaskohl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." }, { "id": 1964375076, "node_id": "MDU6TGFiZWwxOTY0Mzc1MDc2", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Likely%20a%20server%20config%20issue", "name": "Likely a server config issue", "color": "d4c5f9", "default": false, "description": "Indicates that the issue is not in Matomo and a fix likely requires a server configuration change." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 3, "created_at": "2021-03-30T14:56:55Z", "updated_at": "2021-05-17T03:58:35Z", "closed_at": "2021-03-30T21:24:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n\r\n## Expected Behavior\r\nInstallation should function as intended without any errors\r\n\r\n## Current Behavior\r\nAfter filling in the database details and clicking continue, the script errors out after about two minutes with the following error page\r\n<details><summary>More info</summary><blockquote>\r\n<h1>Internal Server Error</h1>\r\nThe server encountered an internal error or misconfiguration and was unable to complete your request.\r\n\r\nPlease contact the server administrator at [REDACTED] to inform them of the time this error occurred, and the actions you performed just before this error.\r\n\r\nMore information about this error may be available in the server error log.\r\n\r\n</blockquote></details>\r\n\r\nThe only thing that appears in my error log is the following:\r\n\r\n End of script output before headers: index.php\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. Try to install Matomo\r\n\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\n\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.2.1\r\n* PHP Version: 7.4.16\r\n* Server Operating System: Linux (Shared hosting)\r\n* Additionally installed plugins: None\r\n<!-- For UI Bugs please also tell us something about your environment -->\r\n* Browser: Edge 89\r\n* Operating System: Windows 10 Home 20H2 64-Bit\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17411/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17410", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17410/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17410/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17410/events", "html_url": "https://github.com/matomo-org/matomo/pull/17410", "id": 844254022, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAzNTI0Nzc1", "number": 17410, "title": "Fixes possible notice", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-30T09:01:11Z", "updated_at": "2021-04-01T04:42:09Z", "closed_at": "2021-04-01T04:42:04Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17410", "html_url": "https://github.com/matomo-org/matomo/pull/17410", "diff_url": "https://github.com/matomo-org/matomo/pull/17410.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17410.patch", "merged_at": "2021-04-01T04:42:04Z" }, "body": "### Description:\r\n\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17410/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17409", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17409/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17409/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17409/events", "html_url": "https://github.com/matomo-org/matomo/pull/17409", "id": 844198015, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAzNDc3NDY2", "number": 17409, "title": "Make profile export work in current session", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-30T07:59:57Z", "updated_at": "2021-04-01T04:47:25Z", "closed_at": "2021-04-01T04:47:22Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17409", "html_url": "https://github.com/matomo-org/matomo/pull/17409", "diff_url": "https://github.com/matomo-org/matomo/pull/17409.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17409.patch", "merged_at": "2021-04-01T04:47:21Z" }, "body": "### Description:\r\n\r\nfixes #17407 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17409/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17408", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17408/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17408/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17408/events", "html_url": "https://github.com/matomo-org/matomo/pull/17408", "id": 844002271, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAzMzEwNTA5", "number": 17408, "title": "store segment hash in DB", "user": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 10, "created_at": "2021-03-30T02:32:26Z", "updated_at": "2021-04-19T20:59:45Z", "closed_at": "2021-04-18T22:18:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17408", "html_url": "https://github.com/matomo-org/matomo/pull/17408", "diff_url": "https://github.com/matomo-org/matomo/pull/17408.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17408.patch", "merged_at": "2021-04-18T22:18:49Z" }, "body": "### Description:\r\n\r\nfixes #17301 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17408/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17407", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17407/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17407/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17407/events", "html_url": "https://github.com/matomo-org/matomo/issues/17407", "id": 843816815, "node_id": "MDU6SXNzdWU4NDM4MTY4MTU=", "number": 17407, "title": "Exporting \"Visitor Profile\" data results in \"Your session has expired due to inactivity. Please log in to continue.\"", "user": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-29T21:14:59Z", "updated_at": "2021-04-01T04:47:22Z", "closed_at": "2021-04-01T04:47:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n\r\n## Steps to Reproduce & Expected Behavior\r\n\r\n* Go to Visits Log\r\n* Click on a \"View visitor profile\" icon on any visit\r\n* Click on the \"Export\" icon on the right of the Visitor ID at the top of the visitor profile \r\n* Expected to get a working XML output\r\n\r\n<!-- When describing a bug, please tell us what should happen -->\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\n\r\n## Current Behavior\r\n\r\nGot instead this: \r\n```\r\n<?xml version=\"1.0\" encoding=\"utf-8\" ?>\r\n<result>\r\n\t<error message=\"You can't access this resource as it requires 'view' access for the website id = 1.\" />\r\n</result>\r\n```\r\n\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\n\r\n## Possible Solution\r\n\r\nMight be similar to https://github.com/matomo-org/matomo/issues/16043\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\n\r\n\r\n## Context\r\n\r\nWanting to export the visitor profile data to see the metadata included and later use the API pragmatically\r\n\r\n## Your Environment\r\n\r\nReproduced on Matomo Cloud, also running latest 4.3.0 beta\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: latest\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17407/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17407/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17406", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17406/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17406/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17406/events", "html_url": "https://github.com/matomo-org/matomo/pull/17406", "id": 843815863, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAzMTQ4NTA3", "number": 17406, "title": "Fix build", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-29T21:13:43Z", "updated_at": "2021-03-29T21:20:16Z", "closed_at": "2021-03-29T21:20:13Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17406", "html_url": "https://github.com/matomo-org/matomo/pull/17406", "diff_url": "https://github.com/matomo-org/matomo/pull/17406.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17406.patch", "merged_at": "2021-03-29T21:20:13Z" }, "body": "### Description:\r\n\r\nAPI listing needed to be updated. I believe the other failures are due to change in order of test runs (which can happen when a new test is run). Some tests track in the UI test so I guess they have an effect on other tests. Might be worth looking into if time ever frees up or someone stumbles upon why.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17406/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17405", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17405/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17405/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17405/events", "html_url": "https://github.com/matomo-org/matomo/pull/17405", "id": 843144601, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAyNTcwMDYx", "number": 17405, "title": "Updates tecnickcom/tcpdf", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-29T08:58:12Z", "updated_at": "2021-05-17T05:18:34Z", "closed_at": "2021-03-29T14:43:44Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17405", "html_url": "https://github.com/matomo-org/matomo/pull/17405", "diff_url": "https://github.com/matomo-org/matomo/pull/17405.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17405.patch", "merged_at": "2021-03-29T14:43:44Z" }, "body": "### Description:\r\n\r\nThis PHP 8 compatible version has been released 2 days ago\r\n\r\nrefs #16897 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17405/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17405/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17404", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17404/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17404/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17404/events", "html_url": "https://github.com/matomo-org/matomo/pull/17404", "id": 842911310, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAyMzcxMjQz", "number": 17404, "title": "add a new stale action", "user": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false } ], "milestone": null, "comments": 19, "created_at": "2021-03-29T02:29:26Z", "updated_at": "2021-07-26T05:05:14Z", "closed_at": "2021-04-16T03:44:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17404", "html_url": "https://github.com/matomo-org/matomo/pull/17404", "diff_url": "https://github.com/matomo-org/matomo/pull/17404.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17404.patch", "merged_at": "2021-04-16T03:44:56Z" }, "body": "### Description:\r\n\r\nrefs #17318 #17344 \r\n\r\nI checked the logs of the dry runs and actually did not find any when actually it would comment on any or. The current setup checks only PRs (not issues) and only PRs were created after 2021-03-01.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17404/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17403", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17403/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17403/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17403/events", "html_url": "https://github.com/matomo-org/matomo/issues/17403", "id": 842843380, "node_id": "MDU6SXNzdWU4NDI4NDMzODA=", "number": 17403, "title": "New row action to create custom alert", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 137043266, "node_id": "MDU6TGFiZWwxMzcwNDMyNjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Usability", "name": "c: Usability", "color": "bfe5bf", "default": false, "description": "For issues that let users achieve a defined goal more effectively or efficiently." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-03-28T22:09:54Z", "updated_at": "2021-03-28T22:09:54Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "It be great to have a new row action in tables to create a custom alert. Eg when hovering in Device Types `Mobile` then you could directly create an alert for this when traffic drops by 50%. It would automatically select the correct report and the correct value and the user would only configure the `Alert me when...` section. This way could get more awareness for the alerts feature which is quite useful. For evolution graphs could maybe also add an action in the bottom or so (next to period selector etc) but not sure. And of course it would only be shown for reports supported by custom alerts.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17403/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17403/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17402", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17402/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17402/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17402/events", "html_url": "https://github.com/matomo-org/matomo/pull/17402", "id": 842787105, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAyMjc3NTEw", "number": 17402, "title": "fix ScheduledReports.sendReport API", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 6, "created_at": "2021-03-28T17:31:16Z", "updated_at": "2021-03-30T00:00:16Z", "closed_at": "2021-03-30T00:00:13Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17402", "html_url": "https://github.com/matomo-org/matomo/pull/17402", "diff_url": "https://github.com/matomo-org/matomo/pull/17402.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17402.patch", "merged_at": "2021-03-30T00:00:13Z" }, "body": "It seems like no one (apart from @Chardonneaur) used that API in years as it always returns \r\n```json\r\n{\r\n \"result\": \"error\",\r\n \"message\": \"The period 'never' is not supported. Try any of the following instead: day, week, month, year, range\"\r\n}\r\n```\r\n\r\neven if the period is definitely not set to `'never'`. It seems like the wrong variable is used here, as `$report['period_param'] = $period;` is set above.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17402/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17401", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17401/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17401/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17401/events", "html_url": "https://github.com/matomo-org/matomo/pull/17401", "id": 842779826, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAyMjcyMTgz", "number": 17401, "title": "fix API description for ScheduledReports", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 1678500922, "node_id": "MDU6TGFiZWwxNjc4NTAwOTIy", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Documentation", "name": "c: Documentation", "color": "f4e866", "default": false, "description": "Indicates a need for improvements or additions to documentation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-28T16:56:52Z", "updated_at": "2021-03-29T09:11:22Z", "closed_at": "2021-03-29T09:11:19Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17401", "html_url": "https://github.com/matomo-org/matomo/pull/17401", "diff_url": "https://github.com/matomo-org/matomo/pull/17401.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17401.patch", "merged_at": "2021-03-29T09:11:19Z" }, "body": "I don't think there is any `sendEmailReport` and the description is meant to say `sendReport`.\r\n\r\n### Review\r\n\r\n* [x] Functional review done\r\n* [x] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [x] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [x] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [x] Code review done\r\n* [x] Tests were added if useful/possible\r\n* [x] Reviewed for breaking changes\r\n* [x] Developer changelog updated if needed\r\n* [x] Documentation added if needed\r\n* [x] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17401/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17400", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17400/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17400/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17400/events", "html_url": "https://github.com/matomo-org/matomo/pull/17400", "id": 842707408, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAyMjE4NzI1", "number": 17400, "title": "Disallow enable 2FA requirement when user doesn't have 2FA enabled", "user": { "login": "andyjdavis", "id": 354954, "node_id": "MDQ6VXNlcjM1NDk1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/354954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andyjdavis", "html_url": "https://github.com/andyjdavis", "followers_url": "https://api.github.com/users/andyjdavis/followers", "following_url": "https://api.github.com/users/andyjdavis/following{/other_user}", "gists_url": "https://api.github.com/users/andyjdavis/gists{/gist_id}", "starred_url": "https://api.github.com/users/andyjdavis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andyjdavis/subscriptions", "organizations_url": "https://api.github.com/users/andyjdavis/orgs", "repos_url": "https://api.github.com/users/andyjdavis/repos", "events_url": "https://api.github.com/users/andyjdavis/events{/privacy}", "received_events_url": "https://api.github.com/users/andyjdavis/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 13, "created_at": "2021-03-28T10:19:52Z", "updated_at": "2021-04-28T11:46:34Z", "closed_at": "2021-04-13T22:17:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17400", "html_url": "https://github.com/matomo-org/matomo/pull/17400", "diff_url": "https://github.com/matomo-org/matomo/pull/17400.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17400.patch", "merged_at": "2021-04-13T22:17:51Z" }, "body": "### Description:\r\nTrying to avoid a situation where admin turns on require 2fa without having it set up themselves. https://github.com/matomo-org/matomo/issues/17352\r\n\r\nThis is just a text change in the admin UI. I will ask my questions about how to determine whether the current user has 2fa enabled in the orginal issue (#17352 ).\r\n![2fa](https://user-images.githubusercontent.com/354954/112748931-b1ee3200-8ff1-11eb-801b-2fee5b2bc5f4.png)\r\n\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17400/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17399", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17399/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17399/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17399/events", "html_url": "https://github.com/matomo-org/matomo/issues/17399", "id": 842423007, "node_id": "MDU6SXNzdWU4NDI0MjMwMDc=", "number": 17399, "title": "obsolete files left over from previous releases cause errors in 4.2.1 upgrade database restructure and runtime", "user": { "login": "satphil", "id": 15135648, "node_id": "MDQ6VXNlcjE1MTM1NjQ4", "avatar_url": "https://avatars.githubusercontent.com/u/15135648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satphil", "html_url": "https://github.com/satphil", "followers_url": "https://api.github.com/users/satphil/followers", "following_url": "https://api.github.com/users/satphil/following{/other_user}", "gists_url": "https://api.github.com/users/satphil/gists{/gist_id}", "starred_url": "https://api.github.com/users/satphil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satphil/subscriptions", "organizations_url": "https://api.github.com/users/satphil/orgs", "repos_url": "https://api.github.com/users/satphil/repos", "events_url": "https://api.github.com/users/satphil/events{/privacy}", "received_events_url": "https://api.github.com/users/satphil/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 1678500922, "node_id": "MDU6TGFiZWwxNjc4NTAwOTIy", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Documentation", "name": "c: Documentation", "color": "f4e866", "default": false, "description": "Indicates a need for improvements or additions to documentation." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 13, "created_at": "2021-03-27T05:31:04Z", "updated_at": "2022-04-13T04:32:06Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "\r\n## Expected Behavior\r\nWhen you run \r\n\r\n`php \"$PUBLIC_DIR/console\" core:update` \r\n\r\nto upgrade matomo from 3.13.5 to 4.2.1, the database restructure should succeed:\r\n\r\n Executing UPDATE `piwik_archive_numeric_2021_03` SET `name` = 'done' WHERE `name` = 'done.';... Done. [291 / 294]\r\n\r\n Executing ALTER TABLE `piwik_log_visit` MODIFY COLUMN `profilable` TINYINT(1) NULL, MODIFY COLUMN `visitor_seconds_since_first` INT(11) UNSIGNED NULL, MODIFY COLUMN `visitor_seconds_since_order` INT(11) UNSIGNED NULL, MODIFY COLUMN `visitor_count_visits` INT(11) UNSIGNED NOT NULL DEFAULT 0, MODIFY COLUMN `visit_total_interactions` MEDIUMINT UNSIGNED DEFAULT 0, MODIFY COLUMN `referer_name` VARCHAR(255) NULL, MODIFY COLUMN `referer_url` VARCHAR(1500) NULL, MODIFY COLUMN `config_browser_name` VARCHAR(40) NULL, ADD COLUMN `config_client_type` TINYINT( 1 ) NULL DEFAULT NULL, MODIFY COLUMN `visitor_seconds_since_last` INT(11) UNSIGNED NULL, MODIFY COLUMN `location_region` char(3) DEFAULT NULL;... Done. [292 / 294]\r\n\r\n Executing ALTER TABLE `piwik_log_conversion` MODIFY COLUMN `visitor_seconds_since_first` INT(11) UNSIGNED NULL, MODIFY COLUMN `visitor_seconds_since_order` INT(11) UNSIGNED NULL, MODIFY COLUMN `visitor_count_visits` INT(11) UNSIGNED NOT NULL DEFAULT 0, MODIFY COLUMN `referer_name` VARCHAR(255) NULL, ADD COLUMN `config_browser_name` VARCHAR(40) NULL, ADD COLUMN `config_client_type` TINYINT( 1 ) NULL DEFAULT NULL, MODIFY COLUMN `location_region` char(3) DEFAULT NULL;... Done. [293 / 294]\r\n\r\n Executing ALTER TABLE `piwik_log_link_visit_action` MODIFY COLUMN `search_cat` VARCHAR(200) NULL, MODIFY COLUMN `search_count` INTEGER(10) UNSIGNED NULL, ADD COLUMN `idaction_product_cat` INT(10) UNSIGNED NULL, ADD COLUMN `idaction_product_cat2` INT(10) UNSIGNED NULL, ADD COLUMN `idaction_product_cat3` INT(10) UNSIGNED NULL, ADD COLUMN `idaction_product_cat4` INT(10) UNSIGNED NULL, ADD COLUMN `idaction_product_cat5` INT(10) UNSIGNED NULL, ADD COLUMN `idaction_product_name` INT(10) UNSIGNED NULL, ADD COLUMN `product_price` DOUBLE NULL, ADD COLUMN `idaction_product_sku` INT(10) UNSIGNED NULL;... Done. [294 / 294]\r\n\r\nMatomo has been successfully updated!\r\n\r\n\r\n\r\n## Current Behavior\r\noutput as follows:\r\n\r\n\r\n\r\n Executing UPDATE `piwik_archive_numeric_2021_03` SET `name` = 'done' WHERE `name` = 'done.';... Done. [291 / 294]\r\n\r\n Error trying to execute the migration 'ALTER TABLE `piwik_log_visit` MODIFY COLUMN `profilable` TINYINT(1) NULL, MODIFY COLUMN `visitor_seconds_since_first` INT(11) UNSIGNED NULL, MODIFY COLUMN `visitor_seconds_since_order` INT(11) UNSIGNED NULL, MODIFY COLUMN `visitor_count_visits` INT(11) UNSIGNED NOT NULL DEFAULT 0, MODIFY COLUMN `visit_total_interactions` MEDIUMINT UNSIGNED DEFAULT 0, MODIFY COLUMN `referer_name` VARCHAR(255) NULL, MODIFY COLUMN `referer_url` VARCHAR(1500) NULL, MODIFY COLUMN `config_browser_name` VARCHAR(40) NULL, ADD COLUMN `config_client_type` TINYINT( 1 ) NULL DEFAULT NULL, MODIFY COLUMN `visitor_seconds_since_last` INT(11) UNSIGNED NULL, \r\n\r\n MODIFY COLUMN `location_region` char(3) DEFAULT NULL, \r\n\r\n MODIFY COLUMN `location_region` char(3) DEFAULT NULL;'.\r\n\r\n The error was: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'location_region' in 'piwik_log_visit'\r\n\r\nNote the repetition of the `modify column location_region` at the end of the statement (I've added line breaks for clarity), which I believe causes the error.\r\n\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\n\r\n## Possible Solution\r\n\r\nI suspect 2 bugs.\r\n\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Bug 1\r\nThe matomo upgrade code that creates the SQL statement get confused by obsolete files and isn’t checking that the same column is modified twice.\r\n\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Bug 2\r\nThe install instructions for matomo don’t seem to take account of obsolete files left behind.\r\n\r\nAt matomo upgrade guide \r\n\r\n[https://matomo.org/docs/update/#the-manual-three-step-update](URL)\r\n\r\ndown at section\r\n\r\n`Replace the Matomo files with the latest version`\r\n\r\nit says\r\n\r\n> \" It is not needed to delete your old Matomo files before transferring the new ones. The new files should overwrite all the old files with the same names.\"\r\n\r\nI believe the error you are seeing occurs because it is necessary to delete obsolete Matomo files. The above instructions don’t make this expicit.\r\n\r\nOtherwise files that are deleted in future releases get left behind, and cause the grief you are seeing.\r\n\r\nIn my case, some of the files like the following (dated 28 Apr 2020, v3.13.5?) got left behind\r\n\r\n /var/www/piwik/plugins/DevicePlugins/Columns/PluginDirector.php\r\n /var/www/piwik/plugins/DevicePlugins/Columns/PluginGears.php\r\n /var/www/piwik/plugins/Actions/Columns/InteractionPosition.php\r\n /var/www/piwik/plugins/VisitorInterest/Columns/VisitsByDaysSinceLastVisit.php\r\n\r\nThese files are no longer included in the piwik.zip file from the matomo 4.2.1 release (dated 1 Mar 2021).\r\n\r\nI suspect these define columns that are no longer in the table and confuse the upgrade SQL statements which Bug 1 fails to spot. \r\n\r\nIt also leads to later errors like\r\n\r\n Column not found: 1054 Unknown column ‘config_director’ in ‘field list’\r\n\r\nor\r\n\r\n PHP Fatal error: Uncaught Error: Call to undefined method \r\n Piwik\\Tracker\\Request::getDaysSinceLastVisit() \r\n in /var/www/piwik/plugins/VisitorInterest/Columns/VisitsByDaysSinceLastVisit.php:38\r\n\r\nMy solution was to find all files not dated 1 Mar 2021 and renaming them out of my `/var/www/piwik/plugins` directory to a tmp directory. \r\n\r\nAlternatively, save the `config/config.ini.php` file, delete the old piwik directory, copy over the contents of the new `piwik.zip` file and then return the saved `config/config.ini.php` file.\r\n\r\n\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. Get a database from the 3.13.5 release. Copy some obsolete files into the /var/www/piwik/plugins directory. In my case, the obsolete files (i.e. files without a 1 March 2021 date) were:\r\n\r\n drwxr-xr-x 2 www-data www-data 4096 Apr 28 2020 ./CoreHome/angularjs/dialogtoggler\r\n -rw-r--r-- 1 www-data www-data 3253 Apr 28 2020 ./CoreHome/angularjs/dialogtoggler/dialogtoggler.controller.js\r\n -rw-r--r-- 1 www-data www-data 710 Apr 28 2020 ./CoreHome/angularjs/dialogtoggler/dialogtoggler.directive.js\r\n -rw-r--r-- 1 www-data www-data 3589 Apr 28 2020 ./CoreHome/angularjs/dialogtoggler/dialogtoggler-urllistener.service.js\r\n -rw-r--r-- 1 www-data www-data 1363 May 13 2019 ./CoreHome/angularjs/dialogtoggler/ngdialog.less\r\n -rw-r--r-- 1 www-data www-data 5845 Apr 28 2020 ./CoreHome/javascripts/donate.js\r\n -rw-r--r-- 1 www-data www-data 13527 Oct 29 2019 ./CoreHome/javascripts/iframeResizer.contentWindow.min.js\r\n -rw-r--r-- 1 www-data www-data 12917 Oct 29 2019 ./CoreHome/javascripts/iframeResizer.min.js\r\n -rw-r--r-- 1 www-data www-data 2383 Apr 28 2020 ./CoreHome/LoginWhitelist.php\r\n -rw-r--r-- 1 www-data www-data 75831 Apr 28 2020 ./Morpheus/fonts/piwik.svg\r\n -rw-r--r-- 1 www-data www-data 26300 Apr 28 2020 ./Morpheus/fonts/piwik.ttf\r\n -rw-r--r-- 1 www-data www-data 26376 Apr 28 2020 ./Morpheus/fonts/piwik.woff\r\n -rw-r--r-- 1 www-data www-data 10936 Apr 28 2020 ./Morpheus/fonts/piwik.woff2\r\n -rw-r--r-- 1 www-data www-data 2636 May 13 2019 ./Morpheus/images/paypal_subscribe.png\r\n -rw-r--r-- 1 www-data www-data 4045 May 13 2019 ./Morpheus/images/smileyprog_0.png\r\n -rw-r--r-- 1 www-data www-data 4268 May 13 2019 ./Morpheus/images/smileyprog_1.png\r\n -rw-r--r-- 1 www-data www-data 4292 May 13 2019 ./Morpheus/images/smileyprog_2.png\r\n -rw-r--r-- 1 www-data www-data 4589 May 13 2019 ./Morpheus/images/smileyprog_3.png\r\n -rw-r--r-- 1 www-data www-data 4733 May 13 2019 ./Morpheus/images/smileyprog_4.png\r\n -rw-r--r-- 1 www-data www-data 477 Jun 24 2019 ./TagManager/Template/Variable/PreConfigured/FormDestionationVariable.php\r\n drwxr-xr-x 3 www-data www-data 4096 Mar 27 16:04 ./Actions/Columns\r\n -rw-r--r-- 1 www-data www-data 1448 Apr 28 2020 ./Actions/Columns/InteractionPosition.php\r\n -rw-r--r-- 1 www-data www-data 806 Apr 28 2020 ./API/Renderer/Json2.php\r\n -rw-r--r-- 1 www-data www-data 2227 Apr 28 2020 ./API/Renderer/Php.php\r\n -rw-r--r-- 1 www-data www-data 757 Oct 29 2019 ./CoreUpdater/ReleaseChannel/Latest2XBeta.php\r\n -rw-r--r-- 1 www-data www-data 689 Oct 29 2019 ./CoreUpdater/ReleaseChannel/Latest2XStable.php\r\n -rw-r--r-- 1 www-data www-data 763 Apr 28 2020 ./CoreUpdater/ReleaseChannel/Latest3XBeta.php\r\n -rw-r--r-- 1 www-data www-data 695 Apr 28 2020 ./CoreUpdater/ReleaseChannel/Latest3XStable.php\r\n -rw-r--r-- 1 www-data www-data 759 Apr 28 2020 ./CustomVariables/Columns/SearchCategory.php\r\n drwxr-xr-x 2 www-data www-data 4096 Mar 27 16:06 ./DevicePlugins/Columns\r\n -rw-r--r-- 1 www-data www-data 789 Apr 28 2020 ./DevicePlugins/Columns/PluginDirector.php\r\n -rw-r--r-- 1 www-data www-data 785 Apr 28 2020 ./DevicePlugins/Columns/PluginGears.php\r\n -rw-r--r-- 1 www-data www-data 2786 Apr 28 2020 ./Diagnostics/Diagnostic/LoadDataInfileCheck.php\r\n drwxr-xr-x 2 www-data www-data 4096 Apr 28 2020 ./GeoIp2/Columns\r\n -rw-r--r-- 1 www-data www-data 462 Apr 28 2020 ./GeoIp2/Columns/Region.php\r\n -rw-r--r-- 1 www-data www-data 697 Apr 28 2020 ./SegmentEditor/SegmentList.php\r\n drwxr-xr-x 2 www-data www-data 4096 Apr 28 2020 ./UserCountry/angularjs/location-provider-updater\r\n -rw-r--r-- 1 www-data www-data 5824 Apr 28 2020 ./UserCountry/angularjs/location-provider-updater/location-provider-updater.controller.js\r\n -rw-r--r-- 1 www-data www-data 1172 Apr 28 2020 ./UserCountry/angularjs/location-provider-updater/location-provider-updater.directive.js\r\n -rw-r--r-- 1 www-data www-data 1556 Apr 28 2020 ./UserCountry/Columns/Provider.php\r\n -rw-r--r-- 1 www-data www-data 24951 Apr 28 2020 ./UserCountry/GeoIPAutoUpdater.php\r\n drwxr-xr-x 2 www-data www-data 4096 Apr 28 2020 ./UserCountry/LocationProvider/GeoIp\r\n -rw-r--r-- 1 www-data www-data 11176 Apr 28 2020 ./UserCountry/LocationProvider/GeoIp/Pecl.php\r\n -rw-r--r-- 1 www-data www-data 8313 Apr 28 2020 ./UserCountry/LocationProvider/GeoIp.php\r\n -rw-r--r-- 1 www-data www-data 14862 Apr 28 2020 ./UserCountry/LocationProvider/GeoIp/Php.php\r\n -rw-r--r-- 1 www-data www-data 10381 Apr 28 2020 ./UserCountry/LocationProvider/GeoIp/ServerBased.php\r\n -rw-r--r-- 1 www-data www-data 540 Apr 28 2020 ./UserCountry/Tasks.php\r\n -rw-r--r-- 1 www-data www-data 3115 Apr 28 2020 ./UserCountry/templates/_updaterManage.twig\r\n -rw-r--r-- 1 www-data www-data 377 Apr 28 2020 ./UserCountry/templates/_updaterNextRunTime.twig\r\n drwxr-xr-x 2 www-data www-data 4096 Mar 27 16:07 ./VisitorInterest/Columns\r\n -rw-r--r-- 1 www-data www-data 1062 Apr 28 2020 ./VisitorInterest/Columns/VisitsByDaysSinceLastVisit.php\r\n\r\n \r\nrun: \r\n\r\n`php \"$PUBLIC_DIR/console\" core:update`\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\nI was trying to update the matomo release from 3.13.5 to 4.2.1.\r\n\r\nSee my reply #4 in [https://forum.matomo.org/t/problems-updating-matomo-from-version-3-5-1-to-version-4-2-1/41019](URL)\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.2.1\r\n* PHP Version: 8.0\r\n* Server Operating System: debian 10.8 for amd64\r\n* Additionally installed plugins: none as far as I know\r\n<!-- For UI Bugs please also tell us something about your environment -->\r\n\r\n``", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17399/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17398", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17398/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17398/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17398/events", "html_url": "https://github.com/matomo-org/matomo/pull/17398", "id": 842400548, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAxOTg5MTkz", "number": 17398, "title": "[automatic translation update] Updated 32 strings in 2 languages (tr zh-tw)", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-27T03:01:08Z", "updated_at": "2021-03-27T16:09:52Z", "closed_at": "2021-03-27T16:09:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17398", "html_url": "https://github.com/matomo-org/matomo/pull/17398", "diff_url": "https://github.com/matomo-org/matomo/pull/17398.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17398.patch", "merged_at": "2021-03-27T16:09:50Z" }, "body": "- Updated Turkish (5 changes / 100% translated)\n- Updated Traditional Chinese (27 changes / 80% translated)\n\n\nHelp us translate Matomo in your language!\nSignup at https://www.transifex.com/matomo/matomo/\nIf you have any questions, get in touch with us at translations@matomo.org", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17398/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17397", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17397/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17397/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17397/events", "html_url": "https://github.com/matomo-org/matomo/issues/17397", "id": 841850127, "node_id": "MDU6SXNzdWU4NDE4NTAxMjc=", "number": 17397, "title": "Widget subcategories jump around", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 171063645, "node_id": "MDU6TGFiZWwxNzEwNjM2NDU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Design%20/%20UI", "name": "c: Design / UI", "color": "006b75", "default": false, "description": "For issues that impact Matomo's user interface or the design overall." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 5, "created_at": "2021-03-26T11:22:33Z", "updated_at": "2021-07-12T08:40:16Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Reported in https://forum.matomo.org/t/widgetize-reports-bug/41264\r\n\r\n\r\n## Expected Behavior\r\nBeing able to smoothly browse through the widget list smoothly on https://demo.matomo.cloud/index.php?module=Widgetize&action=index&idSite=1&period=day&date=yesterday\r\n\r\n## Current Behavior\r\nIt seems like in some browsers it is hard to select a category as the scroll position jumps around on screen.\r\n\r\nThe reporter is seeing this in the new Edge on Windows:\r\n![matomo glitch issue](https://user-images.githubusercontent.com/6266037/112818052-65ebcd80-9083-11eb-97e3-1116bd4f5e06.gif)\r\n\r\n\r\nIt works perfectly fine for me in Firefox.\r\n\r\nI can kind of reproduce this in Chromium by selecting a category that increases the height of the widget and then scrolling down.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17397/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17397/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17396", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17396/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17396/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17396/events", "html_url": "https://github.com/matomo-org/matomo/pull/17396", "id": 841534204, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAxMjU5MzIx", "number": 17396, "title": "Use ranking query in custom dimensions archiver", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-26T02:32:36Z", "updated_at": "2021-03-29T21:32:50Z", "closed_at": "2021-03-29T21:32:48Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17396", "html_url": "https://github.com/matomo-org/matomo/pull/17396", "diff_url": "https://github.com/matomo-org/matomo/pull/17396.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17396.patch", "merged_at": "2021-03-29T21:32:48Z" }, "body": "### Description:\r\n\r\nAs title. There might be a random test failure since RankingQuery doesn't apply ordering (probably a good thing).\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17396/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17395", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17395/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17395/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17395/events", "html_url": "https://github.com/matomo-org/matomo/pull/17395", "id": 841527127, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAxMjUzNzQ1", "number": 17395, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-26T02:15:18Z", "updated_at": "2021-03-26T07:28:54Z", "closed_at": "2021-03-26T07:28:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17395", "html_url": "https://github.com/matomo-org/matomo/pull/17395", "diff_url": "https://github.com/matomo-org/matomo/pull/17395.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17395.patch", "merged_at": "2021-03-26T07:28:51Z" }, "body": "Updated submodules:\n- plugins/LoginLdap\n- plugins/Morpheus/icons\n- plugins/VisitorGenerator\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17395/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17394", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17394/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17394/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17394/events", "html_url": "https://github.com/matomo-org/matomo/pull/17394", "id": 841234913, "node_id": "MDExOlB1bGxSZXF1ZXN0NjAwOTk3NjI1", "number": 17394, "title": "allow plugins to customize the system checks page", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 127937670, "node_id": "MDU6TGFiZWwxMjc5Mzc2NzA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Platform", "name": "c: Platform", "color": "bfe5bf", "default": false, "description": "For Matomo platform changes that aren't impacting any of our APIs but improve the core itself." }, { "id": 139760960, "node_id": "MDU6TGFiZWwxMzk3NjA5NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/RFC", "name": "RFC", "color": "009800", "default": false, "description": "Indicates the issue is a request for comments where the author is looking for feedback." }, { "id": 171063645, "node_id": "MDU6TGFiZWwxNzEwNjM2NDU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Design%20/%20UI", "name": "c: Design / UI", "color": "006b75", "default": false, "description": "For issues that impact Matomo's user interface or the design overall." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 8, "created_at": "2021-03-25T19:18:08Z", "updated_at": "2021-04-07T09:46:14Z", "closed_at": "2021-04-07T09:46:13Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17394", "html_url": "https://github.com/matomo-org/matomo/pull/17394", "diff_url": "https://github.com/matomo-org/matomo/pull/17394.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17394.patch", "merged_at": null }, "body": "I'm not sure if this is the best solution, but at the moment it isn't possible for a plugin to change how the system checks are displayed. Ideally one could dynamically add groups like \"Optional\", but that sounds very complex for a minor thing.\r\n\r\nSo the easiest solution to differentiate checks from different plugins I could think of is adding icons to the label.\r\n\r\nIn addition, I added an event to the top of the page (e.g. to add a warning, notice, disclaimer, etc.). This slows things down a bit, but this is already the slowest page due to tons of I/O, so it shouldn't matter much in comparison.\r\n\r\nIf someone has a better way to do this, I'm open to suggestions.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17394/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17393", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17393/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17393/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17393/events", "html_url": "https://github.com/matomo-org/matomo/issues/17393", "id": 841109024, "node_id": "MDU6SXNzdWU4NDExMDkwMjQ=", "number": 17393, "title": "Segment comparison feature disapears when segment selection on Visits Log page", "user": { "login": "heurteph-ei", "id": 79993552, "node_id": "MDQ6VXNlcjc5OTkzNTUy", "avatar_url": "https://avatars.githubusercontent.com/u/79993552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heurteph-ei", "html_url": "https://github.com/heurteph-ei", "followers_url": "https://api.github.com/users/heurteph-ei/followers", "following_url": "https://api.github.com/users/heurteph-ei/following{/other_user}", "gists_url": "https://api.github.com/users/heurteph-ei/gists{/gist_id}", "starred_url": "https://api.github.com/users/heurteph-ei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heurteph-ei/subscriptions", "organizations_url": "https://api.github.com/users/heurteph-ei/orgs", "repos_url": "https://api.github.com/users/heurteph-ei/repos", "events_url": "https://api.github.com/users/heurteph-ei/events{/privacy}", "received_events_url": "https://api.github.com/users/heurteph-ei/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-03-25T16:36:51Z", "updated_at": "2021-03-25T18:36:55Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "# Expected Behavior\r\nThe _segment comparison_ feature should always be available on pages where it should be\r\n\r\n# Current Behavior\r\nWhen changing the selected segment on the **Visitors > Visits Log** page, the _segment comparison_ feature is no more available on any page.\r\n\r\n# Steps to Reproduce\r\n## Step 1\r\nChrome / Firefox :\r\nhttps://demo.matomo.cloud/index.php?module=CoreHome&action=index&idSite=1&period=day&date=yesterday#?idSite=1&period=day&date=yesterday&segment=&category=Dashboard_Dashboard&subcategory=1\r\nClick on segments, just to have a look:\r\n![image](https://user-images.githubusercontent.com/79993552/112506512-21fc7e00-8d8e-11eb-89be-ea6aa9b41f97.png)\r\n## Step 2\r\nGo to **Visitors > Visits Log**\r\nClick on segments, just to have a look:\r\n![image](https://user-images.githubusercontent.com/79993552/112506723-5112ef80-8d8e-11eb-924a-d8e6b33ea906.png)\r\nOkay, because the visits log cannot compare different segments, the _segment comparison_ feature is not available...\r\n## Step 3\r\nGo to **Visitors > Overview**\r\nClick on segments, just to have a look:\r\n![image](https://user-images.githubusercontent.com/79993552/112507110-a949f180-8d8e-11eb-91a9-c30105ba9d14.png)\r\nNow, the _segment comparison_ feature is available\r\n## Step 4\r\nGo back to **Visitors > Visits Log**\r\nClick on segments, then change the segment selection:\r\n![image](https://user-images.githubusercontent.com/79993552/112507863-54f34180-8d8f-11eb-9cea-4b4c16116b4d.png)\r\n## Step 5\r\nGo back to **Visitors > Overview**\r\nClick on segments, just to have a look:\r\n![image](https://user-images.githubusercontent.com/79993552/112507979-6f2d1f80-8d8f-11eb-8693-a360b7f69362.png)\r\nNow the _segment comparison_ feature is no more available :'(\r\nJust press Ctrl + F5 to have the _segment comparison_ feature back!\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17393/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17392", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17392/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17392/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17392/events", "html_url": "https://github.com/matomo-org/matomo/issues/17392", "id": 840892623, "node_id": "MDU6SXNzdWU4NDA4OTI2MjM=", "number": 17392, "title": "On-Premise -> Custom Reports Visualization Issues ", "user": { "login": "gpadbidri", "id": 8458489, "node_id": "MDQ6VXNlcjg0NTg0ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/8458489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpadbidri", "html_url": "https://github.com/gpadbidri", "followers_url": "https://api.github.com/users/gpadbidri/followers", "following_url": "https://api.github.com/users/gpadbidri/following{/other_user}", "gists_url": "https://api.github.com/users/gpadbidri/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpadbidri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpadbidri/subscriptions", "organizations_url": "https://api.github.com/users/gpadbidri/orgs", "repos_url": "https://api.github.com/users/gpadbidri/repos", "events_url": "https://api.github.com/users/gpadbidri/events{/privacy}", "received_events_url": "https://api.github.com/users/gpadbidri/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 1592987658, "node_id": "MDU6TGFiZWwxNTkyOTg3NjU4", "url": "https://api.github.com/repos/matomo-org/matomo/labels/invalid", "name": "invalid", "color": "2f378c", "default": true, "description": "Indicates that an issue or pull request is no longer relevant." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-03-25T12:46:35Z", "updated_at": "2021-03-25T13:38:49Z", "closed_at": "2021-03-25T13:38:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have an Matomo - On Premise setup and I have installed Custom report TRIAL Version to evaluate if it suffices our requirements.\r\n\r\nI was able to create a TABLE Report for “Pageviews by hour for a given day” Screenshot for reference : https://www.screencast.com/t/WILnaWJb\r\n\r\nHowever, there are 3 issues :\r\n\r\nWhen I go to the the “Vertical Bar Graph” option using the Change Visualization option below the tabular report - it randomly picks some hours of the day and shows data - I was assuming it will show me a Bar diagram with 24 bars (1 for each hour)\r\n\r\nThe hours in X-axis are in random order.\r\n\r\nWhy can I not see ALL the Visualization options mentioned in the documentation like Sparkline - All I see now is Vertical Bar Diagram and Pie-Chart\r\n\r\nCheck the screenshot for #1 and #2 for your reference : https://www.screencast.com/t/M4NiokT3DfS\r\n\r\nAm I missing on something ?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17392/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17392/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17390", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17390/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17390/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17390/events", "html_url": "https://github.com/matomo-org/matomo/issues/17390", "id": 840096303, "node_id": "MDU6SXNzdWU4NDAwOTYzMDM=", "number": 17390, "title": "Document using Matomo with OPcache and JIT compilation", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 1678500922, "node_id": "MDU6TGFiZWwxNjc4NTAwOTIy", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Documentation", "name": "c: Documentation", "color": "f4e866", "default": false, "description": "Indicates a need for improvements or additions to documentation." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 2, "created_at": "2021-03-24T19:30:22Z", "updated_at": "2021-07-27T21:58:04Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Using OPcache can speed up Matomo quite a bit as it avoids having to interpret the same PHP with every single page request.\r\nEspecially now with PHP 8 and JIT compiling (which is implemented as a part of OPcache) it might bring even more of a performance benefit.\r\nThere also should be no disadvantages (apart from a bit of memory usage from the cache) as Matomo already clears the cache on update/installs and for an application like Matomo everyone should be using `opcache.validate_timestamps=1` which slows down the cache a bit, but should avoid ever serving something different than the PHP file (maybe check `opcache.revalidate_freq`).\r\n\r\nSo I think we should:\r\n- encourage more Matomo users to enable OPcache\r\n- document recommended settings\r\n- add a system check to warn against bad settings and generally recommend setting it up \r\n (for reference: Nextcloud shows [a system check warning](https://github.com/nextcloud/server/blob/2afa1c57393790b33bc6593f9215482d8a4dd9f9/apps/settings/lib/Controller/CheckSetupController.php#L427-L453) if it isn't set up)\r\n\r\nA bit more experimental, but especially with the JIT feature of PHP 8 it might also be interesting to look into opcache for php-cli. Generally most people recommend not using OPcache for php-cli as it is a in-memory cache which would mean that a new php-cli process would start with a fresh cache making it useless. But since PHP 7 one can alternatively use a file cache (`opcache.file_cache`) which would stay between calls and with the JIT compiler some hot loop during archiving might receive \r\nquite a bit of speedup. (I have not yet tested Matomo with JIT)\r\n\r\n\r\nSlightly related: If someone wants to do testing with OPcache, I can recommend https://github.com/amnuts/opcache-gui which gives a nice overview over the current cache status\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17390/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17390/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17389", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17389/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17389/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17389/events", "html_url": "https://github.com/matomo-org/matomo/pull/17389", "id": 840063209, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk5OTgxOTQz", "number": 17389, "title": "icon for informational system check", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 171063645, "node_id": "MDU6TGFiZWwxNzEwNjM2NDU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Design%20/%20UI", "name": "c: Design / UI", "color": "006b75", "default": false, "description": "For issues that impact Matomo's user interface or the design overall." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 6, "created_at": "2021-03-24T19:02:00Z", "updated_at": "2021-03-25T21:06:10Z", "closed_at": "2021-03-25T21:06:07Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17389", "html_url": "https://github.com/matomo-org/matomo/pull/17389", "diff_url": "https://github.com/matomo-org/matomo/pull/17389.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17389.patch", "merged_at": "2021-03-25T21:06:07Z" }, "body": "This is quite subjective, but I think it looks nicer if there is also an icon for informational entries\r\n\r\nBefore:\r\n![grafik](https://user-images.githubusercontent.com/6266037/112368347-44818f00-8cdb-11eb-906a-bf8dff9b857a.png)\r\n\r\nNow:\r\n![grafik](https://user-images.githubusercontent.com/6266037/112368376-4f3c2400-8cdb-11eb-918e-72f7e0c40516.png)\r\n\r\nOne could use icon-info instead as it looks a bit nicer, but it doesn't fit the style of the other icons.\r\n\r\n### Review\r\n\r\n* [x] Functional review done\r\n* [x] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [x] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [x] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [x] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [x] Reviewed for breaking changes\r\n* [x] Developer changelog updated if needed\r\n* [x] Documentation added if needed\r\n* [x] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17389/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17389/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17388", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17388/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17388/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17388/events", "html_url": "https://github.com/matomo-org/matomo/issues/17388", "id": 839598020, "node_id": "MDU6SXNzdWU4Mzk1OTgwMjA=", "number": 17388, "title": "Wrong data segmentation w/ segment w/ multiple action dimension conditions", "user": { "login": "heurteph-ei", "id": 79993552, "node_id": "MDQ6VXNlcjc5OTkzNTUy", "avatar_url": "https://avatars.githubusercontent.com/u/79993552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heurteph-ei", "html_url": "https://github.com/heurteph-ei", "followers_url": "https://api.github.com/users/heurteph-ei/followers", "following_url": "https://api.github.com/users/heurteph-ei/following{/other_user}", "gists_url": "https://api.github.com/users/heurteph-ei/gists{/gist_id}", "starred_url": "https://api.github.com/users/heurteph-ei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heurteph-ei/subscriptions", "organizations_url": "https://api.github.com/users/heurteph-ei/orgs", "repos_url": "https://api.github.com/users/heurteph-ei/repos", "events_url": "https://api.github.com/users/heurteph-ei/events{/privacy}", "received_events_url": "https://api.github.com/users/heurteph-ei/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 21, "created_at": "2021-03-24T10:52:52Z", "updated_at": "2021-11-29T11:42:06Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behavior\r\nWhen I use a segmentation on a value for an action dimension, I should have only results on this value on the action dimension.\r\n\r\n## Current Behavior\r\n### Segmentation configuration\r\nIn the example below, _banque_ is an action dimension (Note: _Est_ means _is_).\r\n![image](https://user-images.githubusercontent.com/79993552/112295779-81766300-8c94-11eb-9f90-69820266bb31.png)\r\n\r\n### Segmentation result\r\n![image](https://user-images.githubusercontent.com/79993552/112295532-496f2000-8c94-11eb-9428-2c8fe3303692.png)\r\n\r\n### Segmented log\r\nThis is confirmed when I click on the segmented log icon: No result as expectd when segmented on _banque equals E and M_\r\n![image](https://user-images.githubusercontent.com/79993552/112297315-08780b00-8c96-11eb-9a0c-fa86ca3ae540.png)\r\n\r\nNote: The segmented log on _banque equals E_ work perfectly\r\n![image](https://user-images.githubusercontent.com/79993552/112296924-90a9e080-8c95-11eb-9860-3e33765dcaea.png)\r\n\r\n## Steps to Reproduce (for Bugs)\r\n### Custom dimensions configuration\r\n![image](https://user-images.githubusercontent.com/79993552/112298113-f6e33300-8c96-11eb-8572-bb67a4fa6cee.png)\r\n\r\n### Matomo Tag Manager with the configuration\r\n![image](https://user-images.githubusercontent.com/79993552/112297657-73c1dd00-8c96-11eb-9e24-e5c3b0f4d768.png)\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\n\r\n\r\n## Your Environment\r\n### Browser\r\nBrowser: **Firefox** 78.8.0esr (64 bits) fr-fr but also **Chrome** Version 89.0.4389.72 (Build officiel) (64 bits)\r\nOperating System: Windows 8.1 Entreprise\r\n\r\n## Mandatory checks\r\nVersion PHP >= 7.2.5: ✔ 7.3.20\r\nPDO Extension: ✔ \r\nPDO\\MYSQL Extension: ✔ \r\nMYSQLI Extension: ✔ \r\nExtensions requises: ✔ zlib ✔ SPL ✔ iconv ✔ json ✔ mbstring ✔ Reflection\r\nFonctions requises: ✔ debug_backtrace ✔ eval ✔ hash ✔ gzcompress ✔ gzuncompress ✔ pack\r\nConfiguration PHP requise (php.ini): ✔ session.auto_start = 0 ✔ max_execution_time = 0 OR >= 30\r\nRépertoires avec les droits d'accès en écriture: ✔ $DOC_ROOT/tmp ✔ $DOC_ROOT/tmp/assets ✔ $DOC_ROOT/tmp/cache ✔ $DOC_ROOT/tmp/climulti ✔ $DOC_ROOT/tmp/latest ✔ $DOC_ROOT/tmp/logs ✔ $DOC_ROOT/tmp/sessions ✔ $DOC_ROOT/tmp/tcpdf ✔ $DOC_ROOT/tmp/templates_c\r\nRépertoires avec accès en écriture pour Gestionnaire de balises: ✔ $DOC_ROOT/js\r\n## Optional checks\r\nIntégrité du fichier: ✔ \r\nStatut du traqueur: ✔ \r\nLimite mémoire: ✔ 128M\r\nFuseau horaire: ✔ \r\nOuvrez l'URL: ✔ curl\r\nPageSpeed désactivé: ✔ \r\nGD > 2.x + Freetype (graphiques): ✔ \r\nAutres extensions: ✔ json ✔ libxml ✔ dom ✔ SimpleXML\r\nAutres fonctions: ✔ shell_exec ✔ set_time_limit ✔ mail ✔ parse_ini_file ✔ glob ✔ gzopen ✔ md5_file\r\nSystème de fichiers: ✔ \r\nSetup Cron (faster report loading): ⚠ Warning: Pour des performances optimales et un Matomo rapide, il est vivement recommandé de mettre en place une entré CRON pour archiver automatiquement vos rapports, et de désactiver le déclanchement depuis l'interface depuis les paramètres Matomo.\r\nSetup Cron - Gestion des processus via la ligne de commande: ✔ Ok\r\nCapacités de la base de données: ✔ UTF8mb4 charset ⚠ Warning: LOAD DATA INFILE<br/>L'utilisation de LOAD DATA INFILE va grandement accélérer la vitesse du processus d'archivage de Matomo. Pour le rendre disponible à Matomo, essayez de mettre à jour PHP & MySQL et assurez-vous que votre utilisateur MySQL a les privilèges de FILE.<br/>Si votre serveur Matomo suit des sites à fort trafic (ex. > 100000 pages par mois), nous recommandons d'essayer de corriger ce problème.<br/><strong>Erreur:</strong> LOAD DATA INFILE failed... Error was: <br/> Try 1: LOAD DATA INFILE : SQLSTATE[28000]: Invalid authorization specification: 1045 Access denied for user (using password: YES)[28000],<br/> Try 2: LOAD DATA LOCAL INFILE : SQLSTATE[42000]: Syntax error or access violation: 1148 The used command is not allowed with this MySQL version[42000]<br/> ✔ CREATE TEMPORARY TABLES ✔ Changing transaction isolation level\r\nTaille maximale des paquets: ⚠ Warning: Il est important de configurer une taille 'max_allowed_packet' dans votre base de données MySQL d'au moins 64MB. 32MB configuré en ce moment.\r\nConnexion SSL forcée: ⚠ Warning: Nous recommandons d'utiliser Matomo uniquement avec des connexions sécurisées SSL. Pour empêcher l'accès non sécurisée par HTTP, ajoutez <code>force_ssl = 1</code> à la section <code>General</code> dans votre fichier conf/config.ini.php de Matomo.\r\nGéolocalisation: ⚠ Warning: La géolocalisation fonctionne, mais vous n'utilisez pas un des fournisseurs recommandés. Si vous devez importer des fichiers de journaux ou bien effectuer quoi que ce soit d'autre qui requiert la définition des adresses IP, utilisez l'implémentation PHP GeoIP l'extension maxminddb.\r\nMettre à jour via HTTPS: ✔ \r\nTraceur JavaScript inscriptible (\"/matomo.js\"): ✔ \r\nHeatmap & Session Recording Tracking: ⚠ Warning: Requesting '$MATOMO_URLplugins/HeatmapSessionRecording/configs.php?idsite=1&trackerid=5lX6EM&url=http%3A%2F%2Ftest.test%2F' resulted in an SSL error. Maybe you are using a self signed certificate? Please open the URL manually in a browser to see if the response contains 'Piwik.HeatmapSessionRecording'. If not, you might need to modify your server configuration as this file needs to be accessible via a browser from the Internet or Intranet.\r\n## Informational results\r\nMatomo Version: 4.0.5\r\nMatomo Update History: 4.0.5,\r\nMatomo Install Version: 4.0.5\r\nPHP_OS: Linux\r\nPHP SAPI: apache2handler\r\nTimezone Version: 0.system\r\nPHP Timezone: UTC\r\nPHP Time: 1614954151\r\nPHP Datetime: 2021-03-05 14:22:31\r\nPHP INI max_execution_time: 30\r\nPHP INI post_max_size: 8M\r\nPHP INI max_input_vars: 1000\r\nPHP INI zlib.output_compression: \r\nCurl Version: 7.29.0, NSS/3.44\r\nSuhosin Installed: 0\r\nDB Prefix: matomo_\r\nDB Charset: utf8mb4\r\nDB Adapter: PDO\\MYSQL\r\nMySQL Version: 5.7.33-enterprise-commercial-advanced-log\r\nNum Tables: 69\r\nBrowser Segment Archiving Enabled: 1\r\nDevelopment Mode Enabled: 0\r\nInternet Enabled: 1\r\nMulti Server Environment: 0\r\nCustom User Path: 0\r\nCustom Include Path: 0\r\nPlugins Activated: API, AbTesting 4.0.6, Actions, ActivityLog 4.0.2, Annotations, BulkTracking, Cohorts 4.0.2, Contents, CoreAdminHome, CoreConsole, CoreHome, CorePluginsAdmin, CoreUpdater, CoreVisualizations, CustomDimensions, CustomJsTracker, CustomReports 4.0.4, Dashboard, DevicePlugins, DevicesDetection, Diagnostics, Events, Feedback, FormAnalytics 4.0.2, Funnels 4.0.3, GeoIp2, Goals, Heartbeat, HeatmapSessionRecording 4.0.6, ImageGraph, Insights, Installation, Intl, IntranetMeasurable, LanguagesManager, Live, LoginLdap 4.3.0, MobileMessaging, Monolog, Morpheus, MultiSites, Overlay, PagePerformance, PrivacyManager, ProfessionalServices, Proxy, Referrers, Resolution, RollUpReporting 4.0.1, RssWidget, SEO, ScheduledReports, SearchEngineKeywordsPerformance 4.1.1, SegmentEditor, SitesManager, TagManager, Tour, Transitions, TwoFactorAuth, UserCountry, UserCountryMap, UserId, UserLanguage, UsersFlow 4.0.2, UsersManager, VisitFrequency, VisitTime, VisitorInterest, VisitsSummary, WebsiteMeasurable, Widgetize\r\nPlugins Deactivated: CustomVariables, DBStats, Ecommerce, Login, LoginSaml 4.0.3, **Marketplace (yes we had to deactivate it!)**, MediaAnalytics 4.0.2, MobileAppMeasurable, MultiChannelConversionAttribution 4.0.2, Provider, WhiteLabel 4.0.1, WooCommerceAnalytics 4.0.3\r\nPlugins Invalid: \r\nServer Info: Apache\r\nHad visits in last 1 day: 1\r\nHad visits in last 3 days: 1\r\nHad visits in last 5 days: 1\r\nArchive Time Last Started: 0\r\nArchive Time Last Finished: 0\r\nNum invalidations: 80 queued, 0 in progress\r\nUser Agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64; rv:78.0) Gecko/20100101 Firefox/78.0\r\nBrowser Language: fr,fr-fr,en-us,en\r\nAnonymize Referrer: \r\nDo Not Track enabled: 0\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17388/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17388/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17387", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17387/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17387/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17387/events", "html_url": "https://github.com/matomo-org/matomo/pull/17387", "id": 839466959, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk5NDc4MTYx", "number": 17387, "title": "Apache 2.4+ compatibility for misc/cron/.htaccess", "user": { "login": "jorisdrenth", "id": 10384146, "node_id": "MDQ6VXNlcjEwMzg0MTQ2", "avatar_url": "https://avatars.githubusercontent.com/u/10384146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorisdrenth", "html_url": "https://github.com/jorisdrenth", "followers_url": "https://api.github.com/users/jorisdrenth/followers", "following_url": "https://api.github.com/users/jorisdrenth/following{/other_user}", "gists_url": "https://api.github.com/users/jorisdrenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorisdrenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorisdrenth/subscriptions", "organizations_url": "https://api.github.com/users/jorisdrenth/orgs", "repos_url": "https://api.github.com/users/jorisdrenth/repos", "events_url": "https://api.github.com/users/jorisdrenth/events{/privacy}", "received_events_url": "https://api.github.com/users/jorisdrenth/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 5, "created_at": "2021-03-24T08:12:30Z", "updated_at": "2021-05-17T05:37:43Z", "closed_at": "2021-04-11T22:22:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17387", "html_url": "https://github.com/matomo-org/matomo/pull/17387", "diff_url": "https://github.com/matomo-org/matomo/pull/17387.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17387.patch", "merged_at": "2021-04-11T22:22:11Z" }, "body": "### Description:\r\n\r\nIn Apache 2.4+, the syntax for access control has changed. This causes the cron script to return a 500 error when running on Apache 2.4+. This PR checks which version of Apache is used and uses the right syntax.\r\n\r\nSee also: [https://httpd.apache.org/docs/2.4/upgrading.html](https://httpd.apache.org/docs/2.4/upgrading.html)\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [x] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [x] Developer changelog updated if needed\r\n* [x] Documentation added if needed\r\n* [x] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17387/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17387/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17386", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17386/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17386/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17386/events", "html_url": "https://github.com/matomo-org/matomo/pull/17386", "id": 839374542, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk5NDAwNzA2", "number": 17386, "title": "make sure no rearchiving happens if INI config setting is set to 0 or last0 + add extra sanity check.", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 1, "created_at": "2021-03-24T05:37:25Z", "updated_at": "2021-05-17T05:36:49Z", "closed_at": "2021-03-24T15:18:20Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17386", "html_url": "https://github.com/matomo-org/matomo/pull/17386", "diff_url": "https://github.com/matomo-org/matomo/pull/17386.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17386.patch", "merged_at": "2021-03-24T15:18:20Z" }, "body": "### Description:\r\n\r\nRefs #17368\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17386/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17385", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17385/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17385/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17385/events", "html_url": "https://github.com/matomo-org/matomo/issues/17385", "id": 839250685, "node_id": "MDU6SXNzdWU4MzkyNTA2ODU=", "number": 17385, "title": "Funnel reports for month period takes ages to generate", "user": { "login": "nelhefni", "id": 74159849, "node_id": "MDQ6VXNlcjc0MTU5ODQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74159849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nelhefni", "html_url": "https://github.com/nelhefni", "followers_url": "https://api.github.com/users/nelhefni/followers", "following_url": "https://api.github.com/users/nelhefni/following{/other_user}", "gists_url": "https://api.github.com/users/nelhefni/gists{/gist_id}", "starred_url": "https://api.github.com/users/nelhefni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nelhefni/subscriptions", "organizations_url": "https://api.github.com/users/nelhefni/orgs", "repos_url": "https://api.github.com/users/nelhefni/repos", "events_url": "https://api.github.com/users/nelhefni/events{/privacy}", "received_events_url": "https://api.github.com/users/nelhefni/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-03-24T01:14:09Z", "updated_at": "2021-04-28T11:41:19Z", "closed_at": "2021-03-24T02:01:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "After updating an existing Funnel to add a new step, the next cron job will try to generate past reports.\r\n\r\nMy current settings:\r\n`rearchive_reports_in_past_last_n_months = last1`\r\n\r\nMeaning, the cron job will try to generate all past reports since February 1st.\r\nFor my Funnel, each daily report since February 1st took only a couple of minutes to generate successfully, and each weekly report took around 10 minutes. But it seems that the monthly report for February took 27 hours!\r\n\r\nHere is an extract of the logs for the same cron job instance:\r\n```\r\nINFO [2021-03-22 00:49:46] 107 Archived website id 1, period = week, date = 2021-02-22, segment = '', plugin = Funnels, report = 31, 95089 visits found. \r\nTime elapsed: 627.893s\r\nINFO [2021-03-22 01:03:50] 107 Archived website id 1, period = week, date = 2021-02-15, segment = '', plugin = Funnels, report = 31, 103042 visits found.\r\nTime elapsed: 717.295s\r\nINFO [2021-03-22 01:18:47] 107 Archived website id 1, period = week, date = 2021-02-08, segment = '', plugin = Funnels, report = 31, 105727 visits found.\r\nTime elapsed: 762.520\r\nINFO [2021-03-22 01:35:01] 107 Archived website id 1, period = week, date = 2021-02-01, segment = '', plugin = Funnels, report = 31, 114578 visits found.\r\nTime elapsed: 828.300s\r\nINFO [2021-03-23 04:40:39] 107 Archived website id 1, period = month, date = 2021-02-01, segment = '', plugin = Funnels, report = 31, 418436 visits found.\r\nTime elapsed: 97522.738s\r\n```\r\n\r\nYou can see that the monthly report took 97522 seconds, while each weekly report took between 700 and 800 seconds.\r\n\r\nWe deployed performance insight on AWS RDS to try to monitor the queries.\r\nThere is actually no query that took more than 1 second, they are all very fast.\r\n\r\nHere are some of those fast queries:\r\n```\r\n\r\nINSERT INTO matomo_logtmpsegment4caf174c1c52723c9f299eaeabd6e9b2 (idvisit)\r\n SELECT\r\n distinct log_visit.idvisit as idvisit\r\n FROM\r\n matomo_log_visit AS log_visit\r\n WHERE\r\n ( log_visit.visit_last_action_time >= '2021-02-18 13:00:00'\r\n AND log_visit.visit_last_action_time <= '2021-02-19 12:59:59'\r\n AND log_visit.idsite IN ('1') )\r\n AND\r\n ( log_visit.visitor_returning = '0' )\r\n ORDER BY\r\n log_visit.idvisit ASC\r\n\r\nSELECT /*+ MAX_EXECUTION_TIME(7200000) matomo-org/ \r\n log_action1.name AS `label`, \r\n count(distinct log_link_visit_action.idvisit) AS `2`, \r\n count(distinct log_link_visit_action.idvisitor) AS `1`, \r\n count(*) AS `3`, \r\n AVG(log_link_visit_action.product_price) AS `avg_price_viewed`\r\n FROM\r\n matomo_logtmpsegmentf4938b7b1ce8d76fac6ed880e4f827af AS logtmpsegmentf4938b7b1ce8d76fac6ed880e4f827af INNER JOIN matomo_log_link_visit_action AS log_link_visit_action ON log_link_visit_action.idvisit = logtmpsegmentf4938b7b1ce8d76fac6ed880e4f827af.idvisit LEFT JOIN matomo_log_action AS log_action1 ON log_action1.idaction = log_link_visit_action.idaction_product_sku\r\n WHERE\r\n log_link_visit_action.idaction_product_sku is not null\r\n GROUP BY\r\n log_action1.name\r\n\t\t\r\nSELECT /*+ MAX_EXECUTION_TIME(7200000) matomo-org/ \r\n log_action1.name AS `label`, \r\n count(distinct log_link_visit_action.idvisit) AS `2`, \r\n count(distinct log_link_visit_action.idvisitor) AS `1`, \r\n count(*) AS `3`, \r\n AVG(log_link_visit_action.product_price) AS `avg_price_viewed`\r\n FROM\r\n matomo_logtmpsegmenta04727f7f3b247334d7731c5b6a8cc96 AS logtmpsegmenta04727f7f3b247334d7731c5b6a8cc96 INNER JOIN matomo_log_link_visit_action AS log_link_visit_action ON log_link_visit_action.idvisit = logtmpsegmenta04727f7f3b247334d7731c5b6a8cc96.idvisit LEFT JOIN matomo_log_action AS log_action1 ON log_action1.idaction = log_link_visit_action.idaction_product_cat4\r\n WHERE\r\n log_link_visit_action.idaction_product_cat4 is not null\r\n GROUP BY\r\n log_action1.name\r\n\r\n...\r\n```\r\n\r\nThe process seems to loop on those queries forever, simply changing the date in `log_visit.visit_last_action_time` and `log_visit.visit_last_action_time` and the name of the temporary table.\r\nCould you please assess what could be the root cause of this issue?\r\n\r\n## Expected Behavior\r\nAs it took around 10 minutes to generate the report for each week of February, I would expect the monthly report for February to take less than an hour to generate.\r\n\r\n## Current Behavior\r\nIt took 27 hours to generate the monthly report for February.\r\n\r\n## Your Environment\r\nWe are using Matomo 4.2.1 and Funnel 4.0.5.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17385/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17384", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17384/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17384/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17384/events", "html_url": "https://github.com/matomo-org/matomo/pull/17384", "id": 838717129, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk4ODQ5NzQ0", "number": 17384, "title": "Fix download test", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-23T13:16:52Z", "updated_at": "2021-03-23T14:58:37Z", "closed_at": "2021-03-23T14:58:34Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17384", "html_url": "https://github.com/matomo-org/matomo/pull/17384", "diff_url": "https://github.com/matomo-org/matomo/pull/17384.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17384.patch", "merged_at": "2021-03-23T14:58:34Z" }, "body": "### Description:\r\n\r\nThe test that tries downloading something from `https://tools.ietf.org/html/rfc7233` currently fails quite often due to connectivity issues of their servers. Using our build download instead hopefully works better...\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17384/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17384/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17383", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17383/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17383/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17383/events", "html_url": "https://github.com/matomo-org/matomo/pull/17383", "id": 838687104, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk4ODI1MjQx", "number": 17383, "title": "Ensure correct rowaction instances are used", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-23T12:43:11Z", "updated_at": "2021-03-23T15:02:14Z", "closed_at": "2021-03-23T15:02:11Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17383", "html_url": "https://github.com/matomo-org/matomo/pull/17383", "diff_url": "https://github.com/matomo-org/matomo/pull/17383.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17383.patch", "merged_at": "2021-03-23T15:02:10Z" }, "body": "### Description:\r\n\r\nIt took me a while debugging to figure out where the reason for #17374 was. It turned out that when loading a subtable handling the row actions was not only called for the subtable, but also for the parent table (caused by using `.parents` instead of `.closest`).\r\nDue to this the `actionInstances` used to bind the events were bound multiple times for the parent table, causing some weird behavior where sometimes the wrong datatable was used to trigger the row action.\r\n\r\nfixes #17374\r\nfixes matomo-org/plugin-MarketingCampaignsReporting#61\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17383/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17383/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17382", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17382/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17382/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17382/events", "html_url": "https://github.com/matomo-org/matomo/pull/17382", "id": 838585202, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk4NzQyMjUz", "number": 17382, "title": "more private Referrer-Policy: use strict-origin-when-cross-origin ", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 2831853227, "node_id": "MDU6TGFiZWwyODMxODUzMjI3", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Stale", "name": "Stale", "color": "c5def5", "default": false, "description": "The label used by the Close Stale Issues action" } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 6, "created_at": "2021-03-23T10:40:14Z", "updated_at": "2021-07-27T04:21:16Z", "closed_at": "2021-06-04T17:14:41Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17382", "html_url": "https://github.com/matomo-org/matomo/pull/17382", "diff_url": "https://github.com/matomo-org/matomo/pull/17382.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17382.patch", "merged_at": "2021-06-04T17:14:41Z" }, "body": "related to https://github.com/matomo-org/matomo/issues/17381, https://github.com/matomo-org/matomo/pull/15673 and https://github.com/matomo-org/matomo-nginx/pull/61\r\n\r\nAt the moment we are sending a less private Referrer-Policy than the one that would be used if we didn't send one.\r\n\r\nSo now \r\n- the full referrer is sent to the same origin\r\n- just the domain is sent to another origin (as long as it is using HTTPS)\r\n- nothing is sent to HTTP sites\r\n(as long as `$this->useStrictReferrerPolicy` is not set in which case nothing is sent to other origins)\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17382/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17381", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17381/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17381/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17381/events", "html_url": "https://github.com/matomo-org/matomo/issues/17381", "id": 838558162, "node_id": "MDU6SXNzdWU4Mzg1NTgxNjI=", "number": 17381, "title": "Referrer full path missing for most websites", "user": { "login": "alimony", "id": 331091, "node_id": "MDQ6VXNlcjMzMTA5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/331091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alimony", "html_url": "https://github.com/alimony", "followers_url": "https://api.github.com/users/alimony/followers", "following_url": "https://api.github.com/users/alimony/following{/other_user}", "gists_url": "https://api.github.com/users/alimony/gists{/gist_id}", "starred_url": "https://api.github.com/users/alimony/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alimony/subscriptions", "organizations_url": "https://api.github.com/users/alimony/orgs", "repos_url": "https://api.github.com/users/alimony/repos", "events_url": "https://api.github.com/users/alimony/events{/privacy}", "received_events_url": "https://api.github.com/users/alimony/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-03-23T10:08:54Z", "updated_at": "2021-03-23T10:29:45Z", "closed_at": "2021-03-23T10:29:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\nIn the Acquisition > Websites view, almost all referrers only show the \"index\" path. I know the rest is not being anonymised or anything, looking at settings, and the fact that a handful of the websites also show a full path. It looks like I've been on the front page on some _major_ websites, which I know not to be true. In some cases I've been able to track down the specific path from which I've been linked, but that path does not show up in Matomo.\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n\r\n## Expected Behavior\r\n<!-- When describing a bug, please tell us what should happen -->\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\nI expect to see the full path for all referrers.\r\n\r\n## Current Behavior\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\nI see only the index page for almost all referrers.\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\nNot sure.\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. Go to Acquisition > Websites\r\n2. Expand referrers to see full paths.\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\nI want to know from what specific pages I've been linked, and the current data does not tell me that, making the feature not very useful at the moment.\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.2.1\r\n* PHP Version: 7.4.3\r\n* Server Operating System: Ubuntu 20.04.1 LTS\r\n* Additionally installed plugins: GoogleAnalyticsImporter 4.1.2", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17381/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17380", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17380/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17380/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17380/events", "html_url": "https://github.com/matomo-org/matomo/pull/17380", "id": 838337812, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk4NTM0NTUx", "number": 17380, "title": "Show notification when there is raw data but no data", "user": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 3, "created_at": "2021-03-23T04:28:48Z", "updated_at": "2021-04-06T01:35:02Z", "closed_at": "2021-04-06T01:34:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17380", "html_url": "https://github.com/matomo-org/matomo/pull/17380", "diff_url": "https://github.com/matomo-org/matomo/pull/17380.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17380.patch", "merged_at": "2021-04-06T01:34:56Z" }, "body": "### Description:\r\n\r\nfixes #16790 \r\n\r\n### Review\r\n\r\n* [x] Functional review done\r\n* [x] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [x] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [x] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [x] Code review done\r\n* [x] Tests were added if useful/possible\r\n* [x] Reviewed for breaking changes\r\n* [x] Developer changelog updated if needed\r\n* [x] Documentation added if needed\r\n* [x] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17380/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17380/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17379", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17379/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17379/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17379/events", "html_url": "https://github.com/matomo-org/matomo/pull/17379", "id": 838329137, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk4NTI3MzI3", "number": 17379, "title": "Initiate range archiving if an archive is invalidated, the request is from the browser, and browser archiving is authorized", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 12, "created_at": "2021-03-23T04:06:39Z", "updated_at": "2021-04-12T03:23:31Z", "closed_at": "2021-04-12T03:23:29Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17379", "html_url": "https://github.com/matomo-org/matomo/pull/17379", "diff_url": "https://github.com/matomo-org/matomo/pull/17379.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17379.patch", "merged_at": "2021-04-12T03:23:28Z" }, "body": "### Description:\r\n\r\nCurrently, if a range archive is invalid, and the user views it, it will not re-archive. This is because ranges are generally archived well after the end date, so the ts_archived will always be later than the minimum processed time: https://github.com/matomo-org/matomo/blob/3.x-dev/core/ArchiveProcessor/Loader.php#L223-L236\r\n\r\nI think, previously, if going through the \"trigger archiving\" code path (https://github.com/matomo-org/matomo/blob/4.x-dev/core/Archive.php#L571), we never looked for invalidated archives, so we'd always initiate archiving. This change happened in https://github.com/matomo-org/matomo/commit/3c2b5f714f85457796e3e190781d3e592822ebf7 to make sure we don't initiate archiving of invalidated archives under certain circumstances if we don't have to.\r\n\r\nAlso for some reason a test was removed in a commit (but the test data was still there)... I put it back.\r\n\r\nFYI @tsteur \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17379/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17379/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17378", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17378/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17378/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17378/events", "html_url": "https://github.com/matomo-org/matomo/issues/17378", "id": 838254981, "node_id": "MDU6SXNzdWU4MzgyNTQ5ODE=", "number": 17378, "title": "vendor/composer/installed.json is exposed publicly", "user": { "login": "fmarier", "id": 167821, "node_id": "MDQ6VXNlcjE2NzgyMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/167821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmarier", "html_url": "https://github.com/fmarier", "followers_url": "https://api.github.com/users/fmarier/followers", "following_url": "https://api.github.com/users/fmarier/following{/other_user}", "gists_url": "https://api.github.com/users/fmarier/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmarier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmarier/subscriptions", "organizations_url": "https://api.github.com/users/fmarier/orgs", "repos_url": "https://api.github.com/users/fmarier/repos", "events_url": "https://api.github.com/users/fmarier/events{/privacy}", "received_events_url": "https://api.github.com/users/fmarier/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370581, "node_id": "MDU6TGFiZWwxMTIzNzA1ODE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Security", "name": "c: Security", "color": "fad8c7", "default": false, "description": "For issues that make Matomo more secure. Please report issues through HackerOne and not in Github." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 3, "created_at": "2021-03-23T01:48:15Z", "updated_at": "2021-03-25T18:39:13Z", "closed_at": "2021-03-25T18:39:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Despite the recommended Nginx configuration [explicitly denying files under `vendor/`](https://github.com/matomo-org/matomo-nginx/blob/b91de102db6fd473124a714cde834afef94e388e/sites-available/matomo.conf#L80-L83), Matomo ends up serving up the `vendor/composer/installed.json` file due to a separate `vendor/.htaccess` config blurb:\r\n```\r\n# Allow to serve static files which are safe\r\n<Files ~ \"\\.(gif|ico|jpg|png|svg|js|css|htm|html|mp3|mp4|wav|ogg|avi|ttf|eot|woff|woff2|json)$\">\r\n\t\tRequire all granted\r\n</Files>\r\n```\r\nwhich is [generated by this code](https://github.com/matomo-org/matomo/blob/0a0d7ea3b85264e6b5aff757a6283949217a2ddd/plugins/Installation/ServerFilesGenerator.php#L50-L53).\r\n\r\nIt would be preferable to keep that file private since it reveals exact versions of packages installed on a server. For example: https://demo.matomo.cloud/vendor/composer/installed.json", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17378/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17377", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17377/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17377/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17377/events", "html_url": "https://github.com/matomo-org/matomo/issues/17377", "id": 838118838, "node_id": "MDU6SXNzdWU4MzgxMTg4Mzg=", "number": 17377, "title": "Create new segment for Browser Family", "user": { "login": "Starker3", "id": 20905821, "node_id": "MDQ6VXNlcjIwOTA1ODIx", "avatar_url": "https://avatars.githubusercontent.com/u/20905821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Starker3", "html_url": "https://github.com/Starker3", "followers_url": "https://api.github.com/users/Starker3/followers", "following_url": "https://api.github.com/users/Starker3/following{/other_user}", "gists_url": "https://api.github.com/users/Starker3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Starker3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Starker3/subscriptions", "organizations_url": "https://api.github.com/users/Starker3/orgs", "repos_url": "https://api.github.com/users/Starker3/repos", "events_url": "https://api.github.com/users/Starker3/events{/privacy}", "received_events_url": "https://api.github.com/users/Starker3/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 0, "created_at": "2021-03-22T21:22:08Z", "updated_at": "2021-03-22T21:27:39Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n\r\n## Summary\r\n<!-- Please provide a detailed summary of the feature -->\r\nCurrently when creating segments for browsers we need to add each browser to the segment in order to have a segment for a browser family (Eg. Chrome/Safari/etc.)\r\n\r\nWould be great to be able to create a new segment for a \"Browser Family\" that would automatically combine for example all Chrome related browsers into an easy to use \"Browser Family\" segment.\r\n\r\nRelated to:\r\n#17375 \r\n#5413\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17377/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17376", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17376/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17376/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17376/events", "html_url": "https://github.com/matomo-org/matomo/issues/17376", "id": 838087558, "node_id": "MDU6SXNzdWU4MzgwODc1NTg=", "number": 17376, "title": "Huge query on Matomo hundreds of thousands of rows on repeat", "user": { "login": "StevieKay90", "id": 80366750, "node_id": "MDQ6VXNlcjgwMzY2NzUw", "avatar_url": "https://avatars.githubusercontent.com/u/80366750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StevieKay90", "html_url": "https://github.com/StevieKay90", "followers_url": "https://api.github.com/users/StevieKay90/followers", "following_url": "https://api.github.com/users/StevieKay90/following{/other_user}", "gists_url": "https://api.github.com/users/StevieKay90/gists{/gist_id}", "starred_url": "https://api.github.com/users/StevieKay90/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StevieKay90/subscriptions", "organizations_url": "https://api.github.com/users/StevieKay90/orgs", "repos_url": "https://api.github.com/users/StevieKay90/repos", "events_url": "https://api.github.com/users/StevieKay90/events{/privacy}", "received_events_url": "https://api.github.com/users/StevieKay90/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 7, "created_at": "2021-03-22T20:34:42Z", "updated_at": "2021-03-24T02:00:52Z", "closed_at": "2021-03-24T02:00:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\nWe have an issue where the following query, seemingly on repeat is pushing our db requirements for Matamo through the roof;\r\n\r\nSELECT `visit_last_action_time` , `visit_first_action_time` , `idvisitor` , `idvisit` , `user_id` , `visit_exit_idaction_url` , `visit_exit_idaction_name` , `visitor_returning` , `visitor_seconds_since_first` , `visitor_seconds_since_order` , `visitor_count_visits` , `visit_goal_buyer` , `location_country` , `location_region` , `location_city` , `location_latitude` , `location_longitude` , `referer_name` , `referer_keyword` , `referer_type` , `idsite` , `profilable` , `visit_entry_idaction_url` \r\n\r\nwe have disabled all plugins and this query still runs ad nauesum\r\n\r\n## Expected Behavior\r\n\r\nMassive query should not be on repeat\r\n\r\n## Current Behavior\r\n\r\nAt present we required a lot of extra resource to run our Matomo instance. On RDS we notice a vast query which was seemingly on repeat over and over;\r\n\r\n<img width=\"960\" alt=\"image (2)\" src=\"https://user-images.githubusercontent.com/80366750/112052692-50d6e200-8b4b-11eb-8e0b-2b2aecc43217.png\">\r\n\r\n<img width=\"960\" alt=\"image (4)\" src=\"https://user-images.githubusercontent.com/80366750/112054309-503f4b00-8b4d-11eb-8753-aa402dced21b.png\">\r\n\r\n## Possible Solution\r\n\r\nThe issue does not lie with plugins, we removed all non essential plugins and the query is still appearing\r\nWe are going to try and cache this query on a proxy in front of the db's\r\n\r\n## Steps to Reproduce (for Bugs)\r\n\r\nRegular setup, it happens continually on our system\r\n\r\n## Context\r\n\r\nNot sure what else to put, other than we don't know why this is happening!\r\nWe are trying to pinpoint it but its not plugins, maybe its on the tracker.php ?\r\n\r\n## Your Environment\r\n\r\n[matomo_system_check (2).txt](https://github.com/matomo-org/matomo/files/6185121/matomo_system_check.2.txt)\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17376/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17375", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17375/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17375/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17375/events", "html_url": "https://github.com/matomo-org/matomo/issues/17375", "id": 838083045, "node_id": "MDU6SXNzdWU4MzgwODMwNDU=", "number": 17375, "title": "Browser based segmentation using \"Contains\" does not work as expected.", "user": { "login": "Starker3", "id": 20905821, "node_id": "MDQ6VXNlcjIwOTA1ODIx", "avatar_url": "https://avatars.githubusercontent.com/u/20905821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Starker3", "html_url": "https://github.com/Starker3", "followers_url": "https://api.github.com/users/Starker3/followers", "following_url": "https://api.github.com/users/Starker3/following{/other_user}", "gists_url": "https://api.github.com/users/Starker3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Starker3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Starker3/subscriptions", "organizations_url": "https://api.github.com/users/Starker3/orgs", "repos_url": "https://api.github.com/users/Starker3/repos", "events_url": "https://api.github.com/users/Starker3/events{/privacy}", "received_events_url": "https://api.github.com/users/Starker3/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-03-22T20:28:17Z", "updated_at": "2021-03-23T08:55:53Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n\r\n## Expected Behavior\r\n<!-- When describing a bug, please tell us what should happen -->\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\nWhen using a segment for example: `Browser Contains Chrome` we would expect that the segment would contain all browsers that contain `Chrome`, likewise for `Browser Contains Safari` etc.\r\n\r\n## Current Behavior\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\nUnfortunately at present it appears as though using `Browser Contains Chrome` the reports only show data for `Chrome` and `Google Search App` (see screenshots)\r\n![image](https://user-images.githubusercontent.com/20905821/112052806-69c9ac80-8bb8-11eb-835e-ae307417edf1.png)\r\n![image](https://user-images.githubusercontent.com/20905821/112052831-73531480-8bb8-11eb-8c6e-0b16742a23ad.png)\r\n\r\nScreenshot of \"All Visits\" segment:\r\n![image](https://user-images.githubusercontent.com/20905821/112054005-ec06a080-8bb9-11eb-989b-93efccd97878.png)\r\n\r\n\r\nIn order to see reports for all the Chrome/Safari based browsers at present we would need to specify the browser names, eg. `Chrome`, `Chrome Mobile`, `Chrome Mobile iOS`, `Safari` etc.\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. View the Software report, noting all the Browsers using `Chrome` in the name.\r\n2. Then view the Software report using the following Segment: `&segment=browserName%3D@Chrome` (Browser Contains Chrome)\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.2.1\r\n* PHP Version: 7.3.22\r\n* Server Operating System: Debian 10\r\n* Additionally installed plugins:\r\nPlugins Activated: API, AbTesting 4.1.0, Actions, ActivityLog 4.0.2, Annotations, BulkTracking, Cohorts 4.0.3, Contents, CoreAdminHome, CoreConsole, CoreHome, CorePluginsAdmin, CoreUpdater, CoreVisualizations, CustomAlerts 4.0.1, CustomDimensions, CustomJsTracker, CustomReports 4.0.5, Dashboard, DevicePlugins, DevicesDetection, Diagnostics, Ecommerce, Events, Feedback, FormAnalytics 4.0.4, Funnels 4.0.4, GeoIp2, Goals, GoogleAnalyticsImporter 4.1.1, Heartbeat, HeatmapSessionRecording 4.0.10, ImageGraph, Insights, Installation, Intl, IntranetMeasurable, LanguagesManager, Live, LoginLdap 4.3.0, LoginSaml 4.0.3, MarketingCampaignsReporting 4.0.4, Marketplace, MediaAnalytics 4.0.5, MobileMessaging, Monolog, Morpheus, MultiChannelConversionAttribution 4.0.5, MultiSites, Overlay, PagePerformance, PrivacyManager, Proxy, Referrers, Resolution, RollUpReporting 4.0.2, RssWidget, SEO, ScheduledReports, SearchEngineKeywordsPerformance 4.2.0, SegmentEditor, SitesManager, TagManager, Tour, Transitions, TwoFactorAuth, UserCountry, UserCountryMap, UserId, UserLanguage, UsersFlow 4.0.3, UsersManager, VisitFrequency, VisitTime, VisitorGenerator 4.0.3, VisitorInterest, VisitsSummary, WebsiteMeasurable, WhiteLabel 4.0.2, Widgetize, WooCommerceAnalytics 4.0.5\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17375/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17374", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17374/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17374/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17374/events", "html_url": "https://github.com/matomo-org/matomo/issues/17374", "id": 837887279, "node_id": "MDU6SXNzdWU4Mzc4ODcyNzk=", "number": 17374, "title": "Row evolution on subtables can cause errors randomly", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 3, "created_at": "2021-03-22T16:16:49Z", "updated_at": "2021-03-23T15:02:49Z", "closed_at": "2021-03-23T15:02:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Expected Behavior\r\nOpening a row evolution for a subtable should always work correctly.\r\n\r\n## Current Behavior\r\nSometimes when opening a row evolution for a subtable Matomo seems to choose the incorrect datatable to open the row evolution for and tries to open it with an incorrect action (and subtable id), which results in an error.\r\n\r\n## Steps to Reproduce (for Bugs)\r\n1. Go to demo.matomo.cloud\r\n2. Choose Campaign reports\r\n3. Open a subtable report for one row in the campaign name report\r\n4. Open a row evolution for one of the subtable records (-->should work)\r\n5. Open a row evolution for one of the base table records (--> should work)\r\n6. Open a row evolution for a subtable record again (--> might fail)\r\n\r\nSee this record:\r\n\r\nhttps://user-images.githubusercontent.com/1579355/112020029-507d1d80-8b30-11eb-9e84-01ac3161758e.mp4\r\n\r\nLocally this results in\r\n```\r\nCall to undefined method Piwik\\DataTable\\Map::getRowFromLabel() in /srv/matomo/plugins/MarketingCampaignsReporting/API.php line 82\r\n```\r\n\r\nThe failing request tries to open a row evolution with a popover parameter like `RowAction$3ARowEvolution$3AMarketingCampaignsReporting.getKeywordContentFromNameId$3A$257B$2522idSubtable$2522$253A$25222$2522$257D$3Aemail-jan2019$20$3E$20$40text`, which is obviously incorrect, as the action of the parent table should be used. Correct would be `RowAction$3ARowEvolution$3AMarketingCampaignsReporting.getName$3A$257B$2522flat$2522$253A0$257D$3Aemail-jan2019` for this case.\r\n\r\n\r\n## Context\r\nThis issue might be the real cause for https://github.com/matomo-org/plugin-MarketingCampaignsReporting/issues/61 and maybe some other errors occurring in relation to row evolution\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17374/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17373", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17373/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17373/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17373/events", "html_url": "https://github.com/matomo-org/matomo/issues/17373", "id": 837733733, "node_id": "MDU6SXNzdWU4Mzc3MzM3MzM=", "number": 17373, "title": "On-Premise: Custom Reports", "user": { "login": "gpadbidri", "id": 8458489, "node_id": "MDQ6VXNlcjg0NTg0ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/8458489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpadbidri", "html_url": "https://github.com/gpadbidri", "followers_url": "https://api.github.com/users/gpadbidri/followers", "following_url": "https://api.github.com/users/gpadbidri/following{/other_user}", "gists_url": "https://api.github.com/users/gpadbidri/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpadbidri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpadbidri/subscriptions", "organizations_url": "https://api.github.com/users/gpadbidri/orgs", "repos_url": "https://api.github.com/users/gpadbidri/repos", "events_url": "https://api.github.com/users/gpadbidri/events{/privacy}", "received_events_url": "https://api.github.com/users/gpadbidri/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-03-22T13:46:36Z", "updated_at": "2021-03-23T19:40:31Z", "closed_at": "2021-03-22T15:38:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "We have an On-Premise Setup of Matomo - We have a requirement that EVREY registered Website on Matomo Dashboard displays **graph with Pageviews by hour, total pageviews, and then top pages of the day and their pageviews at the bottom**. \r\nIs it possible to create a Report that splits the Total Page Views by the hour for the last 24 hours ?\r\n\r\nMy queries around the same : \r\n\r\n1. Is it possible by creating a Custom Plugin / Widget ?\r\n2. If # 1 is not possible - is it possible to achieve the same using Custom reports Plugin ? \r\n3. I need a way where I do not want to invest in a Custom Reports plugin just to have a COUPLE of reports ? Can you suggest me a workaround of how can the above mentioned REPORTS be achieved with a GRAPH.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17373/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17373/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17372", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17372/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17372/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17372/events", "html_url": "https://github.com/matomo-org/matomo/pull/17372", "id": 837682706, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk3OTgyMTc4", "number": 17372, "title": "Ensure to send performance timings as integer values", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 4, "created_at": "2021-03-22T12:47:01Z", "updated_at": "2021-03-23T15:07:26Z", "closed_at": "2021-03-23T15:07:18Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17372", "html_url": "https://github.com/matomo-org/matomo/pull/17372", "diff_url": "https://github.com/matomo-org/matomo/pull/17372.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17372.patch", "merged_at": "2021-03-23T15:07:18Z" }, "body": "### Description:\r\n\r\nrefs #17371\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17372/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17371", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17371/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17371/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17371/events", "html_url": "https://github.com/matomo-org/matomo/issues/17371", "id": 837592571, "node_id": "MDU6SXNzdWU4Mzc1OTI1NzE=", "number": 17371, "title": "Performance reports empty / data not saved to database", "user": { "login": "MichaelRoosz", "id": 609117, "node_id": "MDQ6VXNlcjYwOTExNw==", "avatar_url": "https://avatars.githubusercontent.com/u/609117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaelRoosz", "html_url": "https://github.com/MichaelRoosz", "followers_url": "https://api.github.com/users/MichaelRoosz/followers", "following_url": "https://api.github.com/users/MichaelRoosz/following{/other_user}", "gists_url": "https://api.github.com/users/MichaelRoosz/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaelRoosz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaelRoosz/subscriptions", "organizations_url": "https://api.github.com/users/MichaelRoosz/orgs", "repos_url": "https://api.github.com/users/MichaelRoosz/repos", "events_url": "https://api.github.com/users/MichaelRoosz/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaelRoosz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 2084322191, "node_id": "MDU6TGFiZWwyMDg0MzIyMTkx", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Potential%20Bug", "name": "Potential Bug", "color": "fbbaba", "default": false, "description": "Something that might be a bug, but can't be reproduced (yet)." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-03-22T10:50:42Z", "updated_at": "2021-03-22T15:51:36Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am currently testing Matomo 4.2.1.\r\n\r\nThe new Performance Report feature is not working at all:\r\n\r\n- in matomo_log_link_visit_action the only field with non-NULL data is time_network and its always 0\r\n- the other fields are always NULL\r\n- -> Reports are empty\r\n\r\nThis is what the browsers are sending:\r\n\r\nchrome\r\npf_net: 0\r\npf_srv: 1.150000000052387\r\npf_tfr: 1.2499999993451638\r\n\r\nfirefox\r\npf_net: 0\r\npf_srv: 2\r\npf_tfr: 1\r\n\r\n- floats in chrome seem strange as the backend seems to expect integers\r\n- the values 0/1/2 look like seconds but I guess we want milliseconds?\r\n\r\n-> the performance feature seems completely broken at this time\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17371/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17370", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17370/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17370/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17370/events", "html_url": "https://github.com/matomo-org/matomo/pull/17370", "id": 837332100, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk3NjgxNTQ0", "number": 17370, "title": "French country map: Add ISO 3166-2 new codes + update regions", "user": { "login": "ysard", "id": 14988285, "node_id": "MDQ6VXNlcjE0OTg4Mjg1", "avatar_url": "https://avatars.githubusercontent.com/u/14988285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysard", "html_url": "https://github.com/ysard", "followers_url": "https://api.github.com/users/ysard/followers", "following_url": "https://api.github.com/users/ysard/following{/other_user}", "gists_url": "https://api.github.com/users/ysard/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysard/subscriptions", "organizations_url": "https://api.github.com/users/ysard/orgs", "repos_url": "https://api.github.com/users/ysard/repos", "events_url": "https://api.github.com/users/ysard/events{/privacy}", "received_events_url": "https://api.github.com/users/ysard/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-22T05:29:55Z", "updated_at": "2021-04-28T11:49:37Z", "closed_at": "2021-03-22T09:31:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17370", "html_url": "https://github.com/matomo-org/matomo/pull/17370", "diff_url": "https://github.com/matomo-org/matomo/pull/17370.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17370.patch", "merged_at": "2021-03-22T09:31:58Z" }, "body": "### Description:\r\n\r\nHi I partially reverse-engineered the `/plugins/UserCountryMap/svg/FRA.svg` file to update it in accordance with the regrouping of French regions since January 1, 2016. namely:\r\n- removal of old regions\r\n- addition of ISO 3166-2 codes in the additional attribute (`data-p`) of `<path>` objects, as it is the case for other countries without any problem of ISO code. It's a trick but it works.\r\n\r\nSee the [Wikipedia page](https://fr.wikipedia.org/wiki/ISO_3166-2:FR) for more info about this administrative update.\r\nFinally, we have 13 metropolitan regions instead of 22.\r\n\r\nEditing was made with Inkscape. The method is not reproducible due to the lack of a functional map generator,\r\nbut I suppose that it's better than nothing...\r\nHowever, it should be noted that even Natural Earth Data is not up to date on this point.\r\nSee the issue [here](https://github.com/nvkelso/natural-earth-vector/issues/429)\r\n\r\nThis closes issue #15203 and is related to #11929.\r\n\r\nDemonstration image: \r\n![image](https://user-images.githubusercontent.com/14988285/111944271-8fcb5000-8ad7-11eb-8932-391c4855ac86.png)\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17370/reactions", "total_count": 1, "+1": 0, "-1": 0, "laugh": 0, "hooray": 1, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17370/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17369", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17369/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17369/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17369/events", "html_url": "https://github.com/matomo-org/matomo/pull/17369", "id": 837278006, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk3NjM1NTc4", "number": 17369, "title": "allow forcing backtrace to print in exceptiontotextprocessor", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 3, "created_at": "2021-03-22T03:20:38Z", "updated_at": "2021-05-17T05:35:44Z", "closed_at": "2021-03-25T18:38:03Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17369", "html_url": "https://github.com/matomo-org/matomo/pull/17369", "diff_url": "https://github.com/matomo-org/matomo/pull/17369.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17369.patch", "merged_at": "2021-03-25T18:38:03Z" }, "body": "### Description:\r\n\r\nAllow forcing the backtrace to print in ExceptionToTextProcessor + a fix: remove the redundant message that gets printed when including the backtrace. The processor printed the message + the stack trace, but the stack trace includes the messages of all exceptions, so it's redundant. We could also always use the result of `getMessageAndWholeBacktrace()`, but I didn't want to change that much code for a small change.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17369/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17368", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17368/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17368/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17368/events", "html_url": "https://github.com/matomo-org/matomo/pull/17368", "id": 837250920, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk3NjEzOTMy", "number": 17368, "title": "Allow rearchive_reports_in_past_last_n_months setting value to be an int.", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 6, "created_at": "2021-03-22T01:58:52Z", "updated_at": "2021-03-23T14:47:42Z", "closed_at": "2021-03-23T04:16:35Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17368", "html_url": "https://github.com/matomo-org/matomo/pull/17368", "diff_url": "https://github.com/matomo-org/matomo/pull/17368.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17368.patch", "merged_at": "2021-03-23T04:16:35Z" }, "body": "### Description:\r\n\r\nFixes #17366\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17368/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17367", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17367/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17367/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17367/events", "html_url": "https://github.com/matomo-org/matomo/pull/17367", "id": 837237877, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk3NjA0ODky", "number": 17367, "title": "Improve no data tracked yet screen", "user": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 6, "created_at": "2021-03-22T01:18:36Z", "updated_at": "2021-03-29T03:42:21Z", "closed_at": "2021-03-29T03:42:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17367", "html_url": "https://github.com/matomo-org/matomo/pull/17367", "diff_url": "https://github.com/matomo-org/matomo/pull/17367.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17367.patch", "merged_at": "2021-03-29T03:42:17Z" }, "body": "### Description:\r\n\r\nfixes #16787 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17367/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17366", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17366/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17366/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17366/events", "html_url": "https://github.com/matomo-org/matomo/issues/17366", "id": 837162900, "node_id": "MDU6SXNzdWU4MzcxNjI5MDA=", "number": 17366, "title": "Improve configuration of rearchive_reports_in_past_last_n_months setting", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" } ], "state": "closed", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-21T19:31:20Z", "updated_at": "2021-03-23T04:16:35Z", "closed_at": "2021-03-23T04:16:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`rearchive_reports_in_past_last_n_months` already has `last_n` in the name but still expects to configure `last4` as value for example. Goal of this issue is that \r\n\r\n* If only a number is configured, we skip the `substr` https://github.com/matomo-org/matomo/blob/4.2.1/core/Archive/ArchiveInvalidator.php#L799\r\n* We also no longer hard code the `4` (which comes from `strlen('last')`) but would instead do something like `str_replace('last', '', $lastNMonthsToInvalidate)` which be more readable.\r\n\r\nNote same code seems to be also in 2 places in Custom Reports where it would needs to be fixed too", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17366/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17365", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/17365/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/17365/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/17365/events", "html_url": "https://github.com/matomo-org/matomo/pull/17365", "id": 837155437, "node_id": "MDExOlB1bGxSZXF1ZXN0NTk3NTQyMTI1", "number": 17365, "title": "Warning in 2fa setting: gmdate() expects parameter 2 to be int", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/146", "html_url": "https://github.com/matomo-org/matomo/milestone/146", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/146/labels", "id": 6459549, "node_id": "MDk6TWlsZXN0b25lNjQ1OTU0OQ==", "number": 146, "title": "4.3.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 193, "state": "closed", "created_at": "2021-02-22T03:09:27Z", "updated_at": "2021-06-10T08:51:45Z", "due_on": null, "closed_at": "2021-05-26T01:23:30Z" }, "comments": 0, "created_at": "2021-03-21T18:56:57Z", "updated_at": "2021-05-17T05:35:34Z", "closed_at": "2021-03-21T20:57:46Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/17365", "html_url": "https://github.com/matomo-org/matomo/pull/17365", "diff_url": "https://github.com/matomo-org/matomo/pull/17365.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/17365.patch", "merged_at": "2021-03-21T20:57:46Z" }, "body": "see https://forum.matomo.org/t/problem-with-the-two-factor-authentication-setting/41128/12?\r\n\r\n> WARNING: /Piwik/core/Cookie.php(155): Warning - gmdate() expects parameter 2 to be int, float given - Matomo 4.1.1 - Please report this message in the Matomo forums: https://forum.matomo.org (please do a search first as it might have been reported already) (Module: UsersManager, Action: setIgnoreCookie, In CLI mode: false)\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Potential edge cases thought about (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/17365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/17365/timeline", "performed_via_github_app": null, "state_reason": null } ]
