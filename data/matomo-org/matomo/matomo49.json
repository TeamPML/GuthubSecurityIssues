[ { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14903", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14903/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14903/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14903/events", "html_url": "https://github.com/matomo-org/matomo/issues/14903", "id": 496207540, "node_id": "MDU6SXNzdWU0OTYyMDc1NDA=", "number": 14903, "title": "Heatmap never gets generated", "user": { "login": "alexljamin", "id": 10956179, "node_id": "MDQ6VXNlcjEwOTU2MTc5", "avatar_url": "https://avatars.githubusercontent.com/u/10956179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexljamin", "html_url": "https://github.com/alexljamin", "followers_url": "https://api.github.com/users/alexljamin/followers", "following_url": "https://api.github.com/users/alexljamin/following{/other_user}", "gists_url": "https://api.github.com/users/alexljamin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexljamin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexljamin/subscriptions", "organizations_url": "https://api.github.com/users/alexljamin/orgs", "repos_url": "https://api.github.com/users/alexljamin/repos", "events_url": "https://api.github.com/users/alexljamin/events{/privacy}", "received_events_url": "https://api.github.com/users/alexljamin/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-20T08:02:02Z", "updated_at": "2019-10-27T20:30:23Z", "closed_at": "2019-09-22T20:14:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm on Matomo [Business plan](https://matomo.org/pricing/) with a cloud-hosted solution. I'm trying to get heatmaps to work, but no matter what rules I specify I receive the following error:\r\n\r\n> No page view has been recorded yet for this heatmap. If there are supposed to be recordings by now, maybe the page targets configured for this heatmap do not match any page on your website. It is also recommended to check the \"System Check\" under \"Administration\" (only Super Users) to see if your system is configured to automatically track Heatmaps.\r\n\r\nDoes not seem to like valid regexp as well:\r\n![Screen Shot 2019-09-20 at 6 09 08 pm](https://user-images.githubusercontent.com/10956179/65312535-de8de600-dbd1-11e9-9bed-0a426abc1719.png)\r\n\r\n![Screen Shot 2019-09-20 at 6 11 18 pm](https://user-images.githubusercontent.com/10956179/65312648-1bf27380-dbd2-11e9-9618-801334847377.png)\r\n\r\nMy account has Super User rights but the \"System Check\" menu is not available under \"Administration\" so there is no way to check if my system is configured to track Heatmaps.\r\n\r\n![Screen Shot 2019-09-20 at 5 23 37 pm](https://user-images.githubusercontent.com/10956179/65309601-92d83e00-dbcb-11e9-90a4-57d3e5fbe6c6.png)\r\n\r\nHere is what the \"Administration\" menu has:\r\n![Screen Shot 2019-09-20 at 5 30 04 pm](https://user-images.githubusercontent.com/10956179/65309987-653fc480-dbcc-11e9-88b7-5ff347a22b6a.png)\r\n\r\nIs there something I am missing in the setup? Any pointers will be highly appreciated", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14903/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14902", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14902/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14902/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14902/events", "html_url": "https://github.com/matomo-org/matomo/issues/14902", "id": 495988335, "node_id": "MDU6SXNzdWU0OTU5ODgzMzU=", "number": 14902, "title": "Funnels-tracking with two domains leads to wrong exits in funnel", "user": { "login": "utrautmann", "id": 25771066, "node_id": "MDQ6VXNlcjI1NzcxMDY2", "avatar_url": "https://avatars.githubusercontent.com/u/25771066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/utrautmann", "html_url": "https://github.com/utrautmann", "followers_url": "https://api.github.com/users/utrautmann/followers", "following_url": "https://api.github.com/users/utrautmann/following{/other_user}", "gists_url": "https://api.github.com/users/utrautmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/utrautmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/utrautmann/subscriptions", "organizations_url": "https://api.github.com/users/utrautmann/orgs", "repos_url": "https://api.github.com/users/utrautmann/repos", "events_url": "https://api.github.com/users/utrautmann/events{/privacy}", "received_events_url": "https://api.github.com/users/utrautmann/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-19T19:35:53Z", "updated_at": "2019-10-27T20:30:23Z", "closed_at": "2019-09-19T20:56:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Funnel tracking seems to have a problem with a funnel configuration which is running over two domains.\r\n\r\nBackground:\r\nI'm running a website with two domains (www.xyz.com and service.xyz.com). Both domains are covered with my tracking script and both domains are configured as \"URLs\" for aliases:\r\n_paq.push([\"setCookieDomain\", \"*.xyz.com\"]);\r\n_paq.push([\"setDomains\", [\"*.xyz.com\"]]);\r\n\r\nNow I configured a goal with a funnel:\r\n\r\n- The first funnel step is reached at **www**.xyz.com/abc.\r\n- The second funnel step is reached at **service**.xyz.com/secondpath\r\n- The goal is reached at **service**.xyz.com/successpath\r\n\r\nIf I set the funnel in the second step with \"Path contains\" and value \"secondpath\" then the url service.xyz.com/secondpath will always be wrong listed as exit url in step 1. \r\nIf I set instead the funnel in the second step with \"URL starts\" oder \"URL matches expression\" to \"service.xyz.com/secondpath\" then step 2 is correctly reached in the funnel.\r\n\r\nSame problem happens with the goal, when i configured without hostname. The goal is reached in \"Goal-statistics\", but not reached as goal in the funnel. The Goal-URL is listed as exit url in the funnel.\r\n\r\nDo I need to configure the full path in funnels?\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14902/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14901", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14901/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14901/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14901/events", "html_url": "https://github.com/matomo-org/matomo/pull/14901", "id": 495782539, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE5MjYzMTY1", "number": 14901, "title": "Fixed #14662 and fixed decimal separator translation", "user": { "login": "MichaelRoosz", "id": 609117, "node_id": "MDQ6VXNlcjYwOTExNw==", "avatar_url": "https://avatars.githubusercontent.com/u/609117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaelRoosz", "html_url": "https://github.com/MichaelRoosz", "followers_url": "https://api.github.com/users/MichaelRoosz/followers", "following_url": "https://api.github.com/users/MichaelRoosz/following{/other_user}", "gists_url": "https://api.github.com/users/MichaelRoosz/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaelRoosz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaelRoosz/subscriptions", "organizations_url": "https://api.github.com/users/MichaelRoosz/orgs", "repos_url": "https://api.github.com/users/MichaelRoosz/repos", "events_url": "https://api.github.com/users/MichaelRoosz/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaelRoosz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-19T12:56:38Z", "updated_at": "2019-09-22T04:55:29Z", "closed_at": "2019-09-19T20:18:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14901", "html_url": "https://github.com/matomo-org/matomo/pull/14901", "diff_url": "https://github.com/matomo-org/matomo/pull/14901.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14901.patch", "merged_at": "2019-09-19T20:18:57Z" }, "body": "- Fixed #14662 (non well formed numeric value encountered warning in Sparkline lib)\r\n- Fixed wrong translation key (Intl_NumberSymbolDecimal)", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14901/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14901/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14900", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14900/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14900/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14900/events", "html_url": "https://github.com/matomo-org/matomo/pull/14900", "id": 495739232, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE5MjI3ODIx", "number": 14900, "title": "Fixed SQL Exception in UsersManager\\API->getUsersPlusRole()", "user": { "login": "MichaelRoosz", "id": 609117, "node_id": "MDQ6VXNlcjYwOTExNw==", "avatar_url": "https://avatars.githubusercontent.com/u/609117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaelRoosz", "html_url": "https://github.com/MichaelRoosz", "followers_url": "https://api.github.com/users/MichaelRoosz/followers", "following_url": "https://api.github.com/users/MichaelRoosz/following{/other_user}", "gists_url": "https://api.github.com/users/MichaelRoosz/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaelRoosz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaelRoosz/subscriptions", "organizations_url": "https://api.github.com/users/MichaelRoosz/orgs", "repos_url": "https://api.github.com/users/MichaelRoosz/repos", "events_url": "https://api.github.com/users/MichaelRoosz/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaelRoosz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-19T11:26:30Z", "updated_at": "2019-09-19T20:57:12Z", "closed_at": "2019-09-19T20:57:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14900", "html_url": "https://github.com/matomo-org/matomo/pull/14900", "diff_url": "https://github.com/matomo-org/matomo/pull/14900.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14900.patch", "merged_at": "2019-09-19T20:57:12Z" }, "body": "If `$loginsToLimit` is an empty array, because `$this->model->getUsersWithAccessToSites($adminIdSites)` returned no results an SQL Exception is triggered:\r\n> Uncaught exception in API: /libs/Zend/Db/Statement/Pdo.php(234): SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ') GROUP BY u.login ORDER BY u.login ASC ' at line 4\r\n\r\nThis change fixes this problem and sends an empty user list in this case.\r\n\r\nNormally $loginsToLimit will never be empty, however it can happen if access is managed by another plugin, for example the GroupPermissions plugin (https://plugins.matomo.org/GroupPermissions).", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14900/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14900/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14899", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14899/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14899/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14899/events", "html_url": "https://github.com/matomo-org/matomo/pull/14899", "id": 495490779, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE5MDI5Njcx", "number": 14899, "title": "Better handling of setting transaction level", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-18T22:50:46Z", "updated_at": "2019-09-19T00:58:40Z", "closed_at": "2019-09-19T00:58:37Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14899", "html_url": "https://github.com/matomo-org/matomo/pull/14899", "diff_url": "https://github.com/matomo-org/matomo/pull/14899.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14899.patch", "merged_at": "2019-09-19T00:58:37Z" }, "body": "FYI @diosmosis maybe you can give it a test if that works for you?\r\n\r\nI tried to force it failing with the error you had with a test like this but I couldn't get it failing. Instead of having it configurable I thought it be good to basically detect it automatically.\r\n\r\n```php\r\n\tpublic function test_setUncommitted_returnsFalseWhenItFails()\r\n\t{\r\n\t\t$this->db->query('SET SESSION binlog_format = \\'STATEMENT\\';');\r\n\t\t$result = $this->level->setUncommitted();\r\n\r\n\t\t// value remains unchanged\r\n\t\t$value = $this->db->fetchOne('SELECT @@TX_ISOLATION');\r\n\t\t$this->assertSame('REPEATABLE-READ', $value);\r\n\r\n $this->assertFalse($result);\r\n\t}\r\n```", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14899/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14898", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14898/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14898/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14898/events", "html_url": "https://github.com/matomo-org/matomo/pull/14898", "id": 495480943, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE5MDIxNjQ4", "number": 14898, "title": "Fix failing updater screenshot test", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-18T22:16:31Z", "updated_at": "2020-02-10T13:02:45Z", "closed_at": "2019-09-18T23:19:57Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14898", "html_url": "https://github.com/matomo-org/matomo/pull/14898", "diff_url": "https://github.com/matomo-org/matomo/pull/14898.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14898.patch", "merged_at": "2019-09-18T23:19:57Z" }, "body": "fixes this test: https://builds-artifacts.matomo.org/matomo-org/matomo/3.x-dev/35989/OneClickUpdate_update_success.png", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14898/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14897", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14897/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14897/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14897/events", "html_url": "https://github.com/matomo-org/matomo/issues/14897", "id": 495306380, "node_id": "MDU6SXNzdWU0OTUzMDYzODA=", "number": 14897, "title": "Arbitrarily Extend Session Duration", "user": { "login": "ibril15", "id": 26365407, "node_id": "MDQ6VXNlcjI2MzY1NDA3", "avatar_url": "https://avatars.githubusercontent.com/u/26365407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibril15", "html_url": "https://github.com/ibril15", "followers_url": "https://api.github.com/users/ibril15/followers", "following_url": "https://api.github.com/users/ibril15/following{/other_user}", "gists_url": "https://api.github.com/users/ibril15/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibril15/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibril15/subscriptions", "organizations_url": "https://api.github.com/users/ibril15/orgs", "repos_url": "https://api.github.com/users/ibril15/repos", "events_url": "https://api.github.com/users/ibril15/events{/privacy}", "received_events_url": "https://api.github.com/users/ibril15/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 0, "created_at": "2019-09-18T15:39:47Z", "updated_at": "2019-09-18T20:36:39Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI have a use case where I want to arbitrarily extend a visit duration. The situation is something like this.\r\n\r\n1 - User logs in\r\n2 - User opens a 3rd party link in an iframe or popup\r\n3a - User continues interacting with main site\r\nor\r\n3.b - User closes the browser\r\n\r\nI want to extend the duration for as long as the user is in Step 2 so that Step 3a is not treated as a new visit, and so that I can record an accurate duration for Step 2 in the case of Step 3b.\r\n\r\nIs it possible to do that now? I know that this has been discussed a few times in the past, specially around ping/heartbeat, but most of the threads are over a year old:\r\n\r\nhttps://github.com/matomo-org/matomo/issues/9610#issuecomment-173689254\r\nhttps://github.com/matomo-org/matomo/pull/9617\r\nhttps://github.com/matomo-org/matomo/issues/13656\r\nhttps://forum.matomo.org/t/how-to-send-a-heartbeat-via-http-tracking-api/27832/5\r\n\r\nPassing in some sort of parameter to ping that extends the session beyond visit_standard_length would be quite handy.\r\n\r\nOn a related note, the documentation for \"Ping\" at https://developer.matomo.org/guides/tracking-javascript states \"If they are sent within the standard visit length, they will extend the existing visit and the current last action for the visit\" which no longer appears to be the case.\r\n\r\nThanks a lot.\r\n\r\n-Igor", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14897/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14897/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14896", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14896/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14896/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14896/events", "html_url": "https://github.com/matomo-org/matomo/pull/14896", "id": 494841848, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE4NTE3NDMy", "number": 14896, "title": "If session was already started, do not start it again", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 2, "created_at": "2019-09-17T20:42:13Z", "updated_at": "2019-09-22T21:01:13Z", "closed_at": "2019-09-22T21:01:10Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14896", "html_url": "https://github.com/matomo-org/matomo/pull/14896", "diff_url": "https://github.com/matomo-org/matomo/pull/14896.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14896.patch", "merged_at": "2019-09-22T21:01:10Z" }, "body": "refs https://github.com/matomo-org/matomo/issues/12963\r\nrefs https://forum.matomo.org/t/an-error-occurred/32500\r\n\r\nA session may be already started by some other platform when Matomo is embedded like this: https://developer.matomo.org/guides/querying-the-reporting-api", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14896/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14895", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14895/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14895/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14895/events", "html_url": "https://github.com/matomo-org/matomo/pull/14895", "id": 494296738, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE4MDc5NDc4", "number": 14895, "title": "Remove force-optimize-tables option from core:purge-old-archive-data", "user": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-16T21:57:06Z", "updated_at": "2019-10-25T02:52:36Z", "closed_at": "2019-09-16T22:39:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14895", "html_url": "https://github.com/matomo-org/matomo/pull/14895", "diff_url": "https://github.com/matomo-org/matomo/pull/14895.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14895.patch", "merged_at": "2019-09-16T22:39:26Z" }, "body": "Fixes #14498 ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14895/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14895/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14894", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14894/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14894/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14894/events", "html_url": "https://github.com/matomo-org/matomo/issues/14894", "id": 493834064, "node_id": "MDU6SXNzdWU0OTM4MzQwNjQ=", "number": 14894, "title": "Inconsistent reporting API result: \"nb_users\" reports vastly different results across the same date range when using different ?period=values", "user": { "login": "digihiveinc", "id": 17980436, "node_id": "MDQ6VXNlcjE3OTgwNDM2", "avatar_url": "https://avatars.githubusercontent.com/u/17980436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/digihiveinc", "html_url": "https://github.com/digihiveinc", "followers_url": "https://api.github.com/users/digihiveinc/followers", "following_url": "https://api.github.com/users/digihiveinc/following{/other_user}", "gists_url": "https://api.github.com/users/digihiveinc/gists{/gist_id}", "starred_url": "https://api.github.com/users/digihiveinc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/digihiveinc/subscriptions", "organizations_url": "https://api.github.com/users/digihiveinc/orgs", "repos_url": "https://api.github.com/users/digihiveinc/repos", "events_url": "https://api.github.com/users/digihiveinc/events{/privacy}", "received_events_url": "https://api.github.com/users/digihiveinc/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-16T03:50:46Z", "updated_at": "2019-10-27T20:30:23Z", "closed_at": "2019-09-16T04:49:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\n\r\nWhen using reporting API the nb_users value is inconsistent for the time range, when the ?period=values is different\r\n\r\nExample\r\n/index.php?date=2019-08-01,2019-08-31&period=month&idSite=*&filter_limit=-1&format=JSON&format_metrics=1&expanded=1&module=API&method=API.get\r\n\r\n\r\nwould give a different result in nb_value VS\r\n\r\n/index.php?date=2019-08-01,2019-08-31&period=day&idSite=*&filter_limit=-1&format=JSON&format_metrics=1&expanded=1&module=API&method=API.get\r\n\r\nIn my case the results were\r\ntotal of 10052 nb_users when calculated by month VS 20285 by day\r\n\r\nSame discrepancy happening across the different date range picks.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14894/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14894/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14893", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14893/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14893/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14893/events", "html_url": "https://github.com/matomo-org/matomo/issues/14893", "id": 493647821, "node_id": "MDU6SXNzdWU0OTM2NDc4MjE=", "number": 14893, "title": "Non expected referer_type", "user": { "login": "bobivass", "id": 52205387, "node_id": "MDQ6VXNlcjUyMjA1Mzg3", "avatar_url": "https://avatars.githubusercontent.com/u/52205387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobivass", "html_url": "https://github.com/bobivass", "followers_url": "https://api.github.com/users/bobivass/followers", "following_url": "https://api.github.com/users/bobivass/following{/other_user}", "gists_url": "https://api.github.com/users/bobivass/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobivass/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobivass/subscriptions", "organizations_url": "https://api.github.com/users/bobivass/orgs", "repos_url": "https://api.github.com/users/bobivass/repos", "events_url": "https://api.github.com/users/bobivass/events{/privacy}", "received_events_url": "https://api.github.com/users/bobivass/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 3, "created_at": "2019-09-14T17:40:26Z", "updated_at": "2019-10-27T20:30:23Z", "closed_at": "2019-09-15T10:03:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nIn Dashboard/Visits Overview I'm getting this error: `Non expected referer_type = 46 - in plugin Referrers`. Also, I'm getting the same error when I try to check Row Evolution of sites, search engines, etc.\r\nAny idea what could be the problem?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14893/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14891", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14891/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14891/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14891/events", "html_url": "https://github.com/matomo-org/matomo/issues/14891", "id": 492803359, "node_id": "MDU6SXNzdWU0OTI4MDMzNTk=", "number": 14891, "title": "Detect when a website uses WordPress, or Wix and link to our relevant guides", "user": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." }, { "id": 1412427421, "node_id": "MDU6TGFiZWwxNDEyNDI3NDIx", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Onboarding", "name": "c: Onboarding", "color": "adffd7", "default": false, "description": "For issues that make the experience of getting Matomo up and running better." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 3, "created_at": "2019-09-12T13:23:08Z", "updated_at": "2022-07-08T04:44:50Z", "closed_at": "2022-07-08T04:44:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When a website doesn't yet have data tracked in Matomo, then we could try and detect whether the website is using WordPress or Wix, and then based on this information we could show a special section which links to our guides (with maybe the WP or Wix logo), in the `No data has been recorded yet, get set up below` screen.\r\n\r\nThe guides we would like to include:\r\n* https://matomo.org/faq/new-to-piwik/how-do-i-install-the-matomo-tracking-code-on-wordpress/\r\n* https://matomo.org/faq/new-to-piwik/how-do-i-install-the-matomo-analytics-tracking-code-on-wix/\r\n* a few more will be created in the next few months", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14891/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14890", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14890/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14890/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14890/events", "html_url": "https://github.com/matomo-org/matomo/pull/14890", "id": 492456909, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE2NjI2NzIy", "number": 14890, "title": "Ensure all plugins are archived when range archiving is triggered by core:archive", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 3, "created_at": "2019-09-11T20:42:54Z", "updated_at": "2019-09-20T14:54:27Z", "closed_at": "2019-09-20T14:54:24Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14890", "html_url": "https://github.com/matomo-org/matomo/pull/14890", "diff_url": "https://github.com/matomo-org/matomo/pull/14890.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14890.patch", "merged_at": "2019-09-20T14:54:24Z" }, "body": "fixes #14889 ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14890/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14890/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14889", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14889/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14889/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14889/events", "html_url": "https://github.com/matomo-org/matomo/issues/14889", "id": 492393969, "node_id": "MDU6SXNzdWU0OTIzOTM5Njk=", "number": 14889, "title": "Range archives might not be fully processed by core:archive", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-11T18:21:48Z", "updated_at": "2019-10-27T20:30:23Z", "closed_at": "2019-09-20T14:54:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When archiving runs for a range like `last30` it's expected that all archives (for all plugins) are being processed. Currently it seems not all reports are being processed. For example all Event reports are not processed. \r\n\r\nSteps to reproduce:\r\n\r\n* Set up a matomo site containing some tracked events for the last 30 days.\r\n* Disable browser triggered archiving in UI or in config \r\n* set `[General] archiving_range_force_on_browser_request = 0` to disable automatic range archiving in normal requests\r\n* to ensure the range `last30` is archived, selected it as default for a user or add `[General] archiving_custom_ranges[] = last30` to config (last one only works with latest beta)\r\n* run `./console core:archive --force-idsites=1` and ensure something like this is in the output: \r\n```\r\nINFO [2019-09-11 13:38:32] 2049 Will pre-process for website id = 1, period = range, date = last30\r\nINFO [2019-09-11 13:38:32] 2049 - pre-processing all visits\r\nINFO [2019-09-11 13:38:41] 2049 Archived website id = 1, period = range, 0 segments, 1543 visits in last 30 ranges, 1543 visits this range, Time elapsed: 8.978s\r\n```\r\n* Open Matomo and look at the events reports or requests them using API. Result will be empty, but should actually contain the event data for the range. Other reports work as expected", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14889/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14889/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14888", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14888/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14888/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14888/events", "html_url": "https://github.com/matomo-org/matomo/pull/14888", "id": 492291584, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE2NDkyMzQ0", "number": 14888, "title": "revert readme badge URLs", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2019-09-11T14:56:30Z", "updated_at": "2019-09-11T20:29:24Z", "closed_at": "2019-09-11T20:29:21Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14888", "html_url": "https://github.com/matomo-org/matomo/pull/14888", "diff_url": "https://github.com/matomo-org/matomo/pull/14888.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14888.patch", "merged_at": "2019-09-11T20:29:21Z" }, "body": "related to https://github.com/matomo-org/matomo/pull/14627\r\nAs this service uses packagist where the name is still `piwik/piwik`, this can only be changed after Matomo 4", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14888/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14888/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14887", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14887/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14887/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14887/events", "html_url": "https://github.com/matomo-org/matomo/pull/14887", "id": 491997407, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE2MjU2NDEz", "number": 14887, "title": "Support alternative matomo bootstrap file", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-11T03:29:57Z", "updated_at": "2019-09-16T11:16:02Z", "closed_at": "2019-09-16T11:16:00Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14887", "html_url": "https://github.com/matomo-org/matomo/pull/14887", "diff_url": "https://github.com/matomo-org/matomo/pull/14887.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14887.patch", "merged_at": "2019-09-16T11:15:59Z" }, "body": "Currently, we allow to put a `bootstrap.php` file into the root directory of Matomo and then load it as first thing. This allows for example the configuration of a few things that are needed to be set BEFORE we load any config. Such as\r\n\r\n* PIWIK_USER_PATH constant\r\n* Usage of config cache\r\n* PIWIK_ENABLE_ERROR_HANDLER\r\n* PIWIK_PRINT_ERROR_BACKTRACE\r\n* $GLOBALS['PIWIK_TRACKER_DEBUG']\r\n* etc.\r\n\r\nThis works nicely. The problem is when you would like to use Matomo for example as a submodule, or install it through composer, etc... then having a file in Matomo directory doesn't do the trick and you need to have the bootstrap file outside the Matomo directory. \r\n\r\nThat's why I'm now looking for `../matomo_bootstrap.php`. It's not ideal cause what if the next person wants to have it at `../../../matomo_bootstrap.php` etc. Ideally there be an environment variable. However, the project I'm working on I cannot make use of environment variables. \r\n\r\nI will try to workaround it by putting all files into a new endpoint like `my_index.php` which then includes `matomo_bootstrap.php` and `matomo/index.php` for example but likely this won't work since Matomo will then not know the correct paths anymore... \r\n\r\nAlso we cannot look for `../bootstrap.php` btw since someone might actually use that file for a completely different project and we don't want to load any file by accident that does not belong to Matomo.\r\n\r\nUpdate: I couldn't find a workaround for this because otherwise Matomo gets completely confused with paths etc when embedding Matomo eg in a file `index.php` by doing like `matomo/index.php` and as I can't use environment variables or anything else will need this solution. Also I noticed that with such a solution we risk that Matomo thinks it is uninstalled and this be a security issue. An attacker could install Matomo using the attacker's DB credentials and this way get super user access which allows to install plugins etc. ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14887/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14887/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14886", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14886/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14886/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14886/events", "html_url": "https://github.com/matomo-org/matomo/pull/14886", "id": 491969777, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE2MjM1Mjk3", "number": 14886, "title": "Use \"if not exists\" when trying to create table", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 127937670, "node_id": "MDU6TGFiZWwxMjc5Mzc2NzA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Platform", "name": "c: Platform", "color": "bfe5bf", "default": false, "description": "For Matomo platform changes that aren't impacting any of our APIs but improve the core itself." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-11T01:23:59Z", "updated_at": "2019-10-25T04:25:01Z", "closed_at": "2019-09-11T07:43:42Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14886", "html_url": "https://github.com/matomo-org/matomo/pull/14886", "diff_url": "https://github.com/matomo-org/matomo/pull/14886.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14886.patch", "merged_at": "2019-09-11T07:43:42Z" }, "body": "This can avoid some error logs depending on the used database adapter etc. In theory we can then remove catching the error a few lines below but should be fine to keep it as well.\r\n\r\nIf not exists should be safe to use, was even supported in old versions: http://ftp.nchu.edu.tw/MySQL/doc/refman/4.1/en/create-table.html\r\n\r\nNot sure why it wasn't used right away. A comment in the code refers to https://github.com/piwik/piwik/issues/153 but looks like that ID wasn't 100% correctly migrated from the old trac. In any way, using if not exists should be fine... ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14886/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14886/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14885", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14885/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14885/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14885/events", "html_url": "https://github.com/matomo-org/matomo/pull/14885", "id": 491911117, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE2MTg4NTQx", "number": 14885, "title": "Show unique visitors metric only if available", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-10T21:37:39Z", "updated_at": "2019-09-11T20:38:43Z", "closed_at": "2019-09-11T20:38:40Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14885", "html_url": "https://github.com/matomo-org/matomo/pull/14885", "diff_url": "https://github.com/matomo-org/matomo/pull/14885.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14885.patch", "merged_at": "2019-09-11T20:38:40Z" }, "body": "fixes #14881", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14885/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14885/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14884", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14884/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14884/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14884/events", "html_url": "https://github.com/matomo-org/matomo/pull/14884", "id": 491908978, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE2MTg2ODI2", "number": 14884, "title": "Segment Editor: Add \"Test\" button which opens the Visits Log", "user": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370553, "node_id": "MDU6TGFiZWwxMTIzNzA1NTM=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Major", "name": "Major", "color": "eb6420", "default": false, "description": "Indicates the severity or impact or benefit of an issue is much higher than normal but not critical." }, { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 12, "created_at": "2019-09-10T21:31:54Z", "updated_at": "2019-10-25T03:52:17Z", "closed_at": "2019-10-07T01:20:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14884", "html_url": "https://github.com/matomo-org/matomo/pull/14884", "diff_url": "https://github.com/matomo-org/matomo/pull/14884.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14884.patch", "merged_at": "2019-10-07T01:20:00Z" }, "body": "Fixes #14745 ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14884/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14884/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14883", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14883/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14883/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14883/events", "html_url": "https://github.com/matomo-org/matomo/issues/14883", "id": 491798797, "node_id": "MDU6SXNzdWU0OTE3OTg3OTc=", "number": 14883, "title": "Update documentation for log_action table about hash and name", "user": { "login": "MichaelRoosz", "id": 609117, "node_id": "MDQ6VXNlcjYwOTExNw==", "avatar_url": "https://avatars.githubusercontent.com/u/609117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaelRoosz", "html_url": "https://github.com/MichaelRoosz", "followers_url": "https://api.github.com/users/MichaelRoosz/followers", "following_url": "https://api.github.com/users/MichaelRoosz/following{/other_user}", "gists_url": "https://api.github.com/users/MichaelRoosz/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaelRoosz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaelRoosz/subscriptions", "organizations_url": "https://api.github.com/users/MichaelRoosz/orgs", "repos_url": "https://api.github.com/users/MichaelRoosz/repos", "events_url": "https://api.github.com/users/MichaelRoosz/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaelRoosz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-10T17:16:17Z", "updated_at": "2019-10-27T20:30:57Z", "closed_at": "2019-09-10T20:28:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While doing some research on the log_action table, I discovered that the chance of a collision of a crc32 hash is pretty high:\r\n\r\nhttps://preshing.com/20110504/hash-collision-probabilities/ (see at the bottom \"Small Collision Probabilities\")\r\n\r\nIn my setup we have about 182 million rows in log_action which means the chance of a collision is already way higher than 1 out of 2 if I am not mistaken.\r\n\r\nSo it seems like it is important that sql queries always match on hash and name.\r\nMaybe this information should be added to the documentation somewhere (https://developer.matomo.org/guides/persistence-and-the-mysql-backend)\r\n\r\nMaybe it also makes sense to add some info about always querying for type, hash and name at the same time so that the index can be used.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14883/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14883/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14882", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14882/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14882/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14882/events", "html_url": "https://github.com/matomo-org/matomo/issues/14882", "id": 491780228, "node_id": "MDU6SXNzdWU0OTE3ODAyMjg=", "number": 14882, "title": "Reporting API returns invalid JSON when label has backslash character", "user": { "login": "walokra", "id": 43757, "node_id": "MDQ6VXNlcjQzNzU3", "avatar_url": "https://avatars.githubusercontent.com/u/43757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/walokra", "html_url": "https://github.com/walokra", "followers_url": "https://api.github.com/users/walokra/followers", "following_url": "https://api.github.com/users/walokra/following{/other_user}", "gists_url": "https://api.github.com/users/walokra/gists{/gist_id}", "starred_url": "https://api.github.com/users/walokra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/walokra/subscriptions", "organizations_url": "https://api.github.com/users/walokra/orgs", "repos_url": "https://api.github.com/users/walokra/repos", "events_url": "https://api.github.com/users/walokra/events{/privacy}", "received_events_url": "https://api.github.com/users/walokra/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 3, "created_at": "2019-09-10T16:33:46Z", "updated_at": "2019-09-11T20:26:02Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "When using Reporting API and i.a. Actions.getPageUrls report it returns JSON data which can be invalid if the label field has backslash. The backslash is correctly encoded to %5C in url and pageUrl elements but not in label. Matomo version 3.11.0.\r\n\r\ne.g.\r\n`{\"label\":\"\\/search?p=0&q=\\&sl=false\",\"nb_visits\":17,\"nb_hits\":17,\"sum_time_spent\":32,\"nb_hits_with_time_generation\":17,\"min_time_generation\":\"0.244\",\"max_time_generation\":\"0.549\",\"sum_daily_nb_uniq_visitors\":17,\"avg_time_on_page\":2,\"bounce_rate\":\"0%\",\"exit_rate\":\"0%\",\"avg_time_generation\":0.407,\"url\":\"https:\\/\\/example.com\\/search?p=0&q=%5C&sl=false\",\"segment\":\"pageUrl==https%3A%2F%2Fexample.com%search%3Fp%3D0%26q%3D%5C%26sl%3Dfalse\"}`", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14882/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14882/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14881", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14881/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14881/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14881/events", "html_url": "https://github.com/matomo-org/matomo/issues/14881", "id": 491702289, "node_id": "MDU6SXNzdWU0OTE3MDIyODk=", "number": 14881, "title": "Unique Visitors metric appear in Graph metric selector for periods for which the metric is disabled", "user": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 137043266, "node_id": "MDU6TGFiZWwxMzcwNDMyNjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Usability", "name": "c: Usability", "color": "bfe5bf", "default": false, "description": "For issues that let users achieve a defined goal more effectively or efficiently." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 4, "created_at": "2019-09-10T14:16:54Z", "updated_at": "2019-10-13T20:44:31Z", "closed_at": "2019-10-13T20:44:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Unique Visitors metric appear in Graph metric selector for periods for which the metric is disabled, causing confusion amongst users. And also many support requests to our team.\r\n\r\n--> When [Unique Visitors metric is disabled](https://matomo.org/faq/how-to/faq_113/) for the currently selected period, let's hide it from the evolution graph metric picker.\r\n\r\nThis is what it currently looks like (no data for Unique Visitors): \r\n![Screenshot from 2019-09-10 16-09-37](https://user-images.githubusercontent.com/466765/64621618-42502c00-d3e6-11e9-9b1b-1348de01dbc7.png)\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14881/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14881/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14880", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14880/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14880/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14880/events", "html_url": "https://github.com/matomo-org/matomo/issues/14880", "id": 491690568, "node_id": "MDU6SXNzdWU0OTE2OTA1Njg=", "number": 14880, "title": "Visits with a User-Agent specified in 'Website > Excluded User Agents' are sometimes still tracked", "user": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/130", "html_url": "https://github.com/matomo-org/matomo/milestone/130", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/130/labels", "id": 4873975, "node_id": "MDk6TWlsZXN0b25lNDg3Mzk3NQ==", "number": 130, "title": "3.13.1", "description": null, "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 103, "state": "closed", "created_at": "2019-11-25T02:16:54Z", "updated_at": "2020-01-21T03:49:28Z", "due_on": null, "closed_at": "2020-01-21T03:49:28Z" }, "comments": 0, "created_at": "2019-09-10T13:57:55Z", "updated_at": "2019-11-28T02:27:28Z", "closed_at": "2019-11-28T02:27:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Specifying User-agent to exclude for a website does not work.\r\nVisits with a User-Agent specified in 'Website > Excluded User Agents' are sometimes still tracked.\r\n\r\n### Reproduce\r\n\r\n* In Administration > Global websites settings > Global list of user agents to exclude, check that `Enable website specific user agent exclusion` is un-checked (this is the default)\r\n* Go to Administration > Websites > Edit\r\n* Under \"Excluded User Agents\", enter `iplabel` and click Save\r\n* Visit `matomo.php?idsite=1&rec=1&test&debug=1&ua=Mozilla/5.0 (X11; CrOS x86_64 8172.45.0 ;iplabel) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.64 Safari/537.36&debug=1` to generate a request with a user agent containing `iplabel`\r\n* Got: the visit is tracked. \r\n* Expected instead: visit excluded.\r\n\r\n### Bug origin\r\n\r\nOnce we click the checkbox `Enable website specific user agent exclusion.` under Administration > Global websites settings > Global list of user agents to exclude, then the User agent specified in the \"edit website\" works as expected and the visit is excluded.\r\n\r\n### Solutions \r\n\r\n* either remove that checkbox completely and always enable this feature \r\n* or leave the checkbox and hide the \"excluded user agent\" setting in the Website Edit screen. + also throw an exception in the API if the value is set on a website.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14880/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14879", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14879/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14879/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14879/events", "html_url": "https://github.com/matomo-org/matomo/issues/14879", "id": 491576397, "node_id": "MDU6SXNzdWU0OTE1NzYzOTc=", "number": 14879, "title": "Show segment title in row evolution / segmented visitor log popup", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 137043266, "node_id": "MDU6TGFiZWwxMzcwNDMyNjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Usability", "name": "c: Usability", "color": "bfe5bf", "default": false, "description": "For issues that let users achieve a defined goal more effectively or efficiently." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 3, "created_at": "2019-09-10T10:06:25Z", "updated_at": "2022-04-26T03:14:22Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "When a segment is selected or the popover is displaying data for a segment it would be useful if the segment was displayed in the modal title, for example:\r\n\r\n```\r\nRow Label - for visits in \"My Segment\"\r\n```\r\n\r\nor \r\n\r\n```\r\nShowing visitors for visits in \"My Segment\"\r\n```", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14879/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14879/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14878", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14878/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14878/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14878/events", "html_url": "https://github.com/matomo-org/matomo/issues/14878", "id": 491558410, "node_id": "MDU6SXNzdWU0OTE1NTg0MTA=", "number": 14878, "title": "Matomo behind a reverse proxy https --> http - issue with login page", "user": { "login": "comp-lsa", "id": 19731400, "node_id": "MDQ6VXNlcjE5NzMxNDAw", "avatar_url": "https://avatars.githubusercontent.com/u/19731400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comp-lsa", "html_url": "https://github.com/comp-lsa", "followers_url": "https://api.github.com/users/comp-lsa/followers", "following_url": "https://api.github.com/users/comp-lsa/following{/other_user}", "gists_url": "https://api.github.com/users/comp-lsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/comp-lsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comp-lsa/subscriptions", "organizations_url": "https://api.github.com/users/comp-lsa/orgs", "repos_url": "https://api.github.com/users/comp-lsa/repos", "events_url": "https://api.github.com/users/comp-lsa/events{/privacy}", "received_events_url": "https://api.github.com/users/comp-lsa/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-10T09:32:10Z", "updated_at": "2019-10-27T20:30:56Z", "closed_at": "2019-09-10T21:35:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nWe are using Matomo (version 3.9.1) behind a reverse proxy https --> http.\r\nThe reverse proxy is not managed by us but it seems to be configured correctly.\r\nWe have an issue with the login page. We use the reverse proxy mapping address and after entering the login & password we have the error cant reach this page because it tries to go in https to our backend server. Simply making back redirects us to the https address of the reverse proxy and we are connected, we can then work normally  Matomo works, visits are tracked, we have access to the administration  but we would like to get rid of this issue \r\nWe have configured matomo according to the article: How do I configure Piwik when the server is installed behind a proxy? FAQ - Analytics Platform - Matomo\r\nThe reverse proxy administrators ensure us they have correctly setup the mapping and redirections from https to http, and they assume somewhere in matomo the server address with https is hardcoded for the login actions.\r\nCould you please advice on this issue ?\r\nThanks in advance.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14878/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14878/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14877", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14877/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14877/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14877/events", "html_url": "https://github.com/matomo-org/matomo/pull/14877", "id": 491446491, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE1ODExNjY4", "number": 14877, "title": "Let plugins hook and listen into http requests", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 127937670, "node_id": "MDU6TGFiZWwxMjc5Mzc2NzA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Platform", "name": "c: Platform", "color": "bfe5bf", "default": false, "description": "For Matomo platform changes that aren't impacting any of our APIs but improve the core itself." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-10T04:42:07Z", "updated_at": "2019-10-25T04:24:56Z", "closed_at": "2019-09-17T20:20:27Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14877", "html_url": "https://github.com/matomo-org/matomo/pull/14877", "diff_url": "https://github.com/matomo-org/matomo/pull/14877.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14877.patch", "merged_at": "2019-09-17T20:20:27Z" }, "body": "See event description. Plugins can find out when http requests are done, can resolve them themselves, etc.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14877/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14877/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14876", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14876/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14876/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14876/events", "html_url": "https://github.com/matomo-org/matomo/pull/14876", "id": 491409231, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE1NzgyNzE4", "number": 14876, "title": "Allow custom DB adapter in tracker mode", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 127937670, "node_id": "MDU6TGFiZWwxMjc5Mzc2NzA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Platform", "name": "c: Platform", "color": "bfe5bf", "default": false, "description": "For Matomo platform changes that aren't impacting any of our APIs but improve the core itself." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-10T02:02:51Z", "updated_at": "2019-10-25T04:24:44Z", "closed_at": "2019-09-17T20:36:38Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14876", "html_url": "https://github.com/matomo-org/matomo/pull/14876", "diff_url": "https://github.com/matomo-org/matomo/pull/14876.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14876.patch", "merged_at": "2019-09-17T20:36:38Z" }, "body": "In regular mode we already use the above logic see https://github.com/matomo-org/matomo/blob/3.x-dev/core/Db/Adapter.php#L68-L74\r\n\r\nThis means in regular mode any plugin can already define a custom adapter and configure it. This was not working in tracking mode where the two PDO and MySQLI modes were hard coded. This was likely because back in the days we weren't using auto loading in tracker mode which we are doing now already for many years.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14876/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14875", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14875/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14875/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14875/events", "html_url": "https://github.com/matomo-org/matomo/pull/14875", "id": 491270699, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE1NjcxNTY4", "number": 14875, "title": "remove Zend Config", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2019-09-09T19:03:23Z", "updated_at": "2020-02-10T13:02:46Z", "closed_at": "2019-09-10T00:16:28Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14875", "html_url": "https://github.com/matomo-org/matomo/pull/14875", "diff_url": "https://github.com/matomo-org/matomo/pull/14875.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14875.patch", "merged_at": "2019-09-10T00:16:28Z" }, "body": "I think (and PHPstorm tends to agree) that this code isn't used. It seems to consist of old PHP code that implements things that are already done differently in Matomo and uses deprecated PHP features like `each()`.\r\n\r\nThe tests will show if this is really unused.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14875/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14875/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14874", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14874/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14874/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14874/events", "html_url": "https://github.com/matomo-org/matomo/issues/14874", "id": 491222055, "node_id": "MDU6SXNzdWU0OTEyMjIwNTU=", "number": 14874, "title": "Composer install fails: required package matomo-org/jshrink does not exist", "user": { "login": "creativecoder", "id": 1699996, "node_id": "MDQ6VXNlcjE2OTk5OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1699996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/creativecoder", "html_url": "https://github.com/creativecoder", "followers_url": "https://api.github.com/users/creativecoder/followers", "following_url": "https://api.github.com/users/creativecoder/following{/other_user}", "gists_url": "https://api.github.com/users/creativecoder/gists{/gist_id}", "starred_url": "https://api.github.com/users/creativecoder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/creativecoder/subscriptions", "organizations_url": "https://api.github.com/users/creativecoder/orgs", "repos_url": "https://api.github.com/users/creativecoder/repos", "events_url": "https://api.github.com/users/creativecoder/events{/privacy}", "received_events_url": "https://api.github.com/users/creativecoder/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 6, "created_at": "2019-09-09T17:17:38Z", "updated_at": "2021-07-01T08:26:34Z", "closed_at": "2019-09-09T17:51:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I maintain a composer managed install of Matomo. For several releases now I've been unable to update Matomo because it's composer.json file requires a package that does not exist in packagist: `matomo-org/jshrink`.\r\n\r\nWhen running `composer require piwik/piwik:3.11.0`, I get this output\r\n\r\n```\r\nProblem 1\r\n - Installation request for piwik/piwik 3.11.0 -> satisfiable by piwik/piwik[3.11.0].\r\n - piwik/piwik 3.11.0 requires matomo-org/jshrink 1.3.1 -> no matching package found.\r\n\r\nPotential causes:\r\n - A typo in the package name\r\n - The package is not available in a stable-enough version according to your minimum-stability setting\r\n see <https://getcomposer.org/doc/04-schema.md#minimum-stability> for more details.\r\n - It's a private package and you forgot to add a custom repository to find it\r\n\r\nRead <https://getcomposer.org/doc/articles/troubleshooting.md> for further common problems.\r\n```", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14874/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14874/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14873", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14873/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14873/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14873/events", "html_url": "https://github.com/matomo-org/matomo/pull/14873", "id": 491159241, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE1NTgyNTUw", "number": 14873, "title": "fix magic quotes deprecation warning", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2019-09-09T15:13:45Z", "updated_at": "2020-02-10T13:02:47Z", "closed_at": "2019-09-10T00:17:03Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14873", "html_url": "https://github.com/matomo-org/matomo/pull/14873", "diff_url": "https://github.com/matomo-org/matomo/pull/14873.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14873.patch", "merged_at": "2019-09-10T00:17:03Z" }, "body": "reported in https://forum.matomo.org/t/quickform2-php-109-deprecated-function-get-magic-quotes-gpc-is-deprecated/34121\r\nrelated to https://github.com/matomo-org/matomo/issues/6339\r\nrelated to https://github.com/matomo-org/matomo/issues/14821 (deprecation warning is new in 7.4)\r\n\r\n`get_magic_quotes_gpc()` seems to return if magic quotes are enabled. As it has been removed with PHP 5.4 it can be simply replaced with a hardcoded `False`.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14873/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14873/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14872", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14872/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14872/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14872/events", "html_url": "https://github.com/matomo-org/matomo/issues/14872", "id": 490997330, "node_id": "MDU6SXNzdWU0OTA5OTczMzA=", "number": 14872, "title": "Inconsistent Event Total", "user": { "login": "rjxp", "id": 40763587, "node_id": "MDQ6VXNlcjQwNzYzNTg3", "avatar_url": "https://avatars.githubusercontent.com/u/40763587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rjxp", "html_url": "https://github.com/rjxp", "followers_url": "https://api.github.com/users/rjxp/followers", "following_url": "https://api.github.com/users/rjxp/following{/other_user}", "gists_url": "https://api.github.com/users/rjxp/gists{/gist_id}", "starred_url": "https://api.github.com/users/rjxp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rjxp/subscriptions", "organizations_url": "https://api.github.com/users/rjxp/orgs", "repos_url": "https://api.github.com/users/rjxp/repos", "events_url": "https://api.github.com/users/rjxp/events{/privacy}", "received_events_url": "https://api.github.com/users/rjxp/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-09T09:55:12Z", "updated_at": "2019-10-27T20:30:56Z", "closed_at": "2019-09-10T00:21:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have an inconsistency in the presentation of events: For the period 2019-06-04 to 2019-06-14 (range1), the graphical interface outputs 908,740 events for an event. If I increase the period to 2019-06-02 to 2019-06-14 (range2), I get 425.874 (with otherwise the same settings for area and segments). See screenshots range1.png and range2.png:\r\n\r\n![range1](https://user-images.githubusercontent.com/40763587/64521726-d17f1600-d2f8-11e9-97e4-5e3e8329ddd9.png)\r\n\r\n![range2](https://user-images.githubusercontent.com/40763587/64521770-e3f94f80-d2f8-11e9-8d82-84776b57386a.png)\r\n\r\nIf I export the data of the time series, I get the correct sum for the first/shorter period (range1) by adding the fields nb_events. For the second period (range2) I get 1,085,064 > 908,740 > 425,874, whereas the dataset for day 2019-06-02 is completely missing. The numbers in the export also match the values you get in the user interface of the time series when hovering over the corresponding day, where the graph for 2019-06-02 drops to zero.\r\n\r\nConfidence in Matomo's numbers thus decreases enormously. Actually, I always have to validate the overview values against the export data, which would be very unwieldy. Is there a possibility to check my database against further inconsistencies of this kind?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14872/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14872/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14871", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14871/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14871/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14871/events", "html_url": "https://github.com/matomo-org/matomo/issues/14871", "id": 490850025, "node_id": "MDU6SXNzdWU0OTA4NTAwMjU=", "number": 14871, "title": "[Visitor Map]Indonesia is not visible in Asia Map", "user": { "login": "PoorWei", "id": 54881568, "node_id": "MDQ6VXNlcjU0ODgxNTY4", "avatar_url": "https://avatars.githubusercontent.com/u/54881568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PoorWei", "html_url": "https://github.com/PoorWei", "followers_url": "https://api.github.com/users/PoorWei/followers", "following_url": "https://api.github.com/users/PoorWei/following{/other_user}", "gists_url": "https://api.github.com/users/PoorWei/gists{/gist_id}", "starred_url": "https://api.github.com/users/PoorWei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PoorWei/subscriptions", "organizations_url": "https://api.github.com/users/PoorWei/orgs", "repos_url": "https://api.github.com/users/PoorWei/repos", "events_url": "https://api.github.com/users/PoorWei/events{/privacy}", "received_events_url": "https://api.github.com/users/PoorWei/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 2, "created_at": "2019-09-09T02:45:30Z", "updated_at": "2022-06-07T13:26:11Z", "closed_at": "2022-06-07T13:26:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "When Clicking Indonesia in World-wide map, it change to Asia map(Yes, geographically true).\r\nHowever Indonesia is visible in Oceania map instead of Asia map\r\nIt's understandable Asia map is too large to display, but it would be better if this can **change to Oceania map after click Indonesia in World-wide map**\r\n\r\nOtherwise user may take time to find the way checking Indonesia's data(by selecting Oceania countries or Indonesia through the drop list)\r\n\r\n![image](https://user-images.githubusercontent.com/54881568/64500144-97107b80-d2ee-11e9-9a5f-da5e10171f9a.png)\r\n![image](https://user-images.githubusercontent.com/54881568/64499864-624ff480-d2ed-11e9-8d66-73ddac04d696.png)\r\n![image](https://user-images.githubusercontent.com/54881568/64499884-73990100-d2ed-11e9-9729-5161507acbdf.png)\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14871/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14870", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14870/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14870/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14870/events", "html_url": "https://github.com/matomo-org/matomo/pull/14870", "id": 490810024, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE1MzEwMjEw", "number": 14870, "title": "Make it easier to search help resources from within Matomo", "user": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-08T21:42:34Z", "updated_at": "2019-10-25T02:52:36Z", "closed_at": "2019-09-18T22:00:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14870", "html_url": "https://github.com/matomo-org/matomo/pull/14870", "diff_url": "https://github.com/matomo-org/matomo/pull/14870.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14870.patch", "merged_at": "2019-09-18T22:00:10Z" }, "body": "Fixes #14626 ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14870/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14870/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14869", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14869/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14869/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14869/events", "html_url": "https://github.com/matomo-org/matomo/pull/14869", "id": 490809964, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE1MzEwMTY4", "number": 14869, "title": "Stop urlencoding dashboard names before sending to API", "user": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-08T21:41:51Z", "updated_at": "2020-03-10T18:28:12Z", "closed_at": "2019-09-10T21:49:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14869", "html_url": "https://github.com/matomo-org/matomo/pull/14869", "diff_url": "https://github.com/matomo-org/matomo/pull/14869.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14869.patch", "merged_at": "2019-09-10T21:49:19Z" }, "body": "When sent as plain text, the dashboard names are passed through `htmlspecialchars` before they are written to the DB, so they can still be used in their raw form in the UI.\r\nFixes #14820 \r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14869/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14868", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14868/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14868/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14868/events", "html_url": "https://github.com/matomo-org/matomo/pull/14868", "id": 490809734, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE1MzEwMDAy", "number": 14868, "title": "Rename Generic widget to KPI Metric", "user": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-08T21:39:46Z", "updated_at": "2019-10-25T02:52:35Z", "closed_at": "2019-09-26T03:45:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14868", "html_url": "https://github.com/matomo-org/matomo/pull/14868", "diff_url": "https://github.com/matomo-org/matomo/pull/14868.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14868.patch", "merged_at": "2019-09-26T03:45:49Z" }, "body": "Fixes #14612 ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14868/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14868/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14867", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14867/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14867/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14867/events", "html_url": "https://github.com/matomo-org/matomo/pull/14867", "id": 490728822, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE1MjU3NTE4", "number": 14867, "title": "update twig to latest version", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-08T08:55:03Z", "updated_at": "2020-02-10T13:02:48Z", "closed_at": "2019-09-09T09:37:31Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14867", "html_url": "https://github.com/matomo-org/matomo/pull/14867", "diff_url": "https://github.com/matomo-org/matomo/pull/14867.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14867.patch", "merged_at": "2019-09-09T09:37:31Z" }, "body": "This fixes the most important issue in PHP 7.4 (see https://github.com/matomo-org/matomo/issues/14821). All other issues at most cause warnings or break single features in Matomo, but this makes Matomo completely unusable.\r\n\r\nAs I am not sure when the next Matomo release will come out and as people might start using PHP 7.4 when it comes out in end of November, I'd fix this one for 3.12.\r\n\r\nIf you update all composer dependencies as in #14260 then this PR can be closed.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14867/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14866", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14866/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14866/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14866/events", "html_url": "https://github.com/matomo-org/matomo/pull/14866", "id": 490670179, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE1MjE4NDAx", "number": 14866, "title": "Fix user path was not working as it should (allow placing config file outside webroot)", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 3, "created_at": "2019-09-07T19:11:19Z", "updated_at": "2019-11-03T11:30:57Z", "closed_at": "2019-09-17T20:35:23Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14866", "html_url": "https://github.com/matomo-org/matomo/pull/14866", "diff_url": "https://github.com/matomo-org/matomo/pull/14866.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14866.patch", "merged_at": "2019-09-17T20:35:23Z" }, "body": "fix https://github.com/matomo-org/matomo/issues/13037\r\n\r\nAs user described in the issue the user path behaviour didn't quite make sense. For example in an update we copied over `config/global.php` and `config/global.ini.php` to the user path. This may fail though due to write permission and is generally not needed cause the only files it should load from there is `config/config.php` and `config/config.ini.php` and `config/common.config.ini.php`. \r\n\r\nThis makes things a lot simpler and now there is an easy way to put the config file outside Matomo webroot.\r\n\r\nShould probably also create an FAQ for this afterwards.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14866/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14864", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14864/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14864/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14864/events", "html_url": "https://github.com/matomo-org/matomo/issues/14864", "id": 490293208, "node_id": "MDU6SXNzdWU0OTAyOTMyMDg=", "number": 14864, "title": "Bug: execution of php files stalls if database DNS resolves to an non-existing IP", "user": { "login": "toredash", "id": 312038, "node_id": "MDQ6VXNlcjMxMjAzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/312038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toredash", "html_url": "https://github.com/toredash", "followers_url": "https://api.github.com/users/toredash/followers", "following_url": "https://api.github.com/users/toredash/following{/other_user}", "gists_url": "https://api.github.com/users/toredash/gists{/gist_id}", "starred_url": "https://api.github.com/users/toredash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toredash/subscriptions", "organizations_url": "https://api.github.com/users/toredash/orgs", "repos_url": "https://api.github.com/users/toredash/repos", "events_url": "https://api.github.com/users/toredash/events{/privacy}", "received_events_url": "https://api.github.com/users/toredash/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-06T12:10:46Z", "updated_at": "2019-10-27T20:30:56Z", "closed_at": "2019-09-10T23:37:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nRunning Matomo 3.11 / Nginx 1.16 / PHP 7.3.9 and ran into an issue where parsing of PHP files related to matomo stall completely.\r\n\r\nOur database got migrated to from one AWS RDS Serverless instance to another. When the migration was done, the existing database was turned off. After this, the DNS name for the turned of database still resolve to an IP address, but nothing responds.\r\n\r\nThe issue was discovered when matomo was restarted, requests for index.php would then time out on the client-side. Increase of log level in nginx and php-fpm didn't indicate anything, other than that the client terminated the connection.\r\n\r\nRequesting php files that isn't part of matomo worked fine, and issues requests for php-fpm internal /ping and /status command worked as expected as well.\r\n\r\nWe also tried to decrease php_admin_value[max_execution_time] to 5 seconds, but the request for e.g. index.php never times out on the server side, and the client will in the end terminate the request, which is logged in php-fpm as client initiated closure.\r\n\r\nChanging the DNS hostname to our next database, resolved the issue. It was extremely hard to debug since there was no logs or outputs that would indicate what could be wrong.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14864/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14864/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14862", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14862/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14862/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14862/events", "html_url": "https://github.com/matomo-org/matomo/issues/14862", "id": 489929524, "node_id": "MDU6SXNzdWU0ODk5Mjk1MjQ=", "number": 14862, "title": "[Question] pre-inject customizable config.ini.php prior to setup and still continue the setup process", "user": { "login": "Bulletninja", "id": 71659, "node_id": "MDQ6VXNlcjcxNjU5", "avatar_url": "https://avatars.githubusercontent.com/u/71659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bulletninja", "html_url": "https://github.com/Bulletninja", "followers_url": "https://api.github.com/users/Bulletninja/followers", "following_url": "https://api.github.com/users/Bulletninja/following{/other_user}", "gists_url": "https://api.github.com/users/Bulletninja/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bulletninja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bulletninja/subscriptions", "organizations_url": "https://api.github.com/users/Bulletninja/orgs", "repos_url": "https://api.github.com/users/Bulletninja/repos", "events_url": "https://api.github.com/users/Bulletninja/events{/privacy}", "received_events_url": "https://api.github.com/users/Bulletninja/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 2, "created_at": "2019-09-05T18:31:37Z", "updated_at": "2019-10-27T20:30:56Z", "closed_at": "2019-09-05T20:04:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a standard way to inject some config.ini.php without ruining the setup process?\r\nI'm guessing `bootstrap.php` is the right place. But i'm not sure how to approach this. My idea is to read some environment variables from `bootstrap.php` and determine if i need some config from the get go, like say:\r\n```\r\nproxy_client_headers[] = HTTP_X_FORWARDED_FOR\r\nproxy_host_headers[] = HTTP_X_FORWARDED_HOST\r\n```\r\nthen be able to initialize `config.ini.php` with that. And then continue with the normal setup process. Is this possible? Does this make sense? Or is there a different (recommended) approach for this sort of thing?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14862/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14862/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14861", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14861/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14861/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14861/events", "html_url": "https://github.com/matomo-org/matomo/pull/14861", "id": 489758445, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE0NTA3NTE0", "number": 14861, "title": "[automatic translation update] Updated 554 strings in 13 languages (es-ar, pt-br, ru, de, nl, pt, cs, da, el, it, ja, sq, tr)", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-05T13:32:27Z", "updated_at": "2019-09-05T13:33:03Z", "closed_at": "2019-09-05T13:32:59Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14861", "html_url": "https://github.com/matomo-org/matomo/pull/14861", "diff_url": "https://github.com/matomo-org/matomo/pull/14861.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14861.patch", "merged_at": "2019-09-05T13:32:59Z" }, "body": "- Updated Spanish (Argentina) (125 changes / 73% translated)\n- Updated Brazilian Portuguese (112 changes / 84% translated)\n- Updated Russian (118 changes / 81% translated)\n- Updated German (20 changes / 99% translated)\n- Updated Dutch (37 changes / 85% translated)\n- Updated Portuguese (73 changes / 97% translated)\n- Updated Czech (5 changes / 76% translated)\n- Updated Danish (1 changes / 78% translated)\n- Updated Greek (13 changes / 99% translated)\n- Updated Italian (16 changes / 99% translated)\n- Updated Japanese (7 changes / 98% translated)\n- Updated Albanian (14 changes / 99% translated)\n- Updated Turkish (13 changes / 99% translated)\n\n\nHelp us translate Matomo in your language!\nSignup at https://www.transifex.com/matomo/matomo/\nIf you have any questions, get in touch with us at translations@matomo.org", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14861/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14861/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14860", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14860/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14860/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14860/events", "html_url": "https://github.com/matomo-org/matomo/pull/14860", "id": 489486378, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE0Mjk0MjE0", "number": 14860, "title": "Update shown logo in the app", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 4, "created_at": "2019-09-05T01:56:22Z", "updated_at": "2019-09-13T05:39:26Z", "closed_at": "2019-09-13T05:39:24Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14860", "html_url": "https://github.com/matomo-org/matomo/pull/14860", "diff_url": "https://github.com/matomo-org/matomo/pull/14860.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14860.patch", "merged_at": "2019-09-13T05:39:24Z" }, "body": "fix https://github.com/matomo-org/matomo/issues/14795", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14860/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14860/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14859", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14859/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14859/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14859/events", "html_url": "https://github.com/matomo-org/matomo/pull/14859", "id": 489472372, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE0MjgzNzM3", "number": 14859, "title": "Smaller varchar size for log_action.name", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 10, "created_at": "2019-09-05T00:49:56Z", "updated_at": "2020-09-29T03:14:29Z", "closed_at": "2019-10-09T21:36:20Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14859", "html_url": "https://github.com/matomo-org/matomo/pull/14859", "diff_url": "https://github.com/matomo-org/matomo/pull/14859.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14859.patch", "merged_at": "2019-10-09T21:36:20Z" }, "body": "Follow up from https://github.com/matomo-org/matomo/pull/14848 refs https://github.com/matomo-org/matomo/issues/14535\r\n\r\nWhen I tried to apply this change locally, I got this error\r\n\r\n```\r\nAn error occurred when trying to change the field 'name' via\r\n\r\nALTER TABLE `log_action` CHANGE `name` `name` VARCHAR(65000)\r\n CHARACTER SET utf8\r\n COLLATE utf8_general_ci\r\n NULL\r\n DEFAULT ''\r\n\r\nMySQL said: Column length too big for column 'name' (max = 21845); use BLOB or TEXT instead\r\n```\r\n\r\nIt seems the column length is too big. \r\n\r\nFor `log_conversion.url` even only `varchar(16000)` works since there are so many more columns. I reckon it might be best to leave it as `text`. It be not good to have different lengths of url fields and not sure if by using `varchar(16000)` on `log_conversion` we might prevent in the future our chances of adding more columns...\r\n\r\nfyi @mattab ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14859/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14858", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14858/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14858/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14858/events", "html_url": "https://github.com/matomo-org/matomo/pull/14858", "id": 489436225, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE0MjU1MDUw", "number": 14858, "title": "New INI setting live_query_max_execution_time to allow configuration of max execution time", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 3, "created_at": "2019-09-04T22:35:39Z", "updated_at": "2021-01-04T11:06:10Z", "closed_at": "2019-09-11T07:42:27Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14858", "html_url": "https://github.com/matomo-org/matomo/pull/14858", "diff_url": "https://github.com/matomo-org/matomo/pull/14858.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14858.patch", "merged_at": "2019-09-11T07:42:27Z" }, "body": "cc @mattab \r\n\r\nUsers can now optionally configure a max_execution_time for live queries to prevent a live query from running for a very long time eg when looking at a year with a segment that doesn't find any visitors.\r\n\r\nAdded as many tests as I could. Noticed the MySQL version on Travis doesn't support this feature yet otherwise could have tested it there further.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14858/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14858/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14857", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14857/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14857/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14857/events", "html_url": "https://github.com/matomo-org/matomo/pull/14857", "id": 489403697, "node_id": "MDExOlB1bGxSZXF1ZXN0MzE0MjMyODg0", "number": 14857, "title": "Tweak behaviour of orphaned segment archive purge", "user": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 2, "created_at": "2019-09-04T21:18:55Z", "updated_at": "2019-10-25T02:22:55Z", "closed_at": "2019-09-16T20:50:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14857", "html_url": "https://github.com/matomo-org/matomo/pull/14857", "diff_url": "https://github.com/matomo-org/matomo/pull/14857.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14857.patch", "merged_at": "2019-09-16T20:50:04Z" }, "body": "Fixes #14828 ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14857/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14856", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14856/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14856/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14856/events", "html_url": "https://github.com/matomo-org/matomo/pull/14856", "id": 489103134, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzOTg4Nzkx", "number": 14856, "title": "Make it possible to force archiving for custom date ranges", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2019-09-04T11:29:36Z", "updated_at": "2019-10-25T04:24:07Z", "closed_at": "2019-09-05T20:11:25Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14856", "html_url": "https://github.com/matomo-org/matomo/pull/14856", "diff_url": "https://github.com/matomo-org/matomo/pull/14856.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14856.patch", "merged_at": "2019-09-05T20:11:25Z" }, "body": "In some cases it might be very useful to be able to define custom date ranges to be archived by `core:archive`. E.g. if someone always wants to get the last 10 days stats via api, there is currently no way to get that pre-archived.\r\n\r\nThe new config option would make it possible to define any range that is valid to be preprocessed", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14856/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14856/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14855", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14855/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14855/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14855/events", "html_url": "https://github.com/matomo-org/matomo/issues/14855", "id": 489061145, "node_id": "MDU6SXNzdWU0ODkwNjExNDU=", "number": 14855, "title": "CSV files generated via Email reports contain gibberish chars instead of Hebrew chars", "user": { "login": "ohadm2", "id": 13061670, "node_id": "MDQ6VXNlcjEzMDYxNjcw", "avatar_url": "https://avatars.githubusercontent.com/u/13061670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohadm2", "html_url": "https://github.com/ohadm2", "followers_url": "https://api.github.com/users/ohadm2/followers", "following_url": "https://api.github.com/users/ohadm2/following{/other_user}", "gists_url": "https://api.github.com/users/ohadm2/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohadm2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohadm2/subscriptions", "organizations_url": "https://api.github.com/users/ohadm2/orgs", "repos_url": "https://api.github.com/users/ohadm2/repos", "events_url": "https://api.github.com/users/ohadm2/events{/privacy}", "received_events_url": "https://api.github.com/users/ohadm2/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2019-09-04T09:57:30Z", "updated_at": "2020-01-21T05:00:06Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Hi.\r\n\r\nWe have a Hebrew encoding problem when issuing an Email report with a CSV file.\r\nThe CSV has gibberish letters instead of Hebrew letters.\r\n\r\nHOWEVER - please notice that exporting a CSV file using the UI (e.g. exporting visits report), creates a CSV file with valid Hebrew chars just fine ...\r\n\r\nA Picture of the problem is included.\r\n\r\n![no-hebrew-in-csv](https://user-images.githubusercontent.com/13061670/64245364-75407e80-cf13-11e9-9b36-062bc8310ce5.PNG)\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14855/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14854", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14854/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14854/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14854/events", "html_url": "https://github.com/matomo-org/matomo/pull/14854", "id": 489040370, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzOTM3NDQx", "number": 14854, "title": "Makes flushSpools public available", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-04T09:17:07Z", "updated_at": "2019-09-04T22:58:25Z", "closed_at": "2019-09-04T22:58:21Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14854", "html_url": "https://github.com/matomo-org/matomo/pull/14854", "diff_url": "https://github.com/matomo-org/matomo/pull/14854.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14854.patch", "merged_at": "2019-09-04T22:58:21Z" }, "body": "Required for some plugins to add historical archives until #11974 is implemented", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14854/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14853", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14853/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14853/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14853/events", "html_url": "https://github.com/matomo-org/matomo/pull/14853", "id": 489038382, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzOTM1OTMx", "number": 14853, "title": "Show detected bots in device detection", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-04T09:13:24Z", "updated_at": "2019-09-04T22:58:11Z", "closed_at": "2019-09-04T22:58:06Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14853", "html_url": "https://github.com/matomo-org/matomo/pull/14853", "diff_url": "https://github.com/matomo-org/matomo/pull/14853.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14853.patch", "merged_at": "2019-09-04T22:58:06Z" }, "body": "fixes #14851", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14853/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14853/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14852", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14852/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14852/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14852/events", "html_url": "https://github.com/matomo-org/matomo/pull/14852", "id": 489027976, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzOTI3NTcz", "number": 14852, "title": "Fix percentage calculation on world map", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-04T08:52:47Z", "updated_at": "2019-09-21T01:03:51Z", "closed_at": "2019-09-21T01:03:48Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14852", "html_url": "https://github.com/matomo-org/matomo/pull/14852", "diff_url": "https://github.com/matomo-org/matomo/pull/14852.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14852.patch", "merged_at": "2019-09-21T01:03:47Z" }, "body": "fixes #14849", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14852/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14852/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14851", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14851/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14851/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14851/events", "html_url": "https://github.com/matomo-org/matomo/issues/14851", "id": 489000274, "node_id": "MDU6SXNzdWU0ODkwMDAyNzQ=", "number": 14851, "title": "Device Detection tool in Diagnostic doesn't show a user-agent is detected as bot", "user": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-04T07:54:03Z", "updated_at": "2019-10-25T02:52:35Z", "closed_at": "2019-09-04T22:58:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Reproduced in Matomo > Administration > Diagnostic > Device Detection. \r\n\r\nfor example for the user agent `Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36 Robot_Framework`\r\n\r\nIt shows Unknown:\r\n![Screenshot from 2019-09-04 09-46-37](https://user-images.githubusercontent.com/466765/64236020-d9564900-cef9-11e9-804a-2a371dbc7464.png)\r\n\r\n\r\n\r\nBut we expected it to show as Bots like on http://devicedetector.net/:\r\n![Screenshot from 2019-09-04 09-46-44](https://user-images.githubusercontent.com/466765/64236021-d9564900-cef9-11e9-9af6-cfb2fcb9367c.png)\r\n\r\nCould we show a clear message like `This User-Agent is detected as a generic Bot. Visits with this user agent will not be tracked in Matomo.`.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14851/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14851/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14850", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14850/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14850/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14850/events", "html_url": "https://github.com/matomo-org/matomo/pull/14850", "id": 488860042, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzNzk1Njky", "number": 14850, "title": "fix build failing tracker request test", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-03T22:53:18Z", "updated_at": "2019-09-03T23:26:16Z", "closed_at": "2019-09-03T23:26:13Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14850", "html_url": "https://github.com/matomo-org/matomo/pull/14850", "diff_url": "https://github.com/matomo-org/matomo/pull/14850.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14850.patch", "merged_at": "2019-09-03T23:26:13Z" }, "body": "", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14850/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14850/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14849", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14849/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14849/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14849/events", "html_url": "https://github.com/matomo-org/matomo/issues/14849", "id": 488486522, "node_id": "MDU6SXNzdWU0ODg0ODY1MjI=", "number": 14849, "title": "Wrong percentage on Visitors Location page", "user": { "login": "hedii", "id": 5358048, "node_id": "MDQ6VXNlcjUzNTgwNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5358048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hedii", "html_url": "https://github.com/hedii", "followers_url": "https://api.github.com/users/hedii/followers", "following_url": "https://api.github.com/users/hedii/following{/other_user}", "gists_url": "https://api.github.com/users/hedii/gists{/gist_id}", "starred_url": "https://api.github.com/users/hedii/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hedii/subscriptions", "organizations_url": "https://api.github.com/users/hedii/orgs", "repos_url": "https://api.github.com/users/hedii/repos", "events_url": "https://api.github.com/users/hedii/events{/privacy}", "received_events_url": "https://api.github.com/users/hedii/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 10, "created_at": "2019-09-03T09:15:29Z", "updated_at": "2019-10-27T20:30:55Z", "closed_at": "2019-09-21T01:03:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, there is a diff in unique visitors percent stat on the Visitors Location page (`/index.php?module=CoreHome&action=index&idSite=1&period=day&date=yesterday#?idSite=1&period=day&date=yesterday&category=General_Visitors&subcategory=UserCountry_SubmenuLocations`) between the Country map widget and the Country table widget.\r\n\r\nSee the pictures below (19,7% for France on the map, 23,9% for France on the table, both for the same unique visitors number).\r\n\r\n<img width=\"1567\" alt=\"Capture decran 2019-09-03 a 11 01 30\" src=\"https://user-images.githubusercontent.com/5358048/64160022-7f8f4980-ce3b-11e9-8ec4-bed9b08e44e3.png\">\r\n<img width=\"1554\" alt=\"Capture decran 2019-09-03 a 11 01 05\" src=\"https://user-images.githubusercontent.com/5358048/64160023-7f8f4980-ce3b-11e9-95b3-e3307f1cd37e.png\">\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14849/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14849/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14848", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14848/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14848/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14848/events", "html_url": "https://github.com/matomo-org/matomo/pull/14848", "id": 488362905, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzMzk5MDIx", "number": 14848, "title": "Change mysql column type for new installs for log_action.name and log_conversion.url", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-03T02:28:03Z", "updated_at": "2019-09-03T04:22:09Z", "closed_at": "2019-09-03T04:22:05Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14848", "html_url": "https://github.com/matomo-org/matomo/pull/14848", "diff_url": "https://github.com/matomo-org/matomo/pull/14848.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14848.patch", "merged_at": "2019-09-03T04:22:05Z" }, "body": "from TEXT to VARCHAR\r\nrefs https://github.com/matomo-org/matomo/issues/14535\r\n\r\nAlready includes the update for Matomo 4.\r\n\r\nThis is part 1 for issue #14535 . The other PR needs to be created for Matomo 4 only as we can't change it for new installs but not for old installs: https://github.com/matomo-org/matomo/pull/14847\r\n\r\nWe're changing it for new installs already now as it saves us running an alter table on log_action later for heaps of installations. The less changes there will be later the better :) ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14848/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14848/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14847", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14847/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14847/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14847/events", "html_url": "https://github.com/matomo-org/matomo/pull/14847", "id": 488362595, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzMzk4Nzg1", "number": 14847, "title": "Change column type for referer_url from text to varchar", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/102", "html_url": "https://github.com/matomo-org/matomo/milestone/102", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/102/labels", "id": 2159671, "node_id": "MDk6TWlsZXN0b25lMjE1OTY3MQ==", "number": 102, "title": "4.0.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 573, "state": "closed", "created_at": "2016-11-27T23:04:56Z", "updated_at": "2020-10-06T19:16:40Z", "due_on": "2020-12-01T08:00:00Z", "closed_at": "2020-09-30T02:15:16Z" }, "comments": 0, "created_at": "2019-09-03T02:26:23Z", "updated_at": "2020-01-15T18:54:07Z", "closed_at": "2020-01-15T18:54:03Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14847", "html_url": "https://github.com/matomo-org/matomo/pull/14847", "diff_url": "https://github.com/matomo-org/matomo/pull/14847.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14847.patch", "merged_at": "2020-01-15T18:54:03Z" }, "body": "This is part 2 of https://github.com/matomo-org/matomo/issues/14535\r\n\r\npart 1 is done in https://github.com/matomo-org/matomo/pull/14848", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14847/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14847/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14846", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14846/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14846/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14846/events", "html_url": "https://github.com/matomo-org/matomo/pull/14846", "id": 488357710, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzMzk1MjQz", "number": 14846, "title": "Soft delete segments", "user": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-03T02:00:10Z", "updated_at": "2019-10-25T02:22:55Z", "closed_at": "2019-09-03T02:03:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14846", "html_url": "https://github.com/matomo-org/matomo/pull/14846", "diff_url": "https://github.com/matomo-org/matomo/pull/14846.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14846.patch", "merged_at": "2019-09-03T02:03:05Z" }, "body": "Fixes #14826 ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14846/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14845", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14845/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14845/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14845/events", "html_url": "https://github.com/matomo-org/matomo/pull/14845", "id": 488328779, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzMzc0MTgx", "number": 14845, "title": "fix tests in bandwidth plugin", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-02T22:19:25Z", "updated_at": "2019-09-02T22:19:33Z", "closed_at": "2019-09-02T22:19:30Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14845", "html_url": "https://github.com/matomo-org/matomo/pull/14845", "diff_url": "https://github.com/matomo-org/matomo/pull/14845.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14845.patch", "merged_at": "2019-09-02T22:19:30Z" }, "body": "", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14845/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14844", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14844/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14844/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14844/events", "html_url": "https://github.com/matomo-org/matomo/pull/14844", "id": 488318394, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzMzY2NTk4", "number": 14844, "title": "Faster raw log data deletion", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-02T21:10:37Z", "updated_at": "2019-09-03T09:18:37Z", "closed_at": "2019-09-03T09:18:34Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14844", "html_url": "https://github.com/matomo-org/matomo/pull/14844", "diff_url": "https://github.com/matomo-org/matomo/pull/14844.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14844.patch", "merged_at": "2019-09-03T09:18:34Z" }, "body": "This improves the performance for raw data deletion on the log tables further after already making partially suer the index is used in https://github.com/matomo-org/matomo/pull/14840\r\n\r\nBefore this change, when we delete raw data from log tables, queries like these would be executed:\r\n\r\n```sql\r\nSELECT idvisit FROM `log_visit` WHERE idvisit > 290 AND visit_last_action_time < '2019-06-02 03:04:05' AND idsite IN (1,5,7) ORDER BY idvisit ASC LIMIT 1000\r\n\r\nSELECT idvisit FROM `log_visit` WHERE idvisit > 1290 AND visit_last_action_time < '2019-06-02 03:04:05' AND idsite IN (1,5,7) ORDER BY idvisit ASC LIMIT 1000\r\n\r\nWhere idvisit > 2290 ...\r\n...\r\n```\r\n\r\nHowever, this means for raw data deletion, MySQL needs to look at each visit within that time range , read the idvisit, store them in memory or tmp table, and order them afterwards. That's not quite efficient when we are deleting because we could simply always execute the same query:\r\n\r\n```sql\r\nSELECT idvisit FROM `log_visit` WHERE visit_last_action_time < '2019-06-02 03:04:05' AND idsite IN (1,5,7) LIMIT 1000\r\n```\r\n\r\nNow Mysql can just randomly look only at 1000 visits which is fast because of the `idsite, visit_last_action_time` index instead of looking at potentially many millions of visits and sorting them etc. It's a lot more efficient and reduces IO quite a bit. Especially considering we're executing this query VERY often when there are millions of visits to be deleted where we looked say 10,000 times over all visits in that time range just to delete 10M visits (10,000 times executing the query to delete 1000 visits each time). \r\n\r\nNoticed the `forAllLogs()` method is also called from `VisitorGeolocator` where it is not deleting data and therefore it actually needs the `idvisit > ? ORDER BY idvisit` logic as it otherwise can't make sure to apply the callback logic to each method. \r\n\r\nDid my best to keep this logic difference somewhat simple. Would otherwise need two different methods for this but that doesn't make things better in the end.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14844/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14844/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14843", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14843/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14843/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14843/events", "html_url": "https://github.com/matomo-org/matomo/pull/14843", "id": 488310448, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzMzYwNDgz", "number": 14843, "title": "Minor performance tweak for purge archive for deleted sites", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-02T20:25:20Z", "updated_at": "2019-09-03T23:50:33Z", "closed_at": "2019-09-03T23:50:29Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14843", "html_url": "https://github.com/matomo-org/matomo/pull/14843", "diff_url": "https://github.com/matomo-org/matomo/pull/14843.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14843.patch", "merged_at": "2019-09-03T23:50:29Z" }, "body": "Not expecting a big change in performance here. But generally it's better to have two simple queries that can be fully read from index instead of joining the tables etc. The join should be straight forward though as well because it should be also created based on the index, however the two individual queries should be still faster.\r\n\r\nAlso another tweak is that for deleted sites we don't need to look at `ts_archived`. This actually does make things quite a bit faster.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14843/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14843/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14842", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14842/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14842/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14842/events", "html_url": "https://github.com/matomo-org/matomo/issues/14842", "id": 488136793, "node_id": "MDU6SXNzdWU0ODgxMzY3OTM=", "number": 14842, "title": "Question about Unique visitors count", "user": { "login": "protovateadmin", "id": 54355837, "node_id": "MDQ6VXNlcjU0MzU1ODM3", "avatar_url": "https://avatars.githubusercontent.com/u/54355837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/protovateadmin", "html_url": "https://github.com/protovateadmin", "followers_url": "https://api.github.com/users/protovateadmin/followers", "following_url": "https://api.github.com/users/protovateadmin/following{/other_user}", "gists_url": "https://api.github.com/users/protovateadmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/protovateadmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/protovateadmin/subscriptions", "organizations_url": "https://api.github.com/users/protovateadmin/orgs", "repos_url": "https://api.github.com/users/protovateadmin/repos", "events_url": "https://api.github.com/users/protovateadmin/events{/privacy}", "received_events_url": "https://api.github.com/users/protovateadmin/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-02T11:14:23Z", "updated_at": "2019-10-27T20:30:55Z", "closed_at": "2019-09-02T19:36:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi folks!\r\n\r\nEverything fine with matomo, thanks to Matomo dev team for nice product. Only one thing which I can't understand how Matomo aggregating unique visitors count. For example, we use log import feature (we are importing web server logs to Matomo application), if I take first month when we start using matomo I see about 20 millions unique visitors for that Month.\r\n![first month](https://user-images.githubusercontent.com/54355837/64109883-48f8f680-cd89-11e9-8304-ff32450d4f75.JPG)\r\n\r\nQuestion 1. I assume, since we just started use Matomo, probably all users are unique except those who visit site again during that period?\r\n\r\nThen every month this number decreases, for example 7 months later I see 7 millions for same period \"month\" with bigger visits & pageviews count.\r\n\r\n![next month](https://user-images.githubusercontent.com/54355837/64109999-91b0af80-cd89-11e9-981a-8de8a50ede93.JPG)\r\n\r\nAnd finally, If I take last month (August 2019). I see about 2 millions.\r\n\r\n![last month](https://user-images.githubusercontent.com/54355837/64110150-f5d37380-cd89-11e9-9533-121db7c0ba4f.JPG)\r\n\r\nAlso, if I take period \"day\" or \"week\" for same month, for example August 28 I see probably same number ~2 millions.\r\n\r\n![last month period week](https://user-images.githubusercontent.com/54355837/64110646-629b3d80-cd8b-11e9-9526-8e872cfd00b8.JPG)\r\n\r\nQuestion 2. So how to interpret month results? I suppose month results = unique users sum of all days of given month?\r\n\r\nThank you in advance.\r\n\r\n\r\n\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14842/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14842/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14841", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14841/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14841/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14841/events", "html_url": "https://github.com/matomo-org/matomo/issues/14841", "id": 488132737, "node_id": "MDU6SXNzdWU0ODgxMzI3Mzc=", "number": 14841, "title": "use a modern PHP library for sending emails and SMTP", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 127937670, "node_id": "MDU6TGFiZWwxMjc5Mzc2NzA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Platform", "name": "c: Platform", "color": "bfe5bf", "default": false, "description": "For Matomo platform changes that aren't impacting any of our APIs but improve the core itself." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/102", "html_url": "https://github.com/matomo-org/matomo/milestone/102", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/102/labels", "id": 2159671, "node_id": "MDk6TWlsZXN0b25lMjE1OTY3MQ==", "number": 102, "title": "4.0.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 573, "state": "closed", "created_at": "2016-11-27T23:04:56Z", "updated_at": "2020-10-06T19:16:40Z", "due_on": "2020-12-01T08:00:00Z", "closed_at": "2020-09-30T02:15:16Z" }, "comments": 9, "created_at": "2019-09-02T11:03:38Z", "updated_at": "2020-09-28T23:43:01Z", "closed_at": "2020-05-14T07:52:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "related to https://github.com/matomo-org/matomo/issues/8613 and https://github.com/matomo-org/matomo/issues/12007\r\n\r\ninspired by https://forum.matomo.org/t/email-reports-not-sent-broken-pipe-errno-32/34047\r\n\r\nMatomo uses a copy of Zend Mail that has last been updated in 2011 (in https://github.com/matomo-org/matomo/issues/2581)\r\n\r\nWhile SMTP isn't the fastest developing protocol, a lot has changed in that time.\r\n\r\nSo instead of keeping an outdated library or reinventing the wheel, I'd recommend replacing it with a maintained, popular PHP library like PHPmailer or swiftmailer.\r\n\r\nBonus side effect: We would get proper error messages for hard to debug errors instead of things like `fwrite(): send of 6 bytes failed with errno=32 Broken pipe`.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14841/reactions", "total_count": 4, "+1": 4, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14841/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14840", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14840/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14840/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14840/events", "html_url": "https://github.com/matomo-org/matomo/pull/14840", "id": 487989415, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzMTA2NzQx", "number": 14840, "title": "Make sure to use index on log table when deleting log entries", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-02T04:30:06Z", "updated_at": "2019-10-25T02:38:52Z", "closed_at": "2019-09-02T19:10:05Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14840", "html_url": "https://github.com/matomo-org/matomo/pull/14840", "diff_url": "https://github.com/matomo-org/matomo/pull/14840.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14840.patch", "merged_at": "2019-09-02T19:10:05Z" }, "body": "No behaviour changed, just making it use an index and reader db. Fixes https://github.com/matomo-org/matomo/issues/14839", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14840/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14839", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14839/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14839/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14839/events", "html_url": "https://github.com/matomo-org/matomo/issues/14839", "id": 487983304, "node_id": "MDU6SXNzdWU0ODc5ODMzMDQ=", "number": 14839, "title": "Avoid full table scans and log data purger", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." } ], "state": "closed", "locked": false, "assignee": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 2, "created_at": "2019-09-02T04:02:24Z", "updated_at": "2019-09-02T19:10:05Z", "closed_at": "2019-09-02T19:10:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "\r\n![image](https://user-images.githubusercontent.com/273120/64089608-ee689600-cd9a-11e9-8bd5-08f968e8c6ef.png)\r\n\r\nI'm not quite sure where this query comes from. At first I thought it is https://github.com/matomo-org/matomo/blob/3.x-dev/plugins/PrivacyManager/LogDataPurger.php#L154-L162 but this query doesn't seem to be executed by a task and only in UI. Not sure where this query is from?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14839/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14838", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14838/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14838/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14838/events", "html_url": "https://github.com/matomo-org/matomo/pull/14838", "id": 487982780, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEzMTAxODky", "number": 14838, "title": "Batch up records for insert in ArchiveWriter", "user": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-09-02T03:59:51Z", "updated_at": "2019-10-25T02:43:42Z", "closed_at": "2019-09-03T01:20:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14838", "html_url": "https://github.com/matomo-org/matomo/pull/14838", "diff_url": "https://github.com/matomo-org/matomo/pull/14838.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14838.patch", "merged_at": "2019-09-03T01:20:06Z" }, "body": "Fixes #14812 ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14838/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14837", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14837/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14837/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14837/events", "html_url": "https://github.com/matomo-org/matomo/issues/14837", "id": 487866483, "node_id": "MDU6SXNzdWU0ODc4NjY0ODM=", "number": 14837, "title": "Premium Bundle is listed twice in Administration > Markteplace", "user": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-09-01T10:11:40Z", "updated_at": "2019-10-25T03:05:32Z", "closed_at": "2019-09-01T22:41:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Reproduced in https://demo.matomo.org/index.php?module=Marketplace&action=overview&idSite=1&period=week&date=today&activated=&mode=admin&type=&show=&show=premium&updated=1\r\n\r\nScreenshot:\r\n\r\n![Screenshot from 2019-09-01 12-10-46](https://user-images.githubusercontent.com/466765/64074899-9dc93e00-ccb1-11e9-8d51-10d00680d8d3.png)\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14837/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14837/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14836", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14836/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14836/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14836/events", "html_url": "https://github.com/matomo-org/matomo/issues/14836", "id": 487781373, "node_id": "MDU6SXNzdWU0ODc3ODEzNzM=", "number": 14836, "title": "core:purge-old-archive-data OOM's if table is too large", "user": { "login": "paladox", "id": 5727000, "node_id": "MDQ6VXNlcjU3MjcwMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5727000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paladox", "html_url": "https://github.com/paladox", "followers_url": "https://api.github.com/users/paladox/followers", "following_url": "https://api.github.com/users/paladox/following{/other_user}", "gists_url": "https://api.github.com/users/paladox/gists{/gist_id}", "starred_url": "https://api.github.com/users/paladox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paladox/subscriptions", "organizations_url": "https://api.github.com/users/paladox/orgs", "repos_url": "https://api.github.com/users/paladox/repos", "events_url": "https://api.github.com/users/paladox/events{/privacy}", "received_events_url": "https://api.github.com/users/paladox/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 3, "created_at": "2019-08-31T15:29:58Z", "updated_at": "2019-10-27T20:30:55Z", "closed_at": "2019-09-02T00:31:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi, i'm aware that if certain requests in core:archive fail, it builds up over time in the archive table. I'm trying to run core:purge-old-archive-data to see if it'll make the table smaller, but it OOMs because the table is too large. Could the script be improved to not OOM? Or could the core:archive command be improved not to fill the archive table like it does if a request fails?\r\n\r\nFor reference here's the sizes for the tables (between july and august)\r\n\r\n-rw-rw---- 1 mysql mysql 2.4K Aug 26 18:39 piwik_archive_blob_2019_07.frm\r\n-rw-rw---- 1 mysql mysql 652M Aug 26 18:40 piwik_archive_blob_2019_07.ibd\r\n-rw-rw---- 1 mysql mysql 2.4K Aug 26 22:16 piwik_archive_blob_2019_08.frm\r\n-rw-rw---- 1 mysql mysql 3.8G Aug 31 12:52 piwik_archive_blob_2019_08.ibd\r\n\r\n-rw-rw---- 1 mysql mysql 2.8K Aug 26 18:45 piwik_archive_numeric_2019_07.frm\r\n-rw-rw---- 1 mysql mysql 288M Aug 26 18:45 piwik_archive_numeric_2019_07.ibd\r\n-rw-rw---- 1 mysql mysql 2.8K Aug 26 22:15 piwik_archive_numeric_2019_08.frm\r\n-rw-rw---- 1 mysql mysql 1.4G Aug 31 12:52 piwik_archive_numeric_2019_08.ibd\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14836/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14836/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14835", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14835/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14835/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14835/events", "html_url": "https://github.com/matomo-org/matomo/issues/14835", "id": 487326184, "node_id": "MDU6SXNzdWU0ODczMjYxODQ=", "number": 14835, "title": "Page Overlay - JavaScript Error - TypeError: location.match(...) is null", "user": { "login": "localhorst", "id": 350845, "node_id": "MDQ6VXNlcjM1MDg0NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/350845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/localhorst", "html_url": "https://github.com/localhorst", "followers_url": "https://api.github.com/users/localhorst/followers", "following_url": "https://api.github.com/users/localhorst/following{/other_user}", "gists_url": "https://api.github.com/users/localhorst/gists{/gist_id}", "starred_url": "https://api.github.com/users/localhorst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/localhorst/subscriptions", "organizations_url": "https://api.github.com/users/localhorst/orgs", "repos_url": "https://api.github.com/users/localhorst/repos", "events_url": "https://api.github.com/users/localhorst/events{/privacy}", "received_events_url": "https://api.github.com/users/localhorst/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." }, { "id": 291835293, "node_id": "MDU6TGFiZWwyOTE4MzUyOTM=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Waiting%20for%20user%20feedback", "name": "Waiting for user feedback", "color": "5319e7", "default": false, "description": "Indicates the Matomo team is waiting for feedback from the author or other users." } ], "state": "closed", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/123", "html_url": "https://github.com/matomo-org/matomo/milestone/123", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/123/labels", "id": 4070457, "node_id": "MDk6TWlsZXN0b25lNDA3MDQ1Nw==", "number": 123, "title": "3.13.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 76, "state": "closed", "created_at": "2019-02-19T18:26:37Z", "updated_at": "2020-02-07T11:15:14Z", "due_on": "2020-01-08T08:00:00Z", "closed_at": "2019-11-27T04:55:23Z" }, "comments": 8, "created_at": "2019-08-30T07:12:32Z", "updated_at": "2019-11-18T08:56:29Z", "closed_at": "2019-11-18T08:56:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "When opening page overlays and selecting \"today\" or \"yesterday\", the page does not load. I get this error in Firefox Console: \r\n\r\nFirefox 68.0.2 (64-bit)\r\n```\r\nTypeError: location.match(...) is nullPiwik_Overlay.js:148:33\r\n setIframeOrigin https://matomo.mydomain.com/plugins/Overlay/javascripts/Piwik_Overlay.js?cb=b7a7ffc1b1f573a45213fcfecfcdc04d:148\r\n hashChangeCallback https://matomo.mydomain.com/plugins/Overlay/javascripts/Piwik_Overlay.js?cb=b7a7ffc1b1f573a45213fcfecfcdc04d:170\r\n init https://matomo.mydomain.com/plugins/Overlay/javascripts/Piwik_Overlay.js?cb=b7a7ffc1b1f573a45213fcfecfcdc04d:278\r\n invoke https://matomo.mydomain.com/index.php?module=Proxy&action=getCoreJs&cb=b7a7ffc1b1f573a45213fcfecfcdc04d:163\r\n init https://matomo.mydomain.com/plugins/Overlay/javascripts/Piwik_Overlay.js?cb=b7a7ffc1b1f573a45213fcfecfcdc04d:273\r\n <anonymous> https://matomo.mydomain.com/index.php?module=Overlay&period=week&date=today&idSite=4:260\r\n i https://matomo.mydomain.com/index.php?module=Proxy&action=getCoreJs&cb=b7a7ffc1b1f573a45213fcfecfcdc04d:4\r\n fireWith https://matomo.mydomain.com/index.php?module=Proxy&action=getCoreJs&cb=b7a7ffc1b1f573a45213fcfecfcdc04d:4\r\n ready https://matomo.mydomain.com/index.php?module=Proxy&action=getCoreJs&cb=b7a7ffc1b1f573a45213fcfecfcdc04d:4\r\n J https://matomo.mydomain.com/index.php?module=Proxy&action=getCoreJs&cb=b7a7ffc1b1f573a45213fcfecfcdc04d:4\r\n```\r\n\r\nA similar error occurs in Chrome 76.0.3809.100 (64-Bit)\r\n```\r\nUncaught TypeError: Cannot read property '0' of null\r\n at setIframeOrigin (Piwik_Overlay.js?cb=b7a7ffc1b1f573a45213fcfecfcdc04d:148)\r\n at hashChangeCallback (Piwik_Overlay.js?cb=b7a7ffc1b1f573a45213fcfecfcdc04d:170)\r\n at Piwik_Overlay.js?cb=b7a7ffc1b1f573a45213fcfecfcdc04d:278\r\n at Object.invoke (index.php?module=Proxy&action=getCoreJs&cb=b7a7ffc1b1f573a45213fcfecfcdc04d:163)\r\n at Object.init (Piwik_Overlay.js?cb=b7a7ffc1b1f573a45213fcfecfcdc04d:273)\r\n at HTMLDocument.<anonymous> (index.php?module=Overlay&period=day&date=today&idSite=4:260)\r\n at i (index.php?module=Proxy&action=getCoreJs&cb=b7a7ffc1b1f573a45213fcfecfcdc04d:4)\r\n at Object.fireWith [as resolveWith] (index.php?module=Proxy&action=getCoreJs&cb=b7a7ffc1b1f573a45213fcfecfcdc04d:4)\r\n at Function.ready (index.php?module=Proxy&action=getCoreJs&cb=b7a7ffc1b1f573a45213fcfecfcdc04d:4)\r\n at HTMLDocument.J (index.php?module=Proxy&action=getCoreJs&cb=b7a7ffc1b1f573a45213fcfecfcdc04d:4)\r\n```\r\n\r\n~In MS Edge, the page overlay loads fine.~\r\nMicrosoft Edge 44.18362.267.0\r\nEdit: No, in Edge it fails with this error:\r\n```\r\nSCRIPT5007: SCRIPT5007: Unable to get property '0' of undefined or null reference\r\nPiwik_Overlay.js (148,9)\r\n```\r\n\r\nUsing Matomo 3.11.0\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14835/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14835/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14834", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14834/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14834/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14834/events", "html_url": "https://github.com/matomo-org/matomo/pull/14834", "id": 487194821, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEyNTA5ODcx", "number": 14834, "title": "Add option to archiver to not create archives for segments for today", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 2, "created_at": "2019-08-29T21:59:00Z", "updated_at": "2019-10-25T04:23:52Z", "closed_at": "2019-10-02T03:05:37Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14834", "html_url": "https://github.com/matomo-org/matomo/pull/14834", "diff_url": "https://github.com/matomo-org/matomo/pull/14834.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14834.patch", "merged_at": "2019-10-02T03:05:36Z" }, "body": "Unless the segment was created recently (in the last 24 hours).\r\n\r\nAt first I had a different implementation only in `CronArchiver` and it worked but problem was that when it archives current week, month, year it would still archive today again. This is why a mixed implementation was needed.\r\n\r\nIt can be triggered using `core:archive --skip-segments-today`\r\n\r\n@mattab could you have a look at this?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14834/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14834/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14833", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14833/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14833/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14833/events", "html_url": "https://github.com/matomo-org/matomo/pull/14833", "id": 486700326, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEyMTEwNzYx", "number": 14833, "title": "Do not regenerate tracker files after core archiving", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-29T02:28:15Z", "updated_at": "2019-09-07T18:18:19Z", "closed_at": "2019-09-07T18:18:17Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14833", "html_url": "https://github.com/matomo-org/matomo/pull/14833", "diff_url": "https://github.com/matomo-org/matomo/pull/14833.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14833.patch", "merged_at": "2019-09-07T18:18:16Z" }, "body": "Not sure why I added it there considering they are being regenerated in a task every hour or so anyway.\r\nAlso see https://github.com/matomo-org/tag-manager/pull/184", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14833/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14833/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14832", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14832/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14832/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14832/events", "html_url": "https://github.com/matomo-org/matomo/pull/14832", "id": 486660340, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEyMDc4NDc1", "number": 14832, "title": "Various platform tweaks", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 127937670, "node_id": "MDU6TGFiZWwxMjc5Mzc2NzA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Platform", "name": "c: Platform", "color": "bfe5bf", "default": false, "description": "For Matomo platform changes that aren't impacting any of our APIs but improve the core itself." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-28T23:40:46Z", "updated_at": "2019-10-25T04:22:53Z", "closed_at": "2019-09-13T09:27:22Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14832", "html_url": "https://github.com/matomo-org/matomo/pull/14832", "diff_url": "https://github.com/matomo-org/matomo/pull/14832.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14832.patch", "merged_at": "2019-09-13T09:27:22Z" }, "body": "* Let a user customise from where to load the config file by specifying a function in `$matomoDir/bootstrap.php` like `$GLOBALS['CONFIG_INI_PATH_RESOLVER'] = function () {return 'pathOutsideMatomo'};`\r\n* New config to disallow editing users (useful when syncing users)\r\n* New config to disallow editing sites (useful when syncing sites)\r\n* Configurable `misc/user` folder for GeoIP... this way you can have the geoIP DB outside a Matomo directory\r\n* A new event `'Config.beforeSave'` see documentation to prevent saving some sensitive data in the config. It is also eg useful for https://github.com/matomo-org/plugin-EnvironmentVariables where you would want to prevent saving any potentially sensitive value to the database that is set through an environment variable. Say you set the database password through an environment variable, then you would want to prevent that the password is written to the config file next time the config is saved\r\n\r\nThese changes were needed for some new feature we're working on. Besides the config files and the new event we wouldn't document the other features I suppose. Could potentially add some tests for disable user/site admin but not sure if needed. Think we're not doing it so far for other areas? And it's quite straight forward but could add some if needed.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14832/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14832/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14831", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14831/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14831/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14831/events", "html_url": "https://github.com/matomo-org/matomo/pull/14831", "id": 486642990, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEyMDY0MzI3", "number": 14831, "title": "Don't process tracking requests that are older than data purge cutoff", "user": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-28T22:39:51Z", "updated_at": "2019-10-25T02:22:55Z", "closed_at": "2019-09-03T21:09:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14831", "html_url": "https://github.com/matomo-org/matomo/pull/14831", "diff_url": "https://github.com/matomo-org/matomo/pull/14831.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14831.patch", "merged_at": "2019-09-03T21:09:48Z" }, "body": "Fixes #14802 ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14831/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14831/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14830", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14830/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14830/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14830/events", "html_url": "https://github.com/matomo-org/matomo/pull/14830", "id": 486642454, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEyMDYzODcx", "number": 14830, "title": "Do tracker request validation/auth before start of processing", "user": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-08-28T22:38:14Z", "updated_at": "2019-10-25T02:22:55Z", "closed_at": "2019-08-29T03:47:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14830", "html_url": "https://github.com/matomo-org/matomo/pull/14830", "diff_url": "https://github.com/matomo-org/matomo/pull/14830.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14830.patch", "merged_at": "2019-08-29T03:47:57Z" }, "body": "Fixes #14801 ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14830/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14830/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14829", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14829/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14829/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14829/events", "html_url": "https://github.com/matomo-org/matomo/pull/14829", "id": 486641986, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEyMDYzNDcy", "number": 14829, "title": "Change login page message when user has been redirected after auth failure", "user": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 7, "created_at": "2019-08-28T22:36:49Z", "updated_at": "2019-10-25T02:22:54Z", "closed_at": "2019-10-02T03:01:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14829", "html_url": "https://github.com/matomo-org/matomo/pull/14829", "diff_url": "https://github.com/matomo-org/matomo/pull/14829.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14829.patch", "merged_at": "2019-10-02T03:01:47Z" }, "body": "Fixes #14706 ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14829/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14829/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14828", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14828/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14828/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14828/events", "html_url": "https://github.com/matomo-org/matomo/issues/14828", "id": 486639840, "node_id": "MDU6SXNzdWU0ODY2Mzk4NDA=", "number": 14828, "title": "Tweak behaviour of orphaned segments", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." } ], "state": "closed", "locked": false, "assignee": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-28T22:29:48Z", "updated_at": "2019-09-16T20:50:04Z", "closed_at": "2019-09-16T20:50:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Weekly we have a cronjob to delete orphaned segments in `CoreAdminHome\\Tasks`. Meaning we delete all segment archives of segments that no longer exist. \r\n\r\nThis behaviour currently works like this:\r\n* Get a list of all segments\r\n* Iterate over each archive table\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Get the idArchives of archives whose done flag is not in the list of existing segments\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Delete the idArchives\r\n\r\nNow that this command ran a few times and we have cleaned up all segment archives, and now that we implement a proper soft delete in https://github.com/matomo-org/matomo/issues/14826 we could make this behaviour more efficient:\r\n\r\n* Get all segments where `deleted = 1 and ts_last_edit >= 1 week ago` (assuming we run the task weekly). These are the segments that were deleted last week\r\n* Iterate over all archive tables \r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Get the idarchives of segments having the done flag for the deleted segment\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Delete these idarchives from numeric and blob table\r\n\r\nI was thinking we would only need to loop over archive tables since `ts_created` but we need to loop likely over all archive tables since some users will have enabled to automatically archive segments for all historical data which is also the default `process_new_segments_from = \"beginning_of_time\"`\r\n\r\nThis way things will be faster as we only execute logic if a segment was deleted", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14828/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14827", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14827/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14827/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14827/events", "html_url": "https://github.com/matomo-org/matomo/issues/14827", "id": 486599699, "node_id": "MDU6SXNzdWU0ODY1OTk2OTk=", "number": 14827, "title": "German title HTML entity encoded", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": null, "comments": 0, "created_at": "2019-08-28T20:44:15Z", "updated_at": "2019-11-03T18:54:25Z", "closed_at": "2019-11-03T18:54:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/6266037/63891282-1d6eb880-c9e5-11e9-80f7-4c6909827220.png)\r\n`/index.php?module=UsersManager&action=anonymousSettings&idSite=1&period=month&date=today`\r\n\r\nhttps://github.com/matomo-org/matomo/blob/805f87692d2c766446c9f8fe55ee95164abfad6f/plugins/UsersManager/lang/de.json#L67\r\n\r\nI am not entirely sure how this can be avoided.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14827/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14827/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14826", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14826/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14826/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14826/events", "html_url": "https://github.com/matomo-org/matomo/issues/14826", "id": 486582111, "node_id": "MDU6SXNzdWU0ODY1ODIxMTE=", "number": 14826, "title": "When deleting a segment, do a soft delete instead of a hard delete", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "closed", "locked": false, "assignee": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-28T20:04:15Z", "updated_at": "2019-09-03T02:03:05Z", "closed_at": "2019-09-03T02:03:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We already have a flag `deleted` in segments. When we delete a segment, it should actually keep the segment entry instead of deleting it fully. This allows us to better delete orphaned segments from archives etc. We should also updated the `ts_last_edit` in the segment table and set it to `now()` when soft deleting the segment.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14826/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14826/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14825", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14825/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14825/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14825/events", "html_url": "https://github.com/matomo-org/matomo/pull/14825", "id": 486468156, "node_id": "MDExOlB1bGxSZXF1ZXN0MzExOTIwODA5", "number": 14825, "title": "fix implode argument order (php 7.4 compatibility)", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 2, "created_at": "2019-08-28T15:53:52Z", "updated_at": "2020-02-10T13:01:22Z", "closed_at": "2019-08-28T23:13:52Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14825", "html_url": "https://github.com/matomo-org/matomo/pull/14825", "diff_url": "https://github.com/matomo-org/matomo/pull/14825.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14825.patch", "merged_at": "2019-08-28T23:13:52Z" }, "body": "related to https://github.com/matomo-org/matomo/issues/14821\r\nWith PHP 7.4 a lot of incorrect usages of functions have been deprecated.\r\nOne of them is that `implode()` will now throw a warning if the glue isn't the first parameter.\r\n\r\nI'll update this PR as I come across more warnings.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14825/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14825/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14824", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14824/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14824/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14824/events", "html_url": "https://github.com/matomo-org/matomo/pull/14824", "id": 486145320, "node_id": "MDExOlB1bGxSZXF1ZXN0MzExNjU3MzAx", "number": 14824, "title": "No config reload on save", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 2, "created_at": "2019-08-28T03:50:27Z", "updated_at": "2019-09-21T01:02:46Z", "closed_at": "2019-09-21T01:02:43Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14824", "html_url": "https://github.com/matomo-org/matomo/pull/14824", "diff_url": "https://github.com/matomo-org/matomo/pull/14824.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14824.patch", "merged_at": "2019-09-21T01:02:43Z" }, "body": "Found an interesting issue today re config... when the config is saved, we reload the config afterwards in https://github.com/matomo-org/matomo/blob/3.12.0-b2/core/Config.php#L447 \r\n\r\nThe problem is, that any `plugins/*/config/config.php` or `config/config.php` that is changing the config using DI is then ignored when reloading the config. Looks like something like this:\r\n\r\n```\r\n'Piwik\\Config' => DI\\decorate(function ($previous) {\r\n $general = $previous->General;\r\n $general['force_ssl'] = 1;\r\n $previous->General = $general;\r\n\r\n return $previous;\r\n }),\r\n```\r\n\r\nWe're using this quite intensively in various places. I wonder in that case how to best re-initialise the config to make sure DI is executed again. Like removing it from DI, and then initialising it again using DI... would that work somehow? Problem is that maybe there could be still outdated references to the old config instance... I wonder maybe by default we should not reload the config simply? Not sure why we do it. It was likely not really an issue before since it would have simply saved all changes in `Config` to the local config and then reloaded it again.\r\n\r\nHowever, in a new plugin I will have an event to not save some config parameters to the config file. I will have an event `postEvent('Config.beforeSave', array(&$config))` where I then do something like `unset($config['General']['force_ssl'])` to avoid saving some values in the config. Eg to not save DB credentials in the config etc.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14824/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14823", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14823/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14823/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14823/events", "html_url": "https://github.com/matomo-org/matomo/pull/14823", "id": 486122509, "node_id": "MDExOlB1bGxSZXF1ZXN0MzExNjM5ODgz", "number": 14823, "title": "Use correct NotYetInstalledException when Matomo is not yet installed", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-28T02:12:50Z", "updated_at": "2019-10-25T04:16:36Z", "closed_at": "2019-09-18T01:27:34Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14823", "html_url": "https://github.com/matomo-org/matomo/pull/14823", "diff_url": "https://github.com/matomo-org/matomo/pull/14823.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14823.patch", "merged_at": "2019-09-18T01:27:34Z" }, "body": "Otherwise it can become impossible to catch this exception.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14823/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14822", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14822/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14822/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14822/events", "html_url": "https://github.com/matomo-org/matomo/pull/14822", "id": 486029119, "node_id": "MDExOlB1bGxSZXF1ZXN0MzExNTYzNjgw", "number": 14822, "title": "Try using memory table for segments cache in tests to make tests faster", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-27T20:54:11Z", "updated_at": "2019-08-27T22:33:46Z", "closed_at": "2019-08-27T22:33:43Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14822", "html_url": "https://github.com/matomo-org/matomo/pull/14822", "diff_url": "https://github.com/matomo-org/matomo/pull/14822.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14822.patch", "merged_at": "2019-08-27T22:33:43Z" }, "body": "fyi @diosmosis ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14822/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14821", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14821/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14821/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14821/events", "html_url": "https://github.com/matomo-org/matomo/issues/14821", "id": 486011286, "node_id": "MDU6SXNzdWU0ODYwMTEyODY=", "number": 14821, "title": "Make Matomo compatible with PHP 7.4", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." } ], "state": "closed", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/123", "html_url": "https://github.com/matomo-org/matomo/milestone/123", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/123/labels", "id": 4070457, "node_id": "MDk6TWlsZXN0b25lNDA3MDQ1Nw==", "number": 123, "title": "3.13.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 76, "state": "closed", "created_at": "2019-02-19T18:26:37Z", "updated_at": "2020-02-07T11:15:14Z", "due_on": "2020-01-08T08:00:00Z", "closed_at": "2019-11-27T04:55:23Z" }, "comments": 9, "created_at": "2019-08-27T20:13:05Z", "updated_at": "2019-11-21T10:39:51Z", "closed_at": "2019-11-21T10:39:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "similar to #13418\r\n\r\n### Status:\r\n\r\nAll Warnings in Matomo itself and the broken Twig rendering are fixed in Matomo 3.12. All remaining warnings depend on third-party libraries (see below).\r\n\r\nSoon PHP 7.4 will be released (RC 1 is planned or September 5th), so it would be great if Matomo would work mostly fine when it is released.\r\n\r\nI set up a Matomo instance using the latest beta4 at https://matomo-beta.lw1.at\r\nIf you want to get access, just message me.\r\n\r\nCurrent status is that Matomo is nearly completly unusable as it renders invalid HTML with missing whitespaces:\r\n```html\r\n<ul class=\"right hide-on-med-and-down\"><li role=\"menuitem\" class=\"active\"><atitle=\"Zeige Webanalytik Berichte fr Testsite.\" id=\"topmenu-corehome\"\r\n href=\"index.php?module=CoreHome&amp;action=index&amp;idSite=1&amp;period=day&amp;date=yesterday\" target=\"_self\" tabindex=\"3\">Dashboard</a></li><li role=\"menuitem\" class=\"\"><atitle=\"Vergleichen Sie Webanalytikstatistiken fr alle Ihre Websites.\" id=\"topmenu-multisites\"\r\n href=\"index.php?module=MultiSites&amp;action=index&amp;idSite=1&amp;period=day&amp;date=yesterday\" target=\"_self\" tabindex=\"3\">Alle Websites</a></li><li role=\"menuitem\" class=\"\"><atitle=\"\" id=\"topmenu-tagmanager\"\r\n```\r\n\r\nThis seem to be caused by a required change in Twig (https://github.com/twigphp/Twig/pull/3004/commits/1fb0f9701d8443083495cd2645e8a0c45d54c34d), so updating to twig 1.41.0 or later should solve this.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14821/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14821/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14820", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14820/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14820/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14820/events", "html_url": "https://github.com/matomo-org/matomo/issues/14820", "id": 485871009, "node_id": "MDU6SXNzdWU0ODU4NzEwMDk=", "number": 14820, "title": "Dashboard title with space", "user": { "login": "Laul0", "id": 15279205, "node_id": "MDQ6VXNlcjE1Mjc5MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/15279205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Laul0", "html_url": "https://github.com/Laul0", "followers_url": "https://api.github.com/users/Laul0/followers", "following_url": "https://api.github.com/users/Laul0/following{/other_user}", "gists_url": "https://api.github.com/users/Laul0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Laul0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Laul0/subscriptions", "organizations_url": "https://api.github.com/users/Laul0/orgs", "repos_url": "https://api.github.com/users/Laul0/repos", "events_url": "https://api.github.com/users/Laul0/events{/privacy}", "received_events_url": "https://api.github.com/users/Laul0/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-08-27T15:11:11Z", "updated_at": "2019-09-10T21:49:19Z", "closed_at": "2019-09-10T21:49:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Summary\r\n\r\nIt is possible to create several custom Dashboard without any restriction into the title of them.\r\n\r\n## Current behavior\r\n\r\nWhen I create a new Dashboard with a space into the title, the space is encoded (replaced by a `%20`)\r\n\r\n<img width=\"234\" alt=\"Screen Shot 2019-08-19 at 19 15 39\" src=\"https://user-images.githubusercontent.com/15279205/63783440-05027f00-c8bb-11e9-8206-451724193900.png\">\r\n\r\n## Expected behavior\r\n\r\nSeveral possibilities are available\r\n\r\n1. Prevent user to create a Dashboard with some special chars (useless because the dashboard title is not used into the URL)\r\n2. Allow special char but display them without encodage", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14820/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14819", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14819/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14819/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14819/events", "html_url": "https://github.com/matomo-org/matomo/issues/14819", "id": 485696730, "node_id": "MDU6SXNzdWU0ODU2OTY3MzA=", "number": 14819, "title": "Avoiding 7 days limitation of ITP 2.1 for 1st party cookies to identify returing users", "user": { "login": "Martin-Simon", "id": 54544444, "node_id": "MDQ6VXNlcjU0NTQ0NDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/54544444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Martin-Simon", "html_url": "https://github.com/Martin-Simon", "followers_url": "https://api.github.com/users/Martin-Simon/followers", "following_url": "https://api.github.com/users/Martin-Simon/following{/other_user}", "gists_url": "https://api.github.com/users/Martin-Simon/gists{/gist_id}", "starred_url": "https://api.github.com/users/Martin-Simon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Martin-Simon/subscriptions", "organizations_url": "https://api.github.com/users/Martin-Simon/orgs", "repos_url": "https://api.github.com/users/Martin-Simon/repos", "events_url": "https://api.github.com/users/Martin-Simon/events{/privacy}", "received_events_url": "https://api.github.com/users/Martin-Simon/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 2, "created_at": "2019-08-27T09:32:41Z", "updated_at": "2020-03-25T00:26:51Z", "closed_at": "2019-08-27T20:12:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "How can I avoid the 7 days limitation of ITP 2.1 for 1st party cookies to identify returing users even after 7 days with Matomo?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14819/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14819/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14818", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14818/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14818/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14818/events", "html_url": "https://github.com/matomo-org/matomo/issues/14818", "id": 485504643, "node_id": "MDU6SXNzdWU0ODU1MDQ2NDM=", "number": 14818, "title": "Create temporary table for segments only once instead of twice when archiving", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-26T23:36:45Z", "updated_at": "2019-10-27T20:30:55Z", "closed_at": "2019-09-10T21:20:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, when we archive, we initialize the `PluginsArchiver` twice. Once for core and once for the plugins here: https://github.com/matomo-org/matomo/blob/3.12.0-b2/core/ArchiveProcessor/Loader.php#L101-L117\r\n\r\nIn the PluginsArchiver's constructor we then first cleanup any possible temp table that already exists ( https://github.com/matomo-org/matomo/blob/3.12.0-b2/core/ArchiveProcessor/PluginsArchiver.php#L70-L71) and then later create the temp table as soon as a `LogAggregator::generateQuery` is called.\r\n\r\nThis means what we do is:\r\n\r\n* Start archiving core metrics\r\n* Cleanup temp table for segment if for some reason was not removed (eg a fatal error or memory issue etc and old MySQL version is used)\r\n* Create temp table for segment\r\n* archive core metrics\r\n* Finalise archive\r\n* Cleanup temp table for segment ===> This is the step we want to prevent but only if we actually go into the plugins archiver again to archive plugin metrics\r\n\r\n* Start archiving plugins metrics\r\n* Cleanup temp table for segment if for some reason was not removed (eg a fatal error or memory issue etc and old MySQL version is used) ===> This is the step we want to prevent\r\n* archive plugin metrics\r\n* Finalise archive\r\n* Cleanup temp table for segment\r\n\r\nThis will make segmenting again a bit faster as we avoid running the expensive segment query and avoid lots of inserts... ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14818/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14817", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14817/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14817/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14817/events", "html_url": "https://github.com/matomo-org/matomo/pull/14817", "id": 485483888, "node_id": "MDExOlB1bGxSZXF1ZXN0MzExMTIwMzUw", "number": 14817, "title": "update custom dimensions plugin", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-26T22:26:55Z", "updated_at": "2019-08-28T02:19:44Z", "closed_at": "2019-08-28T02:19:41Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14817", "html_url": "https://github.com/matomo-org/matomo/pull/14817", "diff_url": "https://github.com/matomo-org/matomo/pull/14817.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14817.patch", "merged_at": "2019-08-28T02:19:40Z" }, "body": "", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14817/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14817/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14816", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14816/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14816/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14816/events", "html_url": "https://github.com/matomo-org/matomo/pull/14816", "id": 485473814, "node_id": "MDExOlB1bGxSZXF1ZXN0MzExMTExOTUy", "number": 14816, "title": "Update archive status instead of delete and insert", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-26T21:58:50Z", "updated_at": "2019-08-29T22:18:51Z", "closed_at": "2019-08-29T22:18:48Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14816", "html_url": "https://github.com/matomo-org/matomo/pull/14816", "diff_url": "https://github.com/matomo-org/matomo/pull/14816.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14816.patch", "merged_at": "2019-08-29T22:18:48Z" }, "body": "", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14816/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14815", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14815/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14815/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14815/events", "html_url": "https://github.com/matomo-org/matomo/issues/14815", "id": 485360437, "node_id": "MDU6SXNzdWU0ODUzNjA0Mzc=", "number": 14815, "title": "Disable Action Pageview Grouping", "user": { "login": "ibril15", "id": 26365407, "node_id": "MDQ6VXNlcjI2MzY1NDA3", "avatar_url": "https://avatars.githubusercontent.com/u/26365407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibril15", "html_url": "https://github.com/ibril15", "followers_url": "https://api.github.com/users/ibril15/followers", "following_url": "https://api.github.com/users/ibril15/following{/other_user}", "gists_url": "https://api.github.com/users/ibril15/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibril15/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibril15/subscriptions", "organizations_url": "https://api.github.com/users/ibril15/orgs", "repos_url": "https://api.github.com/users/ibril15/repos", "events_url": "https://api.github.com/users/ibril15/events{/privacy}", "received_events_url": "https://api.github.com/users/ibril15/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 173323932, "node_id": "MDU6TGFiZWwxNzMzMjM5MzI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20New%20plugin", "name": "c: New plugin", "color": "006b75", "default": false, "description": "For features that probably will not be added to Matomo, but could be implemented as plugins." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 3, "created_at": "2019-08-26T17:53:40Z", "updated_at": "2019-08-30T00:47:15Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nOur website is loosely structured as an outer \"workspace\" and an inner \"content\" iframe, both of which are tracked in matomo. The outer workspace contains some of the main navigation as well as common actions (e.g. a \"Help\" link). The inner content iframe contains all of the actual site content and associated navigation, actions, etc.\r\n\r\n3.10 introduced \"action grouping\" in the visitor log (https://github.com/matomo-org/matomo/issues/13136), that makes actions show under the page where it occurs rather than chronologically. That's helpful for a lot of scenarios, but it takes away our ability to see things like \"what page was the user on when he clicked the 'Help' link\". Since the Help always exists on the outer workspace, all clicks on the Help will always show up under the original outer workspace page rather than under the latest page the user visited. To clarify:\r\n\r\nBefore Grouping the Visitor Log looked something like this:\r\n\r\n1. Outer Workspace Page\r\n2. Inner Content Page 1\r\n3. Inner Content Page 2\r\n4. Event - Workspace Help Link Clicked\r\n5. Inner Content Page 3\r\n6. Event - Workspace Navigation to Page 4\r\n7. Inner Content Page 4\r\n\r\nAfter Grouping the Visitor Log looks something like this:\r\n1. Outer Workspace Page\r\n2. Event - Workspace Help Link Clicked\r\n3. Event - Workspace Navigation to Page 4\r\n4. Inner Content Page 1\r\n5. Inner Content Page 2\r\n6. Inner Content Page 3\r\n7. Inner Content Page 4\r\n\r\nIs there any way to disable the grouping functionality, or otherwise specify in the Event triggering JS to associate the event with the latest page rather than the parent page? Thanks a lot.\r\n\r\n-Igor", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14815/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14815/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14814", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14814/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14814/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14814/events", "html_url": "https://github.com/matomo-org/matomo/issues/14814", "id": 485308338, "node_id": "MDU6SXNzdWU0ODUzMDgzMzg=", "number": 14814, "title": "Handle broken RSS feed more gracefully", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 137043266, "node_id": "MDU6TGFiZWwxMzcwNDMyNjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Usability", "name": "c: Usability", "color": "bfe5bf", "default": false, "description": "For issues that let users achieve a defined goal more effectively or efficiently." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-26T15:52:12Z", "updated_at": "2019-10-27T20:30:55Z", "closed_at": "2019-10-02T20:03:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "see also https://github.com/matomo-org/matomo/issues/13062\r\nAs the Matomo RSS feed is currently down (https://github.com/matomo-org/matomo/issues/14813), Matomo instances show the following error:\r\n```\r\nplugins/RssWidget/RssRenderer.php(59): Warning - simplexml_load_string(): Entity: line 2: parser error : Extra content at the end of the document - Matomo 3.11.0 - Please report this message in the Matomo forums: https://forum.matomo.org (please do a search first as it might have been reported already)\r\n```\r\n\r\nI guess instead of a non-userfriendly xml error we should show information that fetching the RSS feed didn't work.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14814/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14813", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14813/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14813/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14813/events", "html_url": "https://github.com/matomo-org/matomo/issues/14813", "id": 485081913, "node_id": "MDU6SXNzdWU0ODUwODE5MTM=", "number": 14813, "title": "Matomo.org changelog feed returns 404", "user": { "login": "tomaxuser", "id": 1076199, "node_id": "MDQ6VXNlcjEwNzYxOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1076199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomaxuser", "html_url": "https://github.com/tomaxuser", "followers_url": "https://api.github.com/users/tomaxuser/followers", "following_url": "https://api.github.com/users/tomaxuser/following{/other_user}", "gists_url": "https://api.github.com/users/tomaxuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomaxuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomaxuser/subscriptions", "organizations_url": "https://api.github.com/users/tomaxuser/orgs", "repos_url": "https://api.github.com/users/tomaxuser/repos", "events_url": "https://api.github.com/users/tomaxuser/events{/privacy}", "received_events_url": "https://api.github.com/users/tomaxuser/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370559, "node_id": "MDU6TGFiZWwxMTIzNzA1NTk=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Website%20matomo.org", "name": "c: Website matomo.org", "color": "d4c5f9", "default": false, "description": "For issues related to our matomo.org website." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 2, "created_at": "2019-08-26T07:10:38Z", "updated_at": "2019-10-27T20:30:54Z", "closed_at": "2019-08-26T21:17:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to access link https://matomo.org/changelog/feed on page https://matomo.org/changelog/, I get 404. Seems to have stopped working today.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14813/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14812", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14812/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14812/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14812/events", "html_url": "https://github.com/matomo-org/matomo/issues/14812", "id": 485023230, "node_id": "MDU6SXNzdWU0ODUwMjMyMzA=", "number": 14812, "title": "Improve archive writing", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." } ], "state": "closed", "locked": false, "assignee": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 2, "created_at": "2019-08-26T03:21:49Z", "updated_at": "2019-09-03T01:20:06Z", "closed_at": "2019-09-03T01:20:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Matomo provides a fast way to insert many archives using load data infile see https://matomo.org/faq/troubleshooting/faq_194/ \r\n\r\nThis works when calling `insertBlobRecord` https://github.com/matomo-org/matomo/blob/3.12.0-b2/core/DataAccess/ArchiveWriter.php#L95\r\n\r\nHowever, it works only when inserting multiple records at once. Mostly, we only insert one data table / archive at once and therefore it never makes use of this performance optimisation.\r\n\r\nThe idea be to not directly insert archives there, but only group insert them once there are eg 10 or 20 or 50 archives. This shouldn't be a memory issue but we may need to check that we don't hold too many data in memory.\r\n\r\nLogin be like this:\r\n\r\n* Call insertBlobRecord($records)\r\n* Add it to an archive cache like `array_merge($this->archivesToInsert, $records)`\r\n* Are there more than say 30 records in $this->archivesToInsert ?\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Yes => Actually insert them\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb No => Do not insert them\r\n* After archiving, when calling `finalizeArchive()` we would insert all remaining archives that haven't been inserted yet.\r\n\r\nWe need to figure out re memory what is a good size of number of dataTables to store in a cache... I reckon 10 should be fine for sure, possibly even 50 or 100. ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14812/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14811", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14811/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14811/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14811/events", "html_url": "https://github.com/matomo-org/matomo/pull/14811", "id": 484985700, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEwNzIxMjk5", "number": 14811, "title": "Don't allow update 0 plugin", "user": { "login": "MrYamous", "id": 32437818, "node_id": "MDQ6VXNlcjMyNDM3ODE4", "avatar_url": "https://avatars.githubusercontent.com/u/32437818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrYamous", "html_url": "https://github.com/MrYamous", "followers_url": "https://api.github.com/users/MrYamous/followers", "following_url": "https://api.github.com/users/MrYamous/following{/other_user}", "gists_url": "https://api.github.com/users/MrYamous/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrYamous/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrYamous/subscriptions", "organizations_url": "https://api.github.com/users/MrYamous/orgs", "repos_url": "https://api.github.com/users/MrYamous/repos", "events_url": "https://api.github.com/users/MrYamous/events{/privacy}", "received_events_url": "https://api.github.com/users/MrYamous/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-08-25T22:52:14Z", "updated_at": "2019-10-09T03:45:42Z", "closed_at": "2019-10-09T03:45:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14811", "html_url": "https://github.com/matomo-org/matomo/pull/14811", "diff_url": "https://github.com/matomo-org/matomo/pull/14811.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14811.patch", "merged_at": "2019-10-09T03:45:34Z" }, "body": "Fix for issue #14785 \r\n\r\nButton for updating plugins is now disabled by default, enabled if at least one plugin is selected", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14811/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14810", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14810/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14810/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14810/events", "html_url": "https://github.com/matomo-org/matomo/issues/14810", "id": 484980389, "node_id": "MDU6SXNzdWU0ODQ5ODAzODk=", "number": 14810, "title": "Add possibility to specify a different today archive time for segments", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 0, "created_at": "2019-08-25T21:51:45Z", "updated_at": "2020-01-21T05:00:48Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "We can already configure `time_before_today_archive_considered_outdated = XYZ` to ensure we regenerate an archive only every XYZ seconds.\r\n\r\nSometimes, when you have segments, you may not want to process them as often though as these are maybe viewed less often or because they are expensive to archive. So you maybe want to archive today every 30 minutes, but segments only every 2 hours.\r\n\r\nIt be good to have a setting `time_before_today_segments_archive_considered_outdated = XYZ` which only applies to archives with segments.\r\n\r\nI'm seeing in the code `Piwik\\ArchiveProcessor\\Rules::getTodayArchiveTimeToLive()` is used in quite a few places and all the calling methods would need to be tweaked to also parse a segment instance (or segment string or something) as a parameter so we can read the correct config value. Seems also archive purging might depend on this where we maybe want to use for simplicity (`min|max(todayArchiveTimeOutdated, todaySegmentArchiveTimeOutdated)`) if it makes it any simpler.\r\n\r\nWe also need to make sure that when a new segment is being added, it will be archived right away the next time `core:archive` runs. So we need to make sure `time_before_today_archive_considered_outdated` does not block the archiving of a new segment.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14810/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14810/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14809", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14809/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14809/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14809/events", "html_url": "https://github.com/matomo-org/matomo/pull/14809", "id": 484955049, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEwNzAwOTQ1", "number": 14809, "title": "submodule updates & test fixes", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-25T17:25:47Z", "updated_at": "2019-10-25T02:50:39Z", "closed_at": "2019-08-25T17:26:00Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14809", "html_url": "https://github.com/matomo-org/matomo/pull/14809", "diff_url": "https://github.com/matomo-org/matomo/pull/14809.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14809.patch", "merged_at": "2019-08-25T17:26:00Z" }, "body": "", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14809/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14809/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14808", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14808/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14808/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14808/events", "html_url": "https://github.com/matomo-org/matomo/pull/14808", "id": 484909718, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEwNjcwODYy", "number": 14808, "title": "Fix MatomoSenior string in Tour", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 3, "created_at": "2019-08-25T09:23:13Z", "updated_at": "2019-10-25T04:16:23Z", "closed_at": "2019-08-26T01:07:22Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14808", "html_url": "https://github.com/matomo-org/matomo/pull/14808", "diff_url": "https://github.com/matomo-org/matomo/pull/14808.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14808.patch", "merged_at": "2019-08-26T01:07:22Z" }, "body": "just noticed it when checking the translations", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14808/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14808/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14807", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14807/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14807/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14807/events", "html_url": "https://github.com/matomo-org/matomo/pull/14807", "id": 484908041, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEwNjY5Njky", "number": 14807, "title": "[automatic translation update] Updated 1137 strings in 46 languages (da, ar, be, bg, bs, ca, cs, de, el, eo, es-ar, es, et, fa, fi, fr, he, hi, hu, id, is, it, ja, ko, lt, nb, nl, nn, pl, pt-br, pt, ro, ru, sk, sl, sq, sr, sv, ta, th, tl, tr, uk, vi, zh-cn, zh-tw)", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-25T09:03:10Z", "updated_at": "2019-08-25T09:26:58Z", "closed_at": "2019-08-25T09:07:37Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14807", "html_url": "https://github.com/matomo-org/matomo/pull/14807", "diff_url": "https://github.com/matomo-org/matomo/pull/14807.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14807.patch", "merged_at": "2019-08-25T09:07:37Z" }, "body": "- Updated Danish (151 changes / 78% translated)\n- Added Arabic (6 changes / 55% translated)\n- Added Belarusian (5 changes / 43% translated)\n- Added Bulgarian (6 changes / 61% translated)\n- Added Bosnian (5 changes / 34% translated)\n- Added Catalan (6 changes / 57% translated)\n- Added Czech (7 changes / 77% translated)\n- Updated German (76 changes / 99% translated)\n- Updated Greek (66 changes / 99% translated)\n- Added Esperanto (5 changes / 32% translated)\n- Updated Spanish (Argentina) (70 changes / 71% translated)\n- Updated Spanish (30 changes / 98% translated)\n- Added Estonian (6 changes / 54% translated)\n- Updated Persian (33 changes / 65% translated)\n- Updated Finnish (54 changes / 82% translated)\n- Updated French (65 changes / 99% translated)\n- Added Hebrew (6 changes / 44% translated)\n- Added Hindi (6 changes / 60% translated)\n- Added Hungarian (6 changes / 48% translated)\n- Added Indonesian (7 changes / 63% translated)\n- Added Icelandic (5 changes / 33% translated)\n- Updated Italian (71 changes / 99% translated)\n- Updated Japanese (25 changes / 98% translated)\n- Added Korean (6 changes / 65% translated)\n- Added Lithuanian (5 changes / 48% translated)\n- Added Norwegian Bokml (6 changes / 66% translated)\n- Added Dutch (24 changes / 84% translated)\n- Added Norwegian Nynorsk (6 changes / 41% translated)\n- Updated Polish (40 changes / 84% translated)\n- Updated Brazilian Portuguese (71 changes / 83% translated)\n- Added Portuguese (8 changes / 96% translated)\n- Added Romanian (6 changes / 63% translated)\n- Added Russian (7 changes / 79% translated)\n- Added Slovak (6 changes / 53% translated)\n- Added Slovenian (6 changes / 47% translated)\n- Updated Albanian (66 changes / 99% translated)\n- Added Serbian (7 changes / 73% translated)\n- Added Swedish (7 changes / 87% translated)\n- Added Tamil (5 changes / 39% translated)\n- Added Thai (5 changes / 45% translated)\n- Added Tagalog (5 changes / 59% translated)\n- Updated Turkish (66 changes / 99% translated)\n- Added Ukrainian (7 changes / 74% translated)\n- Updated Vietnamese (48 changes / 62% translated)\n- Added Simplified Chinese (6 changes / 73% translated)\n- Added Traditional Chinese (7 changes / 82% translated)\n\n\nHelp us translate Matomo in your language!\nSignup at https://www.transifex.com/matomo/matomo/\nIf you have any questions, get in touch with us at translations@matomo.org", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14807/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14806", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14806/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14806/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14806/events", "html_url": "https://github.com/matomo-org/matomo/issues/14806", "id": 484890217, "node_id": "MDU6SXNzdWU0ODQ4OTAyMTc=", "number": 14806, "title": "plugins can be enumerated if you know their file paths", "user": { "login": "sixcorners", "id": 585501, "node_id": "MDQ6VXNlcjU4NTUwMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/585501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sixcorners", "html_url": "https://github.com/sixcorners", "followers_url": "https://api.github.com/users/sixcorners/followers", "following_url": "https://api.github.com/users/sixcorners/following{/other_user}", "gists_url": "https://api.github.com/users/sixcorners/gists{/gist_id}", "starred_url": "https://api.github.com/users/sixcorners/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sixcorners/subscriptions", "organizations_url": "https://api.github.com/users/sixcorners/orgs", "repos_url": "https://api.github.com/users/sixcorners/repos", "events_url": "https://api.github.com/users/sixcorners/events{/privacy}", "received_events_url": "https://api.github.com/users/sixcorners/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-08-25T04:46:54Z", "updated_at": "2019-10-27T20:30:54Z", "closed_at": "2019-08-25T04:55:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Links like this:\r\nhttps://matomo.asdf/plugins/BotTracker/plugin.json\r\nresolve and show what plugins you have installed.\r\nIt would be nice if this wasn't exposed.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14806/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14806/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14805", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14805/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14805/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14805/events", "html_url": "https://github.com/matomo-org/matomo/issues/14805", "id": 484889081, "node_id": "MDU6SXNzdWU0ODQ4ODkwODE=", "number": 14805, "title": "Fatal error when trying to run the archive command.", "user": { "login": "sixcorners", "id": 585501, "node_id": "MDQ6VXNlcjU4NTUwMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/585501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sixcorners", "html_url": "https://github.com/sixcorners", "followers_url": "https://api.github.com/users/sixcorners/followers", "following_url": "https://api.github.com/users/sixcorners/following{/other_user}", "gists_url": "https://api.github.com/users/sixcorners/gists{/gist_id}", "starred_url": "https://api.github.com/users/sixcorners/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sixcorners/subscriptions", "organizations_url": "https://api.github.com/users/sixcorners/orgs", "repos_url": "https://api.github.com/users/sixcorners/repos", "events_url": "https://api.github.com/users/sixcorners/events{/privacy}", "received_events_url": "https://api.github.com/users/sixcorners/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-08-25T04:27:03Z", "updated_at": "2019-10-27T20:30:54Z", "closed_at": "2019-08-25T04:56:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am getting a fatal error when trying to run console core:archive.\r\n> Warning: require(../protected/config/global.php): failed to open stream: No\r\n> such file or directory in\r\n> /home/public/vendor/php-di/php-di/src/DI/Definition/Source/DefinitionFile.php\r\n> on line 56\r\n> \r\n> Fatal error: require(): Failed opening required\r\n> '../protected/config/global.php'\r\n> (include_path='/home/public/vendor/pear/pear_exception:/home/public/vendor/pear/console_getopt:/home/public/vendor/pear/pear-core-minimal/src:/home/public/vendor/pear/archive_tar:.://usr/local/php/7.2.21-nfsn1/lib/:/usr/local/php/lib/')\r\n> in\r\n> /home/public/vendor/php-di/php-di/src/DI/Definition/Source/DefinitionFile.php\r\n> on line 56\r\n> /home/public/console core:archive --url=https://matomo.asdf/\r\n> exited with return code 255\r\n> \r\nMy bootstrap.php looks like this\r\n```php\r\n<?php\r\ndefine('PIWIK_USER_PATH', '../protected');\r\n```", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14805/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14804", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14804/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14804/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14804/events", "html_url": "https://github.com/matomo-org/matomo/issues/14804", "id": 484683118, "node_id": "MDU6SXNzdWU0ODQ2ODMxMTg=", "number": 14804, "title": "Auto-archive mysql prepare error: lost connection to MySQL server during query -in plugin Actions", "user": { "login": "lexlpz", "id": 43358626, "node_id": "MDQ6VXNlcjQzMzU4NjI2", "avatar_url": "https://avatars.githubusercontent.com/u/43358626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lexlpz", "html_url": "https://github.com/lexlpz", "followers_url": "https://api.github.com/users/lexlpz/followers", "following_url": "https://api.github.com/users/lexlpz/following{/other_user}", "gists_url": "https://api.github.com/users/lexlpz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lexlpz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lexlpz/subscriptions", "organizations_url": "https://api.github.com/users/lexlpz/orgs", "repos_url": "https://api.github.com/users/lexlpz/repos", "events_url": "https://api.github.com/users/lexlpz/events{/privacy}", "received_events_url": "https://api.github.com/users/lexlpz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 1, "created_at": "2019-08-23T19:42:16Z", "updated_at": "2019-10-27T20:30:54Z", "closed_at": "2019-08-23T22:57:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi guys,\r\nA couple of days ago I updated PHP to version 7.3 and everything is working fine except Matomo. I checked on the website and it should be fully compatible, so I decided to look the issue up over here. I couldn't find the same issue posted, my apologies in advance if it actually is posted here. \r\n\r\nThe issue I am facing is with the auto archive, eventhough it looks more like a MySQL issue but I would like your guidance. I have the auto archive set up every hour and since the update to PHP 7.3 I get an error email from the cron task: \r\n\r\n`ERROR [2019-08-23 18:07:07] 1388920 Got invalid response from API request: ?module=API&method=API.get&idSite=2&period=day&date=last3&format=php&trigger=archivephp. Response was 'a:2:{s:6:\"result\";s:5:\"error\";s:7:\"message\";s:165:\"Mysqli prepare error: Lost connection to MySQL server during query - in plugin Actions, caused by: Mysqli prepare error: Lost connection to MySQL server during query\";}'\r\nERROR [2019-08-23 18:07:07] 1388920 Empty or invalid response '' for website id 2, Time elapsed: 2.260s, skipping ERROR [2019-08-23 18:07:08] 1388920 Got invalid response from API request: ?module=API&method=API.get&idSite=3&period=day&date=last3&format=php&trigger=archivephp. Response was 'a:2:{s:6:\"result\";s:5:\"error\";s:7:\"message\";s:165:\"Mysqli prepare error: Lost connection to MySQL server during query - in plugin Actions, caused by: Mysqli prepare error: Lost connection to MySQL server during query\";}'\r\nERROR [2019-08-23 18:07:08] 1388920 Empty or invalid response '' for website id 3, Time elapsed: 0.687s, skipping ERROR [2019-08-23 18:07:09] 1388920 Got invalid response from API request: ?module=API&method=API.get&idSite=4&period=day&date=last4&format=php&trigger=archivephp. Response was 'a:2:{s:6:\"result\";s:5:\"error\";s:7:\"message\";s:167:\"Mysqli prepare error: Lost connection to MySQL server during query - in plugin Referrers, caused by: Mysqli prepare error: Lost connection to MySQL server during query\";}'\r\nERROR [2019-08-23 18:07:09] 1388920 Empty or invalid response '' for website id 4, Time elapsed: 0.722s, skipping ERROR [2019-08-23 18:07:10] 1388920 Got invalid response from API request: ?module=API&method=API.get&idSite=5&period=day&date=last2&format=php&trigger=archivephp. Response was 'a:2:{s:6:\"result\";s:5:\"error\";s:7:\"message\";s:167:\"Mysqli prepare error: Lost connection to MySQL server during query - in plugin Referrers, caused by: Mysqli prepare error: Lost connection to MySQL server during query\";}'\r\nERROR [2019-08-23 18:07:10] 1388920 Empty or invalid response '' for website id 5, Time elapsed: 1.051s, skipping ERROR [2019-08-23 18:07:11] 1388920 8 total errors during this script execution, please investigate and try and fix these errors.\r\n \r\n [Exception] \r\n 8 total errors during this script execution, please investigate and try and fix these errors. \r\n \r\ncore:archive [--url=\"...\"] [--force-all-websites] [--force-all-periods[=\"...\"]] [--force-timeout-for-periods[=\"...\"]] [--skip-idsites[=\"...\"]] [--skip-all-segments] [--force-idsites[=\"...\"]] [--force-periods[=\"...\"]] [--force-date-last-n=\"...\"] [--force-date-range[=\"...\"]] [--force-idsegments=\"...\"] [--concurrent-requests-per-website[=\"...\"]] [--concurrent-archivers[=\"...\"]] [--disable-scheduled-tasks] [--accept-invalid-ssl-certificate] [--php-cli-options[=\"...\"]]\r\n`\r\nCould it be the innodb_log_file_size parameter of MySQL? I have my Matomo installation on a shared host. \r\nAny help would be greatly appreciated. \r\n\r\nThese are my versions:\r\nMatomo version: 3.11.0\r\nMySQL version: 10.1.41-MariaDB-cll-lve\r\nPHP version: 7.3.8\r\n\r\nThank you in advance,\r\nAlex.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14804/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14804/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14803", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14803/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14803/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14803/events", "html_url": "https://github.com/matomo-org/matomo/pull/14803", "id": 484216441, "node_id": "MDExOlB1bGxSZXF1ZXN0MzEwMTQzNjM5", "number": 14803, "title": "For DB reader copy charset config from writer", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-22T21:06:16Z", "updated_at": "2019-08-30T10:08:22Z", "closed_at": "2019-08-25T16:00:48Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/14803", "html_url": "https://github.com/matomo-org/matomo/pull/14803", "diff_url": "https://github.com/matomo-org/matomo/pull/14803.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/14803.patch", "merged_at": "2019-08-25T16:00:48Z" }, "body": "fyi @mattab ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14803/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14802", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14802/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14802/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14802/events", "html_url": "https://github.com/matomo-org/matomo/issues/14802", "id": 484073260, "node_id": "MDU6SXNzdWU0ODQwNzMyNjA=", "number": 14802, "title": "When log deletion is enabled, do not allow import of any older data ", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." } ], "state": "closed", "locked": false, "assignee": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-22T15:42:52Z", "updated_at": "2019-09-03T21:09:48Z", "closed_at": "2019-09-03T21:09:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Say you configured logs to be deleted after 3 months in the privacy settings, then we don't want to allow the tracking of any data that is older than 3 months as we would delete them again anyway.\r\n\r\nWe could also add new tracking failure type for this maybe but to be seen.\r\n\r\nKind of similar to https://github.com/matomo-org/matomo/issues/14801 we want to fail early when this is the case. Right after https://github.com/matomo-org/matomo/blob/3.12.0-b1/core/Tracker/Visit.php#L131 we want to get the timestamp, and if a request time is older than a potentially configured log deletion time, then we need to discard the request.\r\n\r\nThis logic is only performed if log deletion is enabled (`delete_logs_enable = 1`)\r\n\r\nAnd we discard the tracking request using `InvalidRequestParameterException()` only if the `$request->currentTimestamp()` is older than (`delete_logs_schedule_lowest_interval` + `delete_logs_older_than`)`. AFAIK both privacy config values are configured in days.\r\n\r\nTo make this performant we need to make sure the data is read from the cache. We can set the config values for these settings here: https://github.com/matomo-org/matomo/blob/3.12.0-b1/plugins/PrivacyManager/PrivacyManager.php#L205 like (just pseudo code)\r\n\r\n```php\r\n$caeche['privacymanager']['delete_logs_enable'] = PurgeDataSettings[...]\r\n$caeche['privacymanager']['delete_logs_schedule_lowest_interval'] = PurgeDataSettings[...]\r\n$caeche['privacymanager']['delete_logs_older_than'] = PurgeDataSettings[...]\r\n```\r\n\r\nAnd then read them in `Visit.php` like `$cache = Tracker\\Cache::getCacheGeneral()` and then do like (just pseudo code)\r\n```php\r\nif (!empty($cache['privacymanager']['delete_logs_enable']) && !empty($caeche['privacymanager']['delete_logs_older_than'])){ \r\n$timeDropRequest = time() - (delete_logs_schedule_lowest_interval + delete_logs_older_than) commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb 60*60*24);\r\nif ($request->getCurrentTimestamp() < timeDropRequest) {} \r\n}\r\n```\r\n\r\nThe log deletion setting can be configured in the privacy manager UI or in the config currently but that's not really relevant for this.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14802/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14802/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14801", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/14801/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/14801/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/14801/events", "html_url": "https://github.com/matomo-org/matomo/issues/14801", "id": 484059380, "node_id": "MDU6SXNzdWU0ODQwNTkzODA=", "number": 14801, "title": "Detect if tracking request needs authentication but is not yet, ideally before any DB connection", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." } ], "state": "closed", "locked": false, "assignee": { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "katebutler", "id": 4185912, "node_id": "MDQ6VXNlcjQxODU5MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/4185912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katebutler", "html_url": "https://github.com/katebutler", "followers_url": "https://api.github.com/users/katebutler/followers", "following_url": "https://api.github.com/users/katebutler/following{/other_user}", "gists_url": "https://api.github.com/users/katebutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/katebutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katebutler/subscriptions", "organizations_url": "https://api.github.com/users/katebutler/orgs", "repos_url": "https://api.github.com/users/katebutler/repos", "events_url": "https://api.github.com/users/katebutler/events{/privacy}", "received_events_url": "https://api.github.com/users/katebutler/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/127", "html_url": "https://github.com/matomo-org/matomo/milestone/127", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/127/labels", "id": 4514074, "node_id": "MDk6TWlsZXN0b25lNDUxNDA3NA==", "number": 127, "title": "3.12.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 300, "state": "closed", "created_at": "2019-07-23T10:35:25Z", "updated_at": "2020-02-27T08:59:51Z", "due_on": "2019-10-15T07:00:00Z", "closed_at": "2019-10-29T04:16:44Z" }, "comments": 0, "created_at": "2019-08-22T15:22:10Z", "updated_at": "2019-10-25T02:36:06Z", "closed_at": "2019-08-29T03:47:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In https://github.com/matomo-org/matomo/blob/3.12.0-b1/core/Tracker/Visit.php#L123 we already check early whether the site exists before doing any \"work\". \r\n\r\nThe same way we should check if a tracking API parameter is used that requires authentication very early in the request (after the site request). We're wanting to this for tracking API request parameters where we know the request would fail otherwise.\r\n\r\nWe're wanting to do this after `manipulateRequest()` was called. So basically here: https://github.com/matomo-org/matomo/blob/3.12.0-b1/core/Tracker/Visit.php#L131\r\n\r\nLike `cdt`, `region`, `city`, `country`, `long`, `lat` (and other tracking parameters that fail in `Piwik\\Plugins\\UserCountry\\Columns\\Base`).\r\n\r\nIf any of them are set, and request is not authenticated, we fail right away. The tracking failure should be still logged which is done in `Request::authenticateTrackingApi()` and should just work automatically.\r\n\r\nTo validate `cdt` it may be enough to call `$trackerRequest->getCurrentTimestamp()` which will then trigger the exception.\r\n\r\nFor the location tracking parameters we would throw an exception like in `Piwik\\Plugins\\UserCountry\\Columns\\Base::getUrlOverrideValueIfAllowed()`.\r\n\r\nWe probably don't need any tests for this as behaviour should just stay the same. need to make sure though (eg manually) that when using one of those parameters, and we are not authenticated with token_auth that a tracking failure is triggered \r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/14801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/14801/timeline", "performed_via_github_app": null, "state_reason": "completed" } ]
