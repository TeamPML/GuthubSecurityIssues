[ { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18380", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18380/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18380/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18380/events", "html_url": "https://github.com/matomo-org/matomo/pull/18380", "id": 1064041833, "node_id": "PR_kwDOABefqs4vCoAg", "number": 18380, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-26T02:13:34Z", "updated_at": "2021-11-26T08:22:34Z", "closed_at": "2021-11-26T08:22:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18380", "html_url": "https://github.com/matomo-org/matomo/pull/18380", "diff_url": "https://github.com/matomo-org/matomo/pull/18380.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18380.patch", "merged_at": "2021-11-26T08:22:22Z" }, "body": "Updated submodules:\n- plugins/TagManager\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18380/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18380/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18379", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18379/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18379/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18379/events", "html_url": "https://github.com/matomo-org/matomo/pull/18379", "id": 1063932388, "node_id": "PR_kwDOABefqs4vCQ1O", "number": 18379, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-11-25T21:42:35Z", "updated_at": "2021-11-26T02:13:04Z", "closed_at": "2021-11-26T02:13:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18379", "html_url": "https://github.com/matomo-org/matomo/pull/18379", "diff_url": "https://github.com/matomo-org/matomo/pull/18379.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18379.patch", "merged_at": null }, "body": "Updated submodules:\n- plugins/TagManager\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18379/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18379/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18378", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18378/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18378/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18378/events", "html_url": "https://github.com/matomo-org/matomo/issues/18378", "id": 1063268436, "node_id": "I_kwDOABefqs4_YDBU", "number": 18378, "title": "The newly added daily mail report cannot be sent on the same dayÔºÅ", "user": { "login": "keller31", "id": 17230513, "node_id": "MDQ6VXNlcjE3MjMwNTEz", "avatar_url": "https://avatars.githubusercontent.com/u/17230513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keller31", "html_url": "https://github.com/keller31", "followers_url": "https://api.github.com/users/keller31/followers", "following_url": "https://api.github.com/users/keller31/following{/other_user}", "gists_url": "https://api.github.com/users/keller31/gists{/gist_id}", "starred_url": "https://api.github.com/users/keller31/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keller31/subscriptions", "organizations_url": "https://api.github.com/users/keller31/orgs", "repos_url": "https://api.github.com/users/keller31/repos", "events_url": "https://api.github.com/users/keller31/events{/privacy}", "received_events_url": "https://api.github.com/users/keller31/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-11-25T08:05:17Z", "updated_at": "2021-11-25T14:27:36Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "The newly added daily mail report cannot be sent on the same day!\r\n\r\n## Steps to Reproduce\r\n1. Add a new daily email report, such as 4:00 pm (current 2:00 pm)\r\n2. No email report will be sent at 4:00 pm on the same day\r\n3. Check TasksTimetable to find the task at 4:00 pm the next day\r\n\r\n\r\n## Environment\r\n* Matomo Version: 4.5.0\r\n* PHP Version: 7.4\r\n* \r\n![image](https://user-images.githubusercontent.com/17230513/143402802-7ab49fe5-59eb-459c-99a4-46a4614c9ba1.png)", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18378/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18377", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18377/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18377/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18377/events", "html_url": "https://github.com/matomo-org/matomo/pull/18377", "id": 1063068724, "node_id": "PR_kwDOABefqs4u_nN9", "number": 18377, "title": "[Vue] fix modal notification placement", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 2, "created_at": "2021-11-25T01:33:42Z", "updated_at": "2021-11-26T13:57:52Z", "closed_at": "2021-11-26T13:57:52Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18377", "html_url": "https://github.com/matomo-org/matomo/pull/18377", "diff_url": "https://github.com/matomo-org/matomo/pull/18377.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18377.patch", "merged_at": "2021-11-26T13:57:51Z" }, "body": "### Description:\r\n\r\nChanges:\r\n* Use separate div in modals to display notifications otherwise Vue will erase modal content when initializing NotificationGroup \r\ncomponent.\r\n* make sure modal notifications have the right group so they are only displayed in the modal.\r\n\r\nThis should be visible in the TagManager tests.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18377/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18376", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18376/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18376/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18376/events", "html_url": "https://github.com/matomo-org/matomo/issues/18376", "id": 1062989232, "node_id": "I_kwDOABefqs4_W-2w", "number": 18376, "title": "When viewing a disabled API period, then the actual error message might not be shown in the report", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-11-24T23:10:28Z", "updated_at": "2021-11-24T23:10:28Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "I have disabled range like this in the config file `enabled_periods_API = \"day,week,month,year\"`\r\n\r\nThen I viewed the Goals overview page and got a generic error \r\n![image](https://user-images.githubusercontent.com/273120/143323935-fa0882a9-7137-4e85-800b-23601d08d37c.png)\r\n\r\nLooking at the request there is this error:\r\n\r\n```\r\n<div class='alert alert-danger'><strong>Error:</strong> The period &#039;range&#039; is not supported. Try any of the following instead: day, week, month, year</div>\r\n```\r\n\r\nNot too important as we would usually expect that people then also disable it in the UI.\r\n\r\nOr maybe eventually if disabled in the API, it would be also disabled in the UI automatically.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18376/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18375", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18375/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18375/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18375/events", "html_url": "https://github.com/matomo-org/matomo/issues/18375", "id": 1062965176, "node_id": "I_kwDOABefqs4_W4-4", "number": 18375, "title": "Set default limit for concurrent archivers", "user": { "login": "Starker3", "id": 20905821, "node_id": "MDQ6VXNlcjIwOTA1ODIx", "avatar_url": "https://avatars.githubusercontent.com/u/20905821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Starker3", "html_url": "https://github.com/Starker3", "followers_url": "https://api.github.com/users/Starker3/followers", "following_url": "https://api.github.com/users/Starker3/following{/other_user}", "gists_url": "https://api.github.com/users/Starker3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Starker3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Starker3/subscriptions", "organizations_url": "https://api.github.com/users/Starker3/orgs", "repos_url": "https://api.github.com/users/Starker3/repos", "events_url": "https://api.github.com/users/Starker3/events{/privacy}", "received_events_url": "https://api.github.com/users/Starker3/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/134", "html_url": "https://github.com/matomo-org/matomo/milestone/134", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/134/labels", "id": 5099423, "node_id": "MDk6TWlsZXN0b25lNTA5OTQyMw==", "number": 134, "title": "5.0.0", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 28, "closed_issues": 49, "state": "open", "created_at": "2020-02-12T19:41:40Z", "updated_at": "2022-09-30T00:23:49Z", "due_on": "2022-05-18T07:00:00Z", "closed_at": null }, "comments": 7, "created_at": "2021-11-24T22:30:16Z", "updated_at": "2022-08-14T21:12:58Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently when someone sets up a core:archive crontab, the recommendation is to just simply set it without any additional options: https://matomo.org/docs/setup-auto-archiving/\r\n\r\nIn a lot of cases this works without any issues. However, if for some reason a particular run of the core:archive takes longer than usual (For example lots of tracking data all of a sudden) or for instances that track a lot data already this may lead to many concurrent archivers running at the same time. \r\nThis in turn results in even slower archiving performance and becomes a negative feedback loop eventually resulting in the database server hitting 100% CPU usage.\r\n\r\nIt would be great if we could set a default limit to the number of concurrently running archivers (Maybe some like a default max of 3 archivers).\r\nI don't think this would have any impact on people not already setting the number of concurrent archivers. The one negative would be that if someone wanted to run a manual core:archive command and there are already core:archive commands running, then this would cause that archiver to exit.\r\nIn this case maybe an additional option to disable the check for maximum archivers might work for example. (We could also hint this in the output when the archiver exits for this reason).\r\n\r\nOne example of how this impacted 2 customers recently: One customer ended up with over 60 core:archive crontabs starting over a period of one or two days. This caused the CPU of the Reader database to hit 100% consistently and none of the core:archivers were able to finish because the database server was already way overloaded with requests.\r\n\r\nThe other customer did not have a Reader database setup and they ended up with around 25 concurrent archivers running which caused CPU to hit 100% consistently. This prevented them from being able to use Matomo (They were not even able to load the UI)", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18375/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18374", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18374/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18374/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18374/events", "html_url": "https://github.com/matomo-org/matomo/issues/18374", "id": 1062958091, "node_id": "I_kwDOABefqs4_W3QL", "number": 18374, "title": "[PHP8.1] Deprecated return type of HTML_QuickForm2_ContainerIterator", "user": { "login": "MichaIng", "id": 28480705, "node_id": "MDQ6VXNlcjI4NDgwNzA1", "avatar_url": "https://avatars.githubusercontent.com/u/28480705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaIng", "html_url": "https://github.com/MichaIng", "followers_url": "https://api.github.com/users/MichaIng/followers", "following_url": "https://api.github.com/users/MichaIng/following{/other_user}", "gists_url": "https://api.github.com/users/MichaIng/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaIng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaIng/subscriptions", "organizations_url": "https://api.github.com/users/MichaIng/orgs", "repos_url": "https://api.github.com/users/MichaIng/repos", "events_url": "https://api.github.com/users/MichaIng/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaIng/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 7, "created_at": "2021-11-24T22:20:01Z", "updated_at": "2021-12-02T20:34:52Z", "closed_at": "2021-12-02T20:21:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n<!-- Important: If this bug is regarding a premium plugin you purchased on plugins.matomo.org, please email shop@innocraft.com instead of creating a bug report here. -->\r\n\r\nEven after #18309 there are still two deprecation warnings in this script:\r\n```\r\nPHP Deprecated: Return type of HTML_QuickForm2_ContainerIterator::hasChildren() should either be compatible with RecursiveArrayIterator::hasChildren(): bool, or the #[\\ReturnTypeWillChange] attribute should be used to temporarily suppress the notice in /var/www/matomo/libs/HTML/QuickForm2/Container.php on line 68\r\nPHP Deprecated: Return type of HTML_QuickForm2_ContainerIterator::getChildren() should either be compatible with RecursiveArrayIterator::getChildren(): ?RecursiveArrayIterator, or the #[\\ReturnTypeWillChange] attribute should be used to temporarily suppress the notice in /var/www/matomo/libs/HTML/QuickForm2/Container.php on line 74\r\n```\r\n\r\n## Expected Behavior\r\n<!-- When describing a bug, please tell us what should happen -->\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\n\r\nNo deprecation warnings.\r\n\r\n## Current Behavior\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\n\r\nDeprecation warnings as shown above.\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\n\r\nWhile this is not a good solution, I currently muted those via:\r\n```php\r\n #[\\ReturnTypeWillChange]\r\n public function hasChildren()\r\n {\r\n return $this->current() instanceof HTML_QuickForm2_Container;\r\n }\r\n\r\n #[\\ReturnTypeWillChange]\r\n public function getChildren()\r\n {\r\n return new HTML_QuickForm2_ContainerIterator($this->current());\r\n }\r\n```\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. Install `php8.1-fpm`\r\n2. Access and browse Matomo web interface, through I couldn't identify the exact element/page which triggers this.\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\n\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: v4.6.0-rc2\r\n* PHP Version: 8.1.0RC6\r\n* Server Operating System: Debian Bookworm\r\n* Additionally installed plugins:\r\n```\r\nAPI, Actions, Annotations, BulkTracking, CoreAdminHome, CoreConsole, CoreHome, CorePluginsAdmin, CoreUpdater, CoreVisualizations, CoreVue, DBStats, DarkTheme 1.1.7, Dashboard, DevicePlugins, DevicesDetection, Diagnostics, Goals, IPReports 4.1.1, ImageGraph, Insights, Installation, Intl, LanguagesManager, Live, LogViewer 4.0.1, Login, Marketplace, Monolog, Morpheus, PagePerformance, PrivacyManager, Proxy, Referrers, Resolution, SEO, SegmentEditor, SitesManager, TrackingSpamPrevention 4.1.0, Transitions, UserLanguage, UsersManager, VisitFrequency, VisitTime, VisitorInterest, VisitsSummary, WebsiteMeasurable\r\n```", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18374/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18373", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18373/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18373/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18373/events", "html_url": "https://github.com/matomo-org/matomo/issues/18373", "id": 1062882446, "node_id": "I_kwDOABefqs4_WkyO", "number": 18373, "title": "Goals by dimension view might not fully show", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 1, "created_at": "2021-11-24T20:49:34Z", "updated_at": "2021-12-03T09:38:01Z", "closed_at": "2021-12-03T09:38:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/273120/143310768-646f1900-88cc-40d9-a825-bce9fd23849f.png)\r\n\r\nI think this has happened the first time around merging https://github.com/matomo-org/matomo/pull/18243/files \r\n\r\nI can reproduce this sometimes locally when I have say 15 goals, and load a range etc.\r\n\r\nIt's like the \"by dimension\" view loads faster than any of the goal reports and then maybe thinks there's less width available or something.\r\n\r\nNot 100% sure it's a regression but haven't really noticed this before", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18373/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18373/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18372", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18372/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18372/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18372/events", "html_url": "https://github.com/matomo-org/matomo/pull/18372", "id": 1062631849, "node_id": "PR_kwDOABefqs4u-c4A", "number": 18372, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-24T16:25:20Z", "updated_at": "2021-11-24T16:31:56Z", "closed_at": "2021-11-24T16:31:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18372", "html_url": "https://github.com/matomo-org/matomo/pull/18372", "diff_url": "https://github.com/matomo-org/matomo/pull/18372.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18372.patch", "merged_at": "2021-11-24T16:31:51Z" }, "body": "Updated submodules:\n- plugins/CustomVariables\n- plugins/QueuedTracking\n- plugins/TagManager\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18372/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18371", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18371/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18371/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18371/events", "html_url": "https://github.com/matomo-org/matomo/pull/18371", "id": 1062494230, "node_id": "PR_kwDOABefqs4u-Ao3", "number": 18371, "title": "Allow to distinguish between MySQL and MariaDB (also in installation)", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 130101015, "node_id": "MDU6TGFiZWwxMzAxMDEwMTU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Pull%20Request%20WIP", "name": "Pull Request WIP", "color": "006b75", "default": false, "description": "Indicates the current pull request is still work in progress and not ready yet for a review." }, { "id": 2831840267, "node_id": "MDU6TGFiZWwyODMxODQwMjY3", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Do%20not%20close", "name": "Do not close", "color": "0e8a16", "default": false, "description": "Pull requests with this label won't be marked as stale by the Close Stale Issues action" } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-11-24T14:27:34Z", "updated_at": "2022-05-09T09:34:41Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "draft": true, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18371", "html_url": "https://github.com/matomo-org/matomo/pull/18371", "diff_url": "https://github.com/matomo-org/matomo/pull/18371.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18371.patch", "merged_at": null }, "body": "### Description:\r\n\r\nThis is a small draft how to solve issues that might occur in MariaDb only. \r\nI've only spent a couple of minutes to do the changes, so I'm not even sure if it would even fully work.\r\n\r\nI currently don't have time to finish this PR or even test if everything works as expected.\r\nIf someone has some time, feel free to pick it up.\r\n\r\nWhen finished this aims to fix #18360\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18371/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18370", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18370/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18370/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18370/events", "html_url": "https://github.com/matomo-org/matomo/issues/18370", "id": 1061747815, "node_id": "I_kwDOABefqs4_SPxn", "number": 18370, "title": "Call to a member function getPluginName() on bool ", "user": { "login": "zthomas1", "id": 16306657, "node_id": "MDQ6VXNlcjE2MzA2NjU3", "avatar_url": "https://avatars.githubusercontent.com/u/16306657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zthomas1", "html_url": "https://github.com/zthomas1", "followers_url": "https://api.github.com/users/zthomas1/followers", "following_url": "https://api.github.com/users/zthomas1/following{/other_user}", "gists_url": "https://api.github.com/users/zthomas1/gists{/gist_id}", "starred_url": "https://api.github.com/users/zthomas1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zthomas1/subscriptions", "organizations_url": "https://api.github.com/users/zthomas1/orgs", "repos_url": "https://api.github.com/users/zthomas1/repos", "events_url": "https://api.github.com/users/zthomas1/events{/privacy}", "received_events_url": "https://api.github.com/users/zthomas1/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2021-11-23T22:00:01Z", "updated_at": "2022-03-10T22:08:18Z", "closed_at": "2021-11-24T15:22:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Theme.php line 39 \r\n\r\ncalls getThemeEnabled\r\n\r\nIf plugins are not loaded yet this will always return false. \r\n\r\nself::DEFAULT_THEME is never set.\r\n\r\nThis is occurring on a clean install where a superuser is being created via API methods in a php script.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18370/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18369", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18369/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18369/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18369/events", "html_url": "https://github.com/matomo-org/matomo/pull/18369", "id": 1061013483, "node_id": "PR_kwDOABefqs4u5VvG", "number": 18369, "title": "Improve Vue Build action", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 2825062763, "node_id": "MDU6TGFiZWwyODI1MDYyNzYz", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Better%20processes", "name": "Better processes", "color": "57C90C", "default": false, "description": "Indicates an issue is about improving how we work." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-23T09:30:54Z", "updated_at": "2021-11-23T10:36:28Z", "closed_at": "2021-11-23T10:36:28Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18369", "html_url": "https://github.com/matomo-org/matomo/pull/18369", "diff_url": "https://github.com/matomo-org/matomo/pull/18369.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18369.patch", "merged_at": "2021-11-23T10:36:28Z" }, "body": "### Description:\r\n\r\nCurrently when a build runs for a PR coming from a fork, the action fails. \r\n\r\nThis will change the process, so it succeeds if vue files are still up to date, or leave a PR comment if the files need to be updated:\r\n\r\n![image](https://user-images.githubusercontent.com/1579355/142999905-50350bee-8d08-4e0a-824b-0a255605eeda.png)\r\n\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18369/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18368", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18368/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18368/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18368/events", "html_url": "https://github.com/matomo-org/matomo/issues/18368", "id": 1060952834, "node_id": "I_kwDOABefqs4_PNsC", "number": 18368, "title": "Increase the usage of expressions with combined operators", "user": { "login": "elfring", "id": 660477, "node_id": "MDQ6VXNlcjY2MDQ3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/660477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elfring", "html_url": "https://github.com/elfring", "followers_url": "https://api.github.com/users/elfring/followers", "following_url": "https://api.github.com/users/elfring/following{/other_user}", "gists_url": "https://api.github.com/users/elfring/gists{/gist_id}", "starred_url": "https://api.github.com/users/elfring/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elfring/subscriptions", "organizations_url": "https://api.github.com/users/elfring/orgs", "repos_url": "https://api.github.com/users/elfring/repos", "events_url": "https://api.github.com/users/elfring/events{/privacy}", "received_events_url": "https://api.github.com/users/elfring/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-11-23T08:24:13Z", "updated_at": "2021-11-23T11:05:48Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": ":eyes: Some source code analysis tools can help to find opportunities for improving software components.\r\n:thought_balloon: I propose to [increase the usage of combined operators](https://www.php.net/manual/en/language.operators.assignment.php#language.operators.assignment.arithmetic \"Description for assignment operators\") accordingly.\r\n\r\nWould you like to integrate anything from a transformation result which can be generated by a command like the following?\r\n(:point_right: Please check also for questionable change suggestions because of an evolving search pattern.)\r\n```\r\nlokal> perl -p -i.orig -0777 -e 's#(?<target>\\$\\S+)\\s*=\\s*\\k<target>[ \\t]*(?<operator>[+/%^.]|-(?!>)|&(?!&)|\\|(?!\\|)|\\*\\*?|<<|>>|\\?\\?)#$+{target} $+{operator}=#gm' $(find ~/Aktivit√§ten/Matomo/lokal -name '*.php')\r\n```\r\n\r\n\r\n:crystal_ball: How will development interests evolve further also according to update candidates in 41 lines of this software?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18368/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18367", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18367/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18367/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18367/events", "html_url": "https://github.com/matomo-org/matomo/pull/18367", "id": 1060946763, "node_id": "PR_kwDOABefqs4u5HuC", "number": 18367, "title": "[Vue] in site selector execute search on searchTerm change rather than keydown", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 5, "created_at": "2021-11-23T08:18:24Z", "updated_at": "2021-11-24T09:32:48Z", "closed_at": "2021-11-24T09:32:48Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18367", "html_url": "https://github.com/matomo-org/matomo/pull/18367", "diff_url": "https://github.com/matomo-org/matomo/pull/18367.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18367.patch", "merged_at": "2021-11-24T09:32:48Z" }, "body": "### Description:\r\n\r\n‚Ä¶so special keys dont have an effect\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18367/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18366", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18366/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18366/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18366/events", "html_url": "https://github.com/matomo-org/matomo/pull/18366", "id": 1060824043, "node_id": "PR_kwDOABefqs4u4t7M", "number": 18366, "title": "Configuration option to disable transition periods", "user": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 1, "created_at": "2021-11-23T04:17:05Z", "updated_at": "2021-12-01T02:27:49Z", "closed_at": "2021-12-01T02:27:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18366", "html_url": "https://github.com/matomo-org/matomo/pull/18366", "diff_url": "https://github.com/matomo-org/matomo/pull/18366.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18366.patch", "merged_at": "2021-12-01T02:27:48Z" }, "body": "### Description:\r\n\r\nFixes #18332 \r\n\r\n Adds an option to specify the max allowed period for transitions, either globally or per site\r\n\r\n```\r\n[Transitions]\r\nmax_period_allowed = \"month\"\r\n```\r\n\r\n```\r\n[Transitions_1]\r\nmax_period_allowed = \"week\"\r\n```\r\nSite level settings override the general settings.\r\nAll period smaller than the max period are allowed, so month will also allow week and day.\r\nRanges with more days than the max period will not be allowed, eg. an 8 day range isn't allowed if the `max_period_allowed = \"week\"`, but a 7 day range would be ok.\r\n\r\nRow transitions obey the same rules, but I haven't hidden the row transition action icon if the period is not allowed as it might be confusing to have to icon disappear entirely without any explanation. It's also a bit awkward having the datatable row action registration methods make an async API call each time to check period availability - open to suggestions on how to do this efficiently if we really want to go ahead and hide the row action :slightly_smiling_face: \r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18366/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18365", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18365/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18365/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18365/events", "html_url": "https://github.com/matomo-org/matomo/pull/18365", "id": 1060793609, "node_id": "PR_kwDOABefqs4u4ndH", "number": 18365, "title": "Add info for trusted_hosts", "user": { "login": "Starker3", "id": 20905821, "node_id": "MDQ6VXNlcjIwOTA1ODIx", "avatar_url": "https://avatars.githubusercontent.com/u/20905821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Starker3", "html_url": "https://github.com/Starker3", "followers_url": "https://api.github.com/users/Starker3/followers", "following_url": "https://api.github.com/users/Starker3/following{/other_user}", "gists_url": "https://api.github.com/users/Starker3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Starker3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Starker3/subscriptions", "organizations_url": "https://api.github.com/users/Starker3/orgs", "repos_url": "https://api.github.com/users/Starker3/repos", "events_url": "https://api.github.com/users/Starker3/events{/privacy}", "received_events_url": "https://api.github.com/users/Starker3/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 1678500922, "node_id": "MDU6TGFiZWwxNjc4NTAwOTIy", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Documentation", "name": "c: Documentation", "color": "f4e866", "default": false, "description": "Indicates a need for improvements or additions to documentation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 1, "created_at": "2021-11-23T03:11:44Z", "updated_at": "2021-11-23T19:10:51Z", "closed_at": "2021-11-23T12:32:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18365", "html_url": "https://github.com/matomo-org/matomo/pull/18365", "diff_url": "https://github.com/matomo-org/matomo/pull/18365.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18365.patch", "merged_at": "2021-11-23T12:32:51Z" }, "body": "Some users were confused what this setting exactly does, so they were adding all possible hostnames that might be used such as tracking hostnames, etc.\r\nThis results in the wrong URLs being used for things such as Email Reports.\r\n\r\n### Description:\r\n\r\nPlease include a description of this change and which issue it fixes. If no issue exists yet please include context and what problem it solves.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18365/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18364", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18364/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18364/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18364/events", "html_url": "https://github.com/matomo-org/matomo/pull/18364", "id": 1060768992, "node_id": "PR_kwDOABefqs4u4icD", "number": 18364, "title": "Revert \"[Vue] do not decode model value of site name in site selector, so it is always matches the DB value\"", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 5, "created_at": "2021-11-23T02:11:20Z", "updated_at": "2021-11-23T08:20:48Z", "closed_at": "2021-11-23T08:20:47Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18364", "html_url": "https://github.com/matomo-org/matomo/pull/18364", "diff_url": "https://github.com/matomo-org/matomo/pull/18364.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18364.patch", "merged_at": "2021-11-23T08:20:47Z" }, "body": "Reverts matomo-org/matomo#18356\r\n\r\nFrom more investigation, the merged PR looks like it will cause regressions:\r\n\r\n- Some existing code seems to expect the site name to be decoded, see: https://github.com/matomo-org/matomo/blob/4.x-dev/plugins/CoreAdminHome/angularjs/trackingcode/jstrackingcode.controller.js#L172\r\n\r\n- Some API responses auto decode the value (every API request with `format = json`): https://github.com/matomo-org/matomo/blob/next_release/core/DataTable/Renderer/Json.php#L69-L73\r\n\r\nSo it is just piwik.siteName that isn't decoded I think? I'll look at fixing this another quick way, though there are a lot of inconsistencies that need to be ironed out here.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18364/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18364/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18363", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18363/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18363/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18363/events", "html_url": "https://github.com/matomo-org/matomo/pull/18363", "id": 1060720354, "node_id": "PR_kwDOABefqs4u4YIP", "number": 18363, "title": "Draft add lazy cache for archive", "user": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-11-23T00:30:43Z", "updated_at": "2021-11-25T01:20:38Z", "closed_at": "2021-11-25T01:20:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18363", "html_url": "https://github.com/matomo-org/matomo/pull/18363", "diff_url": "https://github.com/matomo-org/matomo/pull/18363.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18363.patch", "merged_at": null }, "body": "### Description:\r\nFixes: #18088\r\n\r\nNot really sure that will work, but that's really fast on my local, I did a period for 160 days, it take 1 second to load. Before cache it takes like 10s.\r\n\r\nsee screenshot.\r\n\r\n![image](https://user-images.githubusercontent.com/3783072/142955179-3889e567-612a-4923-bf73-34e31665ee2b.png)\r\n![image](https://user-images.githubusercontent.com/3783072/142955200-a626b089-8c91-4508-8d32-36abb73c5b55.png)\r\n![image](https://user-images.githubusercontent.com/3783072/142955225-9b896ab6-5294-44e6-b5ff-4d6ecb6ce255.png)\r\n\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18363/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18363/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18362", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18362/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18362/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18362/events", "html_url": "https://github.com/matomo-org/matomo/issues/18362", "id": 1060717039, "node_id": "I_kwDOABefqs4_OUHv", "number": 18362, "title": "Dependent archives never processed for All visits segment causing some data to not show", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-23T00:23:29Z", "updated_at": "2022-01-07T12:20:45Z", "closed_at": "2022-01-07T12:20:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I was testing/debugging https://github.com/matomo-org/matomo/pull/18354\r\n\r\nNoticed there is a check in https://github.com/matomo-org/matomo/blob/4.6.0-rc2/core/ArchiveProcessor.php#L683 that when `$newSegment === $segment` we don't process the dependent archive.\r\n\r\nHowever, `$newSegment === $segment` is always true when the segment is the All Visits segment is given. Then the segment is an empty string (`''`) and therefore the combine segment equals the regular segment.\r\n\r\nInstead it probably should look like this https://github.com/matomo-org/matomo/compare/4.x-dev...processdependentarchive?quick_pull=1#diff-0423f9c2b4343926ff8deebfed3605b3f1905daa9e8fecc1ec1f00f65bf3e997R683\r\n\r\nAs when no original segment is given, then the segment will be always different.\r\n\r\nAs a result, eg Visitor Map might be showing empty data see https://demo.matomo.cloud/index.php?module=CoreHome&action=index&idSite=1&period=day&date=yesterday#?idSite=1&period=week&date=2021-11-16&segment=&category=MediaAnalytics_Media&subcategory=MediaAnalytics_TypeAudienceMap if I see this right.\r\n\r\nI'm thinking it might still partially work by accident because `Goals.get` in the end still requests the segment and it may end up archiving it but not sure entirely. I think this looks like a bug to me?\r\n\r\nBe great to see if we can reproduce this.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18362/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18361", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18361/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18361/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18361/events", "html_url": "https://github.com/matomo-org/matomo/issues/18361", "id": 1060680870, "node_id": "I_kwDOABefqs4_OLSm", "number": 18361, "title": "OAuth2 login, for google, github ... etc for single sign on", "user": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-11-22T23:14:53Z", "updated_at": "2021-11-23T10:23:57Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Summary\r\n<!-- Please provide a short summary of the issue in the *Title* above -->\r\nOAuth2 login, for google, Github ... etc for single sign-on. I can see there is already a plugin for it. [https://plugins.matomo.org/LoginOIDC#preview](https://plugins.matomo.org/LoginOIDC#preview) Not sure we want to implement this to the core on the login page, and user management.\r\neg:\r\n![image](https://user-images.githubusercontent.com/3783072/142949093-0c51cfdf-4cdb-47cd-984f-0656d31d92cd.png)\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n\r\n\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18361/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18361/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18360", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18360/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18360/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18360/events", "html_url": "https://github.com/matomo-org/matomo/issues/18360", "id": 1060137900, "node_id": "I_kwDOABefqs4_MGus", "number": 18360, "title": "allow configuration of max execution time when using MariaDB", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 6, "created_at": "2021-11-22T13:09:35Z", "updated_at": "2021-12-02T12:14:04Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "To provide feature equality between MySQL and MariaDB the same feature as implemented in #14858 (setting a max_execution_time for live queries) should also be supported when using MariaDB.\r\n\r\nMariaDB uses a different syntax and seconds instead of milliseconds, but apart from that, the feature should work the same.\r\n\r\nSee https://mariadb.com/kb/en/library/aborting-statements/ for more information about this.\r\n\r\nping @tomper00 and @jorgeuos", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18360/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18360/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18359", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18359/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18359/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18359/events", "html_url": "https://github.com/matomo-org/matomo/pull/18359", "id": 1059936257, "node_id": "PR_kwDOABefqs4u10EX", "number": 18359, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-22T10:01:35Z", "updated_at": "2021-11-22T10:26:42Z", "closed_at": "2021-11-22T10:26:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18359", "html_url": "https://github.com/matomo-org/matomo/pull/18359", "diff_url": "https://github.com/matomo-org/matomo/pull/18359.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18359.patch", "merged_at": "2021-11-22T10:26:22Z" }, "body": "Updated submodules:\n- plugins/CustomAlerts\n- plugins/LoginLdap\n- plugins/VisitorGenerator\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18359/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18358", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18358/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18358/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18358/events", "html_url": "https://github.com/matomo-org/matomo/pull/18358", "id": 1059609852, "node_id": "PR_kwDOABefqs4u0vM_", "number": 18358, "title": "Allow console logging to file if configured", "user": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 2741577674, "node_id": "MDU6TGFiZWwyNzQxNTc3Njc0", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Easier%20debugging", "name": "Easier debugging", "color": "098CF2", "default": false, "description": "For issues that makes troubleshooting issues for developers easier." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-22T02:47:44Z", "updated_at": "2021-11-22T08:30:41Z", "closed_at": "2021-11-22T08:30:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18358", "html_url": "https://github.com/matomo-org/matomo/pull/18358", "diff_url": "https://github.com/matomo-org/matomo/pull/18358.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18358.patch", "merged_at": "2021-11-22T08:30:40Z" }, "body": "### Description:\r\n\r\nFixes #17053 \r\n\r\nAdds file logging for console output if the file log handler is configured\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18358/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18357", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18357/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18357/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18357/events", "html_url": "https://github.com/matomo-org/matomo/pull/18357", "id": 1059555907, "node_id": "PR_kwDOABefqs4u0jwO", "number": 18357, "title": "Log archiving query timeouts", "user": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 2741577674, "node_id": "MDU6TGFiZWwyNzQxNTc3Njc0", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Easier%20debugging", "name": "Easier debugging", "color": "098CF2", "default": false, "description": "For issues that makes troubleshooting issues for developers easier." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-22T01:01:51Z", "updated_at": "2021-11-23T13:28:10Z", "closed_at": "2021-11-23T13:28:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18357", "html_url": "https://github.com/matomo-org/matomo/pull/18357", "diff_url": "https://github.com/matomo-org/matomo/pull/18357.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18357.patch", "merged_at": "2021-11-23T13:28:07Z" }, "body": "### Description:\r\n\r\nFixes #18025 \r\n\r\nAdded an exception handler to the archiving db adapter which will catch any exceptions thrown because of the max_execution_time hint and log the exception and query details.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18357/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18356", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18356/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18356/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18356/events", "html_url": "https://github.com/matomo-org/matomo/pull/18356", "id": 1059298691, "node_id": "PR_kwDOABefqs4uzyzd", "number": 18356, "title": "[Vue] do not decode model value of site name in site selector, so it is always matches the DB value", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-21T05:48:36Z", "updated_at": "2021-11-22T11:52:51Z", "closed_at": "2021-11-22T11:52:50Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18356", "html_url": "https://github.com/matomo-org/matomo/pull/18356", "diff_url": "https://github.com/matomo-org/matomo/pull/18356.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18356.patch", "merged_at": "2021-11-22T11:52:50Z" }, "body": "### Description:\r\n\r\nFixes an issue where the site name is displayed encoded when in a field site selector and using an idSite of a site that has a name w/ html entities. There doesn't appear to be failure in 4.x-dev for this, but I found it was there in the vue-form-field branch.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18356/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18355", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18355/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18355/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18355/events", "html_url": "https://github.com/matomo-org/matomo/pull/18355", "id": 1058360651, "node_id": "PR_kwDOABefqs4uw2hI", "number": 18355, "title": "Fix possible notice when comparing goal data", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 1, "created_at": "2021-11-19T10:11:38Z", "updated_at": "2021-11-30T21:26:36Z", "closed_at": "2021-11-30T21:26:35Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18355", "html_url": "https://github.com/matomo-org/matomo/pull/18355", "diff_url": "https://github.com/matomo-org/matomo/pull/18355.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18355.patch", "merged_at": "2021-11-30T21:26:34Z" }, "body": "### Description:\r\n\r\nhappened as some metrics might have been formatted twice\r\n\r\nfixes #18261 \r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18355/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18355/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18354", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18354/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18354/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18354/events", "html_url": "https://github.com/matomo-org/matomo/pull/18354", "id": 1058309510, "node_id": "PR_kwDOABefqs4uwr5W", "number": 18354, "title": "Avoid any archiving queries in Goals Archiver if no goals or ecommerce are active", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 2831840267, "node_id": "MDU6TGFiZWwyODMxODQwMjY3", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Do%20not%20close", "name": "Do not close", "color": "0e8a16", "default": false, "description": "Pull requests with this label won't be marked as stale by the Close Stale Issues action" } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 17, "created_at": "2021-11-19T09:15:30Z", "updated_at": "2022-01-11T20:12:39Z", "closed_at": "2022-01-11T20:12:38Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18354", "html_url": "https://github.com/matomo-org/matomo/pull/18354", "diff_url": "https://github.com/matomo-org/matomo/pull/18354.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18354.patch", "merged_at": "2022-01-11T20:12:38Z" }, "body": "### Description:\r\n\r\nfixes #18283\r\n\r\nNote: The test changes are kind of expected. We had a couple of fixtures where ecommerce data was tracked, even though it actually wasn't enabled for that site.\r\n\r\nFor some Fixtures I have activate the ecommerce flag, while for others I kept it off on purpose. That way we can see that there are null records archived, even though some data would actually be tracked and available.\r\n\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18354/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18353", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18353/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18353/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18353/events", "html_url": "https://github.com/matomo-org/matomo/issues/18353", "id": 1058242457, "node_id": "I_kwDOABefqs4_E3-Z", "number": 18353, "title": "Matomo ignore month/week scheduler for geolocation database update", "user": { "login": "kvas11", "id": 15895757, "node_id": "MDQ6VXNlcjE1ODk1NzU3", "avatar_url": "https://avatars.githubusercontent.com/u/15895757?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kvas11", "html_url": "https://github.com/kvas11", "followers_url": "https://api.github.com/users/kvas11/followers", "following_url": "https://api.github.com/users/kvas11/following{/other_user}", "gists_url": "https://api.github.com/users/kvas11/gists{/gist_id}", "starred_url": "https://api.github.com/users/kvas11/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kvas11/subscriptions", "organizations_url": "https://api.github.com/users/kvas11/orgs", "repos_url": "https://api.github.com/users/kvas11/repos", "events_url": "https://api.github.com/users/kvas11/events{/privacy}", "received_events_url": "https://api.github.com/users/kvas11/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370566, "node_id": "MDU6TGFiZWwxMTIzNzA1NjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/worksforme", "name": "worksforme", "color": "ededed", "default": false, "description": "The issue cannot be reproduced and things work as intended." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 11, "created_at": "2021-11-19T07:48:00Z", "updated_at": "2021-11-22T19:22:16Z", "closed_at": "2021-11-22T19:22:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Matomo downloads database file from https://download.db-ip.com every hour (same time as console archive job is executed) instead of scheduled period (week or month).\r\n\r\n## Expected Behavior\r\nMatomo download geoip db on scheduled period week or month.\r\n\r\n## Current Behavior\r\nMatomo download geoip db every hour.\r\n\r\n\r\n## Steps to Reproduce (for Bugs)\r\nSetup automatic geo ip download for DBIP / GeoIP 2 (Php)\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.4.1\r\n* PHP Version: 7.4.3\r\n* Server Operating System: ubuntu 20.04\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18353/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18353/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18352", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18352/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18352/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18352/events", "html_url": "https://github.com/matomo-org/matomo/pull/18352", "id": 1058128527, "node_id": "PR_kwDOABefqs4uwGVX", "number": 18352, "title": "[Vue] migrate piwik-field and related directives", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 6, "created_at": "2021-11-19T04:41:48Z", "updated_at": "2021-12-01T17:19:22Z", "closed_at": "2021-12-01T17:19:21Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18352", "html_url": "https://github.com/matomo-org/matomo/pull/18352", "diff_url": "https://github.com/matomo-org/matomo/pull/18352.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18352.patch", "merged_at": "2021-12-01T17:19:21Z" }, "body": "### Description:\r\n\r\n**This PR is based off of https://github.com/matomo-org/matomo/pull/18292.**\r\n\r\n`piwik-field` is a recursive directive so they all had to be converted at once, so this PR is also quite large.\r\n\r\nChanges:\r\n- Migrate `piwik-field` directive to the vue Field directive. Note: the `templateFile` property is not longer supported. If plugin developers use it in the wild, we'll have to provide a different way of extending Field.\r\n- Migrate `matomo-multi-pair-field` directive to MultiPairField.\r\n- Migrate `matomo-field-array` directive to FieldArray.\r\n- Add extra parameters to createAngularJsAdapter() scope property transform function.\r\n- Migrate `piwik-form-field` directive to FormField. Every template that was included in the angularjs directive was converted to a new vue component used by FormField.\r\n- Add new mechanism to support extending form fields that allows passing in a Vue component, rather than angularjs template (this method is still supported for BC, until Matomo 5).\r\n- Do not use Vue UMDs if there is a dist folder w/ files but no src folder (can happen during development).\r\n- Fix bug visible in 4.x-dev w/ report export: changing the report limit selector did not change the filter_limit in the export URL. For some reason, angularjs couldn't modify $parent.reportLimit, possibly because there is also a scope.reportLimit.\r\n- Put the defineAsyncComponent() function used to get components from other plugins when we don't know if they're loaded into the new `useExternalPluginComponent()` function.\r\n- Removed the selectedSite internal state in the SiteSelector component, it now follows the v-model contract properly.\r\n\r\n![image](https://user-images.githubusercontent.com/125140/143525278-cfbecc55-46b5-4308-ad81-164ee3cc2f5b.png)\r\n\r\n![image](https://user-images.githubusercontent.com/125140/143525139-e9af16d5-805d-4315-906e-5b305658367f.png)\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18352/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18352/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18351", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18351/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18351/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18351/events", "html_url": "https://github.com/matomo-org/matomo/pull/18351", "id": 1058121703, "node_id": "PR_kwDOABefqs4uwE0G", "number": 18351, "title": "invite user replace add user", "user": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 2831853227, "node_id": "MDU6TGFiZWwyODMxODUzMjI3", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Stale", "name": "Stale", "color": "c5def5", "default": false, "description": "The label used by the Close Stale Issues action" } ], "state": "closed", "locked": false, "assignee": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/157", "html_url": "https://github.com/matomo-org/matomo/milestone/157", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/157/labels", "id": 7700114, "node_id": "MI_kwDOABefqs4AdX6S", "number": 157, "title": "4.10.0", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 86, "state": "closed", "created_at": "2022-02-21T20:00:06Z", "updated_at": "2022-06-03T13:42:50Z", "due_on": null, "closed_at": "2022-05-16T01:45:09Z" }, "comments": 21, "created_at": "2021-11-19T04:33:33Z", "updated_at": "2022-04-26T13:17:20Z", "closed_at": "2022-04-26T13:17:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18351", "html_url": "https://github.com/matomo-org/matomo/pull/18351", "diff_url": "https://github.com/matomo-org/matomo/pull/18351.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18351.patch", "merged_at": null }, "body": "### Description:\r\n\r\n \r\nJust a note, I think this PR will be put on pause for now, currently is on the transaction from angular to VUE. Once the Vue implementation is finished, will convert it to VUE and fix the remaining task.\r\n\r\nAdd Two table column \r\n\r\n- `invite_status` sent or null\r\n- `invite_at` datetime\r\n\r\nUsing currently token from `user_auth_token` table. Resend invite will send a link to the user, clicking the link will mark the user active and land on the password setting page. \r\n\r\nEmail template: \r\n\r\n![image](https://user-images.githubusercontent.com/3783072/142802573-715d39f7-161e-49f5-8618-8d7d80cec550.png)\r\n\r\n\r\n**Missing**: \r\n- UI Test\r\n- Integration Test\r\n\r\n\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18351/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18351/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18350", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18350/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18350/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18350/events", "html_url": "https://github.com/matomo-org/matomo/pull/18350", "id": 1058053975, "node_id": "PR_kwDOABefqs4uv2xz", "number": 18350, "title": "[automatic composer updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-19T02:15:05Z", "updated_at": "2021-11-19T09:23:37Z", "closed_at": "2021-11-19T09:23:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18350", "html_url": "https://github.com/matomo-org/matomo/pull/18350", "diff_url": "https://github.com/matomo-org/matomo/pull/18350.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18350.patch", "merged_at": "2021-11-19T09:23:37Z" }, "body": "composer update log:\n```\nLoading composer repositories with package information\nUpdating dependencies\nLock file operations: 0 installs, 1 update, 0 removals\n - Upgrading geoip2/geoip2 (v2.11.0 => v2.12.0)\nWriting lock file\nInstalling dependencies from lock file (including require-dev)\nPackage operations: 0 installs, 1 update, 0 removals\n - Downloading geoip2/geoip2 (v2.12.0)\n - Upgrading geoip2/geoip2 (v2.11.0 => v2.12.0): Extracting archive\nPackage phpunit/php-token-stream is abandoned, you should avoid using it. No replacement was suggested.\nGenerating autoload files\n32 packages you are using are looking for funding.\nUse the `composer fund` command to find out more!\n```\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18350/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18349", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18349/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18349/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18349/events", "html_url": "https://github.com/matomo-org/matomo/pull/18349", "id": 1058053653, "node_id": "PR_kwDOABefqs4uv2ti", "number": 18349, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-19T02:14:29Z", "updated_at": "2021-11-19T09:18:27Z", "closed_at": "2021-11-19T09:18:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18349", "html_url": "https://github.com/matomo-org/matomo/pull/18349", "diff_url": "https://github.com/matomo-org/matomo/pull/18349.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18349.patch", "merged_at": "2021-11-19T09:18:16Z" }, "body": "Updated submodules:\n- misc/log-analytics\n- plugins/LoginLdap\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18349/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18348", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18348/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18348/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18348/events", "html_url": "https://github.com/matomo-org/matomo/pull/18348", "id": 1057298917, "node_id": "PR_kwDOABefqs4utjSb", "number": 18348, "title": "Ensure password with special characters are working correctly when creating a token auth", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-18T12:26:18Z", "updated_at": "2021-11-18T19:13:08Z", "closed_at": "2021-11-18T19:13:07Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18348", "html_url": "https://github.com/matomo-org/matomo/pull/18348", "diff_url": "https://github.com/matomo-org/matomo/pull/18348.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18348.patch", "merged_at": "2021-11-18T19:13:07Z" }, "body": "### Description:\r\n\r\nfixes #18346 \r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18348/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18347", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18347/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18347/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18347/events", "html_url": "https://github.com/matomo-org/matomo/issues/18347", "id": 1057108921, "node_id": "I_kwDOABefqs4_AjO5", "number": 18347, "title": "\"How do I track visits on my intranet?\" How-to page: IntranetGeoIP plugin link is dead", "user": { "login": "heurteph-ei", "id": 79993552, "node_id": "MDQ6VXNlcjc5OTkzNTUy", "avatar_url": "https://avatars.githubusercontent.com/u/79993552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heurteph-ei", "html_url": "https://github.com/heurteph-ei", "followers_url": "https://api.github.com/users/heurteph-ei/followers", "following_url": "https://api.github.com/users/heurteph-ei/following{/other_user}", "gists_url": "https://api.github.com/users/heurteph-ei/gists{/gist_id}", "starred_url": "https://api.github.com/users/heurteph-ei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heurteph-ei/subscriptions", "organizations_url": "https://api.github.com/users/heurteph-ei/orgs", "repos_url": "https://api.github.com/users/heurteph-ei/repos", "events_url": "https://api.github.com/users/heurteph-ei/events{/privacy}", "received_events_url": "https://api.github.com/users/heurteph-ei/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370559, "node_id": "MDU6TGFiZWwxMTIzNzA1NTk=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Website%20matomo.org", "name": "c: Website matomo.org", "color": "d4c5f9", "default": false, "description": "For issues related to our matomo.org website." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-11-18T09:09:35Z", "updated_at": "2021-11-18T09:22:25Z", "closed_at": "2021-11-18T09:22:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Documentation page to be updated:\r\nhttps://matomo.org/faq/how-to/faq_19/#faq_19\r\n\r\n## What's wrong\r\nA link is dead\r\n\r\n> ## How do I get accurate geolocation for people viewing my Intranet site?\r\n> [...] When many people viewing your website share the same IP address (for example because they‚Äôre connecting via a VPN or from within your intranet network), then to still track geolocation for these we recommend using this third party plugin from the Marketplace ***IntranetGeoIP plugin*** (*https://plugins.matomo.org/IntranetGeoIP* - dead link).\r\n\r\nProbably to be replaced by: https://plugins.matomo.org/CampusGeoIP", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18347/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18346", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18346/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18346/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18346/events", "html_url": "https://github.com/matomo-org/matomo/issues/18346", "id": 1057044645, "node_id": "I_kwDOABefqs4_ATil", "number": 18346, "title": "Not posible to create a token auth when password contains an ampersand (and possibly other special characters)", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-18T07:53:57Z", "updated_at": "2021-11-18T19:13:07Z", "closed_at": "2021-11-18T19:13:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "see https://github.com/matomo-org/matomo-mobile-2/issues/5429#issuecomment-972618636 refs https://github.com/matomo-org/matomo-mobile-2/issues/5423\r\n\r\nCreate a user with password `r&a^rer@ere`. Then try to create a token for that user using below API call:\r\n\r\n```\r\nindex.php?userLogin=test&passwordConfirmation=r%26a%5Erer%40ere&description=Matomo%20Mobile%202&method=UsersManager.createAppSpecificTokenAuth&module=API&date=today&token_auth=anonymous&period=day&format=json&language=en&\r\n```\r\n\r\nWhich then Matomo interprets as `r&amp;a^rer@ere` and then says password is wrong. \r\n\r\nI tested below patch and this solved the issue for me. We'll need to add a test for this though.\r\n\r\n```\r\ndiff --git a/plugins/UsersManager/API.php b/plugins/UsersManager/API.php\r\nindex 96702a36f7..8b3434133c 100644\r\n--- a/plugins/UsersManager/API.php\r\n+++ b/plugins/UsersManager/API.php\r\n@@ -1409,6 +1409,7 @@ class API extends \\Piwik\\Plugin\\API\r\n }\r\n }\r\n \r\n+ $passwordConfirmation = Common::unsanitizeInputValue($passwordConfirmation);\r\n if (empty($user) || !$this->passwordVerifier->isPasswordCorrect($userLogin, $passwordConfirmation)) {\r\n if (empty($user)) {\r\n /**\r\n```", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18346/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18345", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18345/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18345/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18345/events", "html_url": "https://github.com/matomo-org/matomo/pull/18345", "id": 1056976563, "node_id": "PR_kwDOABefqs4usfWi", "number": 18345, "title": "Fix for incorrect multisite dashboard Urls behind reverse proxy", "user": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 4, "created_at": "2021-11-18T06:07:48Z", "updated_at": "2021-11-19T11:04:43Z", "closed_at": "2021-11-19T11:04:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18345", "html_url": "https://github.com/matomo-org/matomo/pull/18345", "diff_url": "https://github.com/matomo-org/matomo/pull/18345.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18345.patch", "merged_at": "2021-11-19T11:04:42Z" }, "body": "### Description:\r\n\r\nFixes #17945 \r\n\r\nWhen Matomo is running behind a reverse proxy server that forwards traffic to a directory path (eg. `proxy.com/matomo/`) but Matomo itself is installed in a different path (eg. `someotherhost.com/` or `someotherhost.com/differentpath`) then incorrect paths are used for links in the Multi Sites page, specifically: site selection, the evolution sparklines and add a new website.\r\n\r\nThis PR is a simple fix to remove the calculated piwik_url from these links and use relative paths instead.\r\n\r\nTested with three docker images: mariadb:latest, matomo:4.5.0 official docker and nginx:latest\r\n\r\nnginx configured with\r\n```\r\nlocation /matomo/ {\r\n proxy_set_header Host $host;\r\n proxy_set_header X-Real-IP $remote_addr;\r\n proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n proxy_set_header X-Forwarded-Host $host;\r\n proxy_set_header X-Forwarded-Uri /matomo/;\r\n proxy_pass http://<matomo container ip>/;\r\n proxy_read_timeout 90;\r\n }\r\n```\r\nMatomo config.ini.php\r\n```\r\n[General]\r\nassume_secure_protocol = 0\r\nproxy_client_headers[] = \"HTTP_X_FORWARDED_FOR\"\r\nproxy_host_headers[] = \"HTTP_X_FORWARDED_HOST\"\r\ntrusted_hosts[] = \"<nginx container ip>\"\r\n```\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18345/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18345/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18344", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18344/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18344/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18344/events", "html_url": "https://github.com/matomo-org/matomo/issues/18344", "id": 1056798542, "node_id": "I_kwDOABefqs4-_XdO", "number": 18344, "title": "Change rearchive end date from yesterday to today so it processes the last day correctly", "user": { "login": "Starker3", "id": 20905821, "node_id": "MDQ6VXNlcjIwOTA1ODIx", "avatar_url": "https://avatars.githubusercontent.com/u/20905821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Starker3", "html_url": "https://github.com/Starker3", "followers_url": "https://api.github.com/users/Starker3/followers", "following_url": "https://api.github.com/users/Starker3/following{/other_user}", "gists_url": "https://api.github.com/users/Starker3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Starker3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Starker3/subscriptions", "organizations_url": "https://api.github.com/users/Starker3/orgs", "repos_url": "https://api.github.com/users/Starker3/repos", "events_url": "https://api.github.com/users/Starker3/events{/privacy}", "received_events_url": "https://api.github.com/users/Starker3/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 3, "created_at": "2021-11-18T00:48:40Z", "updated_at": "2022-02-01T01:22:55Z", "closed_at": "2022-01-12T16:30:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Refs DEV-2422 and potentially #18343 \r\n\r\nWhen a plugin that uses the rearchive_reports_in_past_last_n_months config setting and the setting is non-zero (Enabled) it seems as though the archiver skips processing the report for \"Yesterday\"\r\n\r\nThis was initially reported by a customer. \r\n\r\nThe easiest way to test this is with a Custom Report. As we can see in the screenshot below, this custom report was created on the 11th of November and according to the screenshot the 10th of November has no report data. \r\n![image](https://user-images.githubusercontent.com/20905821/142321497-8e8ecc2d-c72d-465d-b04f-16a12c2747f5.png)\r\n \r\nI tested this in my own instance and created a new Custom Report, the date of my server was the 14th of November and as we can see from the attached logs, the report for the 13th of November (Yesterday at the time of creation) was not processed for the Custom Report:\r\n[core-archive-custom-reports-yesterday.log](https://github.com/matomo-org/matomo/files/7558946/core-archive-custom-reports-yesterday.log)\r\n\r\nThis Custom report has the following creation date:\r\n```\r\nselect created_date from matomo_custom_reports where idcustomreport = 30;\r\n+---------------------+\r\n|created_date|\r\n+---------------------+\r\n|2021-11-14 22:31:21 |\r\n```\r\n\r\nIt seems that it‚Äôs maybe skipping ‚ÄúYesterday‚Äù because it would be processed during the normal core:archive run. But this might not always happen if the reports were already processed that day - in which case the ‚ÄúYesterday‚Äù reports were maybe already processed and would maybe not be processed again.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18344/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18343", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18343/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18343/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18343/events", "html_url": "https://github.com/matomo-org/matomo/issues/18343", "id": 1056790305, "node_id": "I_kwDOABefqs4-_Vch", "number": 18343, "title": "Fix for current year not processed for new custom repors", "user": { "login": "Starker3", "id": 20905821, "node_id": "MDQ6VXNlcjIwOTA1ODIx", "avatar_url": "https://avatars.githubusercontent.com/u/20905821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Starker3", "html_url": "https://github.com/Starker3", "followers_url": "https://api.github.com/users/Starker3/followers", "following_url": "https://api.github.com/users/Starker3/following{/other_user}", "gists_url": "https://api.github.com/users/Starker3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Starker3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Starker3/subscriptions", "organizations_url": "https://api.github.com/users/Starker3/orgs", "repos_url": "https://api.github.com/users/Starker3/repos", "events_url": "https://api.github.com/users/Starker3/events{/privacy}", "received_events_url": "https://api.github.com/users/Starker3/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 2084322191, "node_id": "MDU6TGFiZWwyMDg0MzIyMTkx", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Potential%20Bug", "name": "Potential Bug", "color": "fbbaba", "default": false, "description": "Something that might be a bug, but can't be reproduced (yet)." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/162", "html_url": "https://github.com/matomo-org/matomo/milestone/162", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/162/labels", "id": 8023069, "node_id": "MI_kwDOABefqs4Aemwd", "number": 162, "title": "For Prioritization", "description": "Issues the Product Team will prioritize into future milestones or backlog", "creator": { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false }, "open_issues": 119, "closed_issues": 3, "state": "open", "created_at": "2022-05-26T21:14:10Z", "updated_at": "2022-09-30T00:47:47Z", "due_on": null, "closed_at": null }, "comments": 0, "created_at": "2021-11-18T00:34:16Z", "updated_at": "2022-09-29T21:17:50Z", "closed_at": "2022-08-08T15:16:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n<!-- Important: If this bug is regarding a premium plugin you purchased on plugins.matomo.org, please email shop@innocraft.com instead of creating a bug report here. -->\r\n\r\n## Expected Behavior\r\n<!-- When describing a bug, please tell us what should happen -->\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\nWe would expect that regardless of the number of months set using `rearchive_reports_in_past_last_n_months` that the reports for the current year will always be processed for the given plugin.\r\n\r\n## Current Behavior\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\nWhen setting a longer period of time for `rearchive_reports_in_past_last_n_months` such as for example 48 months, the current year reports for that plugin may not be processed. (This seems to work fine for something like 12 months)\r\n\r\nI've tested this a few times and have some log files that show different behaviour. This is most easily tested using a plugin such as Custom Reports.\r\n\r\nFor example, when leaving the setting as standard (6 months) we get the following in the core:archive logs after creating a new Custom Report for the Year period:\r\n`\u001B[32mINFO [2021-11-10 22:57:43] 3657435 \u001B[39m Archived website id 1, period = year, date = 2021-01-01, segment = '', 284 visits found. Time elapsed: 5.700s`\r\n(Note the lack of plugin = CustomReports)\r\n\r\nSetting this to a longer period such as 12 months, we see that the plugin report itself is processed:\r\n`\u001B[32mINFO [2021-11-10 23:01:57] 3686930 \u001B[39m Archived website id 1, period = year, date = 2021-01-01, segment = '', plugin = CustomReports, report = 27, 284 visits found. Time elapsed: 0.527s`\r\n\r\nHowever, when we set the period to something much longer, such as 48 months we see the following output in the logs for the current year:\r\n`\u001B[32mINFO [2021-11-10 23:20:15] 3809322 \u001B[39m Archived website id 1, period = year, date = 2021-01-01, segment = '', 284 visits found. Time elapsed: 5.630s` \r\n(Again we note the lack of plugin = CustomReports for this archive run)\r\n\r\nIn my testing for example, the Year report for 2021 for this newly created report with 48 months of historical data was effectively never processed and showed not data:\r\n![image](https://user-images.githubusercontent.com/20905821/142312666-5c72c5ea-c1ea-4ebd-aa8a-10b2e72ef3d0.png)\r\n\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\nI'm not sure if this is perhaps related to when the current \"Year\" report is considered outdated. It's possible that because we expect the current Year report to be automatically invalidated and processed that we skip the invalidation of the plugin report for that same period. But if the year report was recently processed, then it's possible that it won't get processed for this report.\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. Change the setting for `rearchive_reports_in_past_last_n_months` to 48 months\r\n2. Create a new Custom Report\r\n3. Run core:archive\r\n4. Check the Year report for the new Custom Report\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\n\r\nThis has the effect that the \"Year\" reports for the current year may not be correct. In one customers case the \"Year\" report only included data since the day the report was created and did not include any of the historical data from earlier in the year.\r\n\r\nFor reports that were created during the year with this setting, the \"Year\" report will basically always be incorrect.\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: Tested on 4.5.0 and 4.6.0(RC)\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18343/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18342", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18342/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18342/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18342/events", "html_url": "https://github.com/matomo-org/matomo/pull/18342", "id": 1056728869, "node_id": "PR_kwDOABefqs4urrA-", "number": 18342, "title": "[Vue] remove problematic pathspec in buildvue.yml", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-17T23:09:36Z", "updated_at": "2021-11-18T08:50:45Z", "closed_at": "2021-11-18T08:50:45Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18342", "html_url": "https://github.com/matomo-org/matomo/pull/18342", "diff_url": "https://github.com/matomo-org/matomo/pull/18342.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18342.patch", "merged_at": "2021-11-18T08:50:45Z" }, "body": "### Description:\r\n\r\nNot sure why it complains about this in the workflow, it works for me just fine even if the specified files do not exist. But we can't have the metadata json file change w/o also having the .js file change so it should be fine to depend only on the *.js pathspec.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18342/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18341", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18341/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18341/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18341/events", "html_url": "https://github.com/matomo-org/matomo/pull/18341", "id": 1056719095, "node_id": "PR_kwDOABefqs4uroyt", "number": 18341, "title": "[Vue] use jQuery click for expand on click", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-17T23:01:11Z", "updated_at": "2021-11-18T08:44:38Z", "closed_at": "2021-11-18T08:44:37Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18341", "html_url": "https://github.com/matomo-org/matomo/pull/18341", "diff_url": "https://github.com/matomo-org/matomo/pull/18341.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18341.patch", "merged_at": "2021-11-18T08:44:37Z" }, "body": "### Description:\r\n\r\nProgrammatically opening the date picker was broken since jquery click didn't trigger the event handler added in addEventListener().\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18341/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18340", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18340/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18340/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18340/events", "html_url": "https://github.com/matomo-org/matomo/pull/18340", "id": 1056182653, "node_id": "PR_kwDOABefqs4uqCB6", "number": 18340, "title": "Fixes possible notice", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 2, "created_at": "2021-11-17T14:15:03Z", "updated_at": "2021-11-18T12:54:16Z", "closed_at": "2021-11-18T12:54:15Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18340", "html_url": "https://github.com/matomo-org/matomo/pull/18340", "diff_url": "https://github.com/matomo-org/matomo/pull/18340.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18340.patch", "merged_at": "2021-11-18T12:54:15Z" }, "body": "### Description:\r\n\r\nfixes #18338 \r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18340/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18340/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18339", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18339/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18339/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18339/events", "html_url": "https://github.com/matomo-org/matomo/issues/18339", "id": 1056133992, "node_id": "I_kwDOABefqs4-81No", "number": 18339, "title": "BotTracker plugin page: user agent external website link is dead", "user": { "login": "heurteph-ei", "id": 79993552, "node_id": "MDQ6VXNlcjc5OTkzNTUy", "avatar_url": "https://avatars.githubusercontent.com/u/79993552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heurteph-ei", "html_url": "https://github.com/heurteph-ei", "followers_url": "https://api.github.com/users/heurteph-ei/followers", "following_url": "https://api.github.com/users/heurteph-ei/following{/other_user}", "gists_url": "https://api.github.com/users/heurteph-ei/gists{/gist_id}", "starred_url": "https://api.github.com/users/heurteph-ei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heurteph-ei/subscriptions", "organizations_url": "https://api.github.com/users/heurteph-ei/orgs", "repos_url": "https://api.github.com/users/heurteph-ei/repos", "events_url": "https://api.github.com/users/heurteph-ei/events{/privacy}", "received_events_url": "https://api.github.com/users/heurteph-ei/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-11-17T13:29:55Z", "updated_at": "2021-11-17T13:53:19Z", "closed_at": "2021-11-17T13:53:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Documentation page to be updated:\r\nhttps://plugins.matomo.org/BotTracker\r\n\r\n## What's wrong\r\nA link is dead\r\n> ## How it works\r\n> [...] You can add/delete/modify the keywords in the administration-menu. There are webpages that list the user-agents of known spiders and webcrawlers (e.g. ~~http://www.useragentstring.com/pages/Crawlerlist/~~). The most common bots are already in the default list of the plugin.\r\n\r\nTo be replaced by: http://www.useragentstring.com/pages/useragentstring.php", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18339/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18338", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18338/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18338/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18338/events", "html_url": "https://github.com/matomo-org/matomo/issues/18338", "id": 1055826670, "node_id": "I_kwDOABefqs4-7qLu", "number": 18338, "title": "WARNING Undefined index: host - Matomo 4.5.0 ", "user": { "login": "lrrrs", "id": 671002, "node_id": "MDQ6VXNlcjY3MTAwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/671002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lrrrs", "html_url": "https://github.com/lrrrs", "followers_url": "https://api.github.com/users/lrrrs/followers", "following_url": "https://api.github.com/users/lrrrs/following{/other_user}", "gists_url": "https://api.github.com/users/lrrrs/gists{/gist_id}", "starred_url": "https://api.github.com/users/lrrrs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lrrrs/subscriptions", "organizations_url": "https://api.github.com/users/lrrrs/orgs", "repos_url": "https://api.github.com/users/lrrrs/repos", "events_url": "https://api.github.com/users/lrrrs/events{/privacy}", "received_events_url": "https://api.github.com/users/lrrrs/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 2, "created_at": "2021-11-17T08:04:41Z", "updated_at": "2021-11-18T12:54:15Z", "closed_at": "2021-11-18T12:54:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behavior\r\n\r\nI get no warning üòÜ\r\n\r\n## Current Behavior\r\n\r\n`WARNING [2021-11-16 07:30:20] 29776 ...core/Http.php(229): Notice - Undefined index: host - Matomo 4.5.0`\r\n\r\n## Steps to Reproduce (for Bugs)\r\n\r\nThis warning only occures sometimes when running `console core:archive` directly after this log: `Will invalidate archived reports for yesterday in site ID = 1's timezone (2021-11-16 00:00:00).`\r\n\r\nIt seems like this only occurs, when the script is run via a crontab. When I run it in the terminal, I never noticed the issue. Maybe this could be a clue to identify the root cause. I'll try to dig deeper‚Ä¶\r\n\r\n## Context\r\n\r\n## Your Environment\r\n\r\n* Matomo Version: 4.5.0\r\n* PHP Version: 7.4\r\n* Server Operating System: Debian\r\n* Additionally installed plugins: -\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18338/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18337", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18337/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18337/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18337/events", "html_url": "https://github.com/matomo-org/matomo/pull/18337", "id": 1055758424, "node_id": "PR_kwDOABefqs4uoo5o", "number": 18337, "title": "[Vue] detect dependent plugins in vue UMDs and order plugins appropriately", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 1, "created_at": "2021-11-17T06:26:35Z", "updated_at": "2021-11-17T20:19:09Z", "closed_at": "2021-11-17T20:19:08Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18337", "html_url": "https://github.com/matomo-org/matomo/pull/18337", "diff_url": "https://github.com/matomo-org/matomo/pull/18337.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18337.patch", "merged_at": "2021-11-17T20:19:08Z" }, "body": "### Description:\r\n\r\nPlugin UMD modules can depend on other ones, but the loading order currently is just how it is encountered when reading filesystem folders. This is an issue if, for example, CorePluginsAdmin is loaded before CoreHome when CorePluginsAdmin depends on CoreHome. This PR fixes this by:\r\n\r\n- detecting UMD module dependencies via the vue.config.js file. Webpack allows us to specify what imports should result in accessing the window object directly. Currently we do this for plugins, eg, `import blahblah from 'CoreHome'`. We did this before by using an object mapping `'CoreHome'` with the object in `window` (also 'CoreHome' currently). webpack also allows using a function instead of an object, so now we're using a function that will detect and remember when a plugin is imported.\r\n- then a new webpack plugin is used to output that data to a umd.metadata.json file.\r\n- in JScriptUIFetcher, we read these files and do a quick DFS to order the plugins correctly for loading UMD files.\r\n\r\nNote: this PR does not currently detect cycles.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18337/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18336", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18336/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18336/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18336/events", "html_url": "https://github.com/matomo-org/matomo/pull/18336", "id": 1055672602, "node_id": "PR_kwDOABefqs4uoWrZ", "number": 18336, "title": "Fix random UI should change dashboard layout when new layout is selected", "user": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-11-17T03:51:44Z", "updated_at": "2021-11-17T17:06:43Z", "closed_at": "2021-11-17T17:06:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18336", "html_url": "https://github.com/matomo-org/matomo/pull/18336", "diff_url": "https://github.com/matomo-org/matomo/pull/18336.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18336.patch", "merged_at": "2021-11-17T17:06:42Z" }, "body": "### Description:\r\n\r\nfix random UI. It seems like the `dialog Icon` randomly cause an issue for that screen test. Hide in the CSS, it shouldn't cause any failure. \r\n![image](https://user-images.githubusercontent.com/3783072/142138016-30003a26-a488-45f8-a09f-8a1a28b15885.png)\r\n\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18336/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18335", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18335/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18335/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18335/events", "html_url": "https://github.com/matomo-org/matomo/pull/18335", "id": 1055670122, "node_id": "PR_kwDOABefqs4uoWKh", "number": 18335, "title": "Handle scheduled task failures", "user": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 2741577674, "node_id": "MDU6TGFiZWwyNzQxNTc3Njc0", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Easier%20debugging", "name": "Easier debugging", "color": "098CF2", "default": false, "description": "For issues that makes troubleshooting issues for developers easier." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/150", "html_url": "https://github.com/matomo-org/matomo/milestone/150", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/150/labels", "id": 6997655, "node_id": "MI_kwDOABefqs4AasaX", "number": 150, "title": "4.8.0", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 135, "state": "closed", "created_at": "2021-07-22T22:38:55Z", "updated_at": "2022-03-23T18:50:34Z", "due_on": null, "closed_at": "2022-03-08T22:28:18Z" }, "comments": 8, "created_at": "2021-11-17T03:45:35Z", "updated_at": "2022-02-02T13:41:22Z", "closed_at": "2022-02-01T23:19:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18335", "html_url": "https://github.com/matomo-org/matomo/pull/18335", "diff_url": "https://github.com/matomo-org/matomo/pull/18335.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18335.patch", "merged_at": "2022-02-01T23:19:23Z" }, "body": "### Description:\r\n\r\nFixes #17938 (partial)\r\n\r\nCatches and logs exceptions that occur when running scheduled tasks\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18335/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18334", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18334/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18334/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18334/events", "html_url": "https://github.com/matomo-org/matomo/pull/18334", "id": 1055606810, "node_id": "PR_kwDOABefqs4uoJSm", "number": 18334, "title": "[Vue] 4.6.0 fixes", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 3, "created_at": "2021-11-17T01:28:35Z", "updated_at": "2021-11-17T03:32:22Z", "closed_at": "2021-11-17T03:32:22Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18334", "html_url": "https://github.com/matomo-org/matomo/pull/18334", "diff_url": "https://github.com/matomo-org/matomo/pull/18334.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18334.patch", "merged_at": "2021-11-17T03:32:22Z" }, "body": "### Description:\r\n\r\nFound some issues after minimum supported browser testing:\r\n\r\n- async/await is not supported in Vue code since it would add 6kb to each UMD file (details in original vue introduction PR)\r\n- Feedback plugin can be disabled (due to WhiteLabel for example), so don't access it if it's not there\r\n- fix typo in FeedbackQuestion.adapter.ts\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18334/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18333", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18333/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18333/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18333/events", "html_url": "https://github.com/matomo-org/matomo/pull/18333", "id": 1055543872, "node_id": "PR_kwDOABefqs4un8H5", "number": 18333, "title": "Cache API.getSegmentMetadata better in Segment", "user": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 2, "created_at": "2021-11-16T23:32:57Z", "updated_at": "2021-11-22T20:55:28Z", "closed_at": "2021-11-22T18:05:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18333", "html_url": "https://github.com/matomo-org/matomo/pull/18333", "diff_url": "https://github.com/matomo-org/matomo/pull/18333.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18333.patch", "merged_at": "2021-11-22T18:05:04Z" }, "body": "### Description:\r\n\r\nfixes: #17944 \r\nadd cache and lock to segment load, using lazy cache \r\n\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18333/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18332", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18332/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18332/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18332/events", "html_url": "https://github.com/matomo-org/matomo/issues/18332", "id": 1055287584, "node_id": "I_kwDOABefqs4-5mkg", "number": 18332, "title": "Add new feature to disable Transitions for specific periods", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-16T20:23:52Z", "updated_at": "2021-12-01T02:27:48Z", "closed_at": "2021-12-01T02:27:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Transitions is using raw data to generate its reports.\r\n\r\nThis is known to be slow on some high traffic installations see https://matomo.org/faq/how-to/faq_161/\r\n\r\nSimilar to unique visitors (see https://matomo.org/faq/how-to/faq_113/ ) we would also want a config setting to disable Transitions for specific periods.\r\n\r\nIdeally this was configurable additionally per site as it can be useful when there are many lower traffic sites in there and only one or few high traffic sites like\r\n\r\n```ini\r\n[Transitions] ; applies to all sites\r\nsetting_name=...\r\n[Transitions_61] ; applies only to site 61\r\nsetting_name=...\r\n```\r\n\r\nWe would want to configure whether it's enabled for `year`, `month`, `week`, or `day`. If a range is selected and it's bigger than the not allowed period, then it should not work on that range. If only `month|week|day` is allowed, then any range selecting more than 31 days wouldn't be possible. Maybe we allow to configure the max period like \r\n\r\n```\r\nmax_period_allowed=any|year|month|week|day\r\n```\r\n\r\nJust a quick thought and naming could be likely improved. I guess once you allow month, it should also automatically allow week and day.\r\n\r\n* [ ] When the feature is disabled for a period, it should ideally not be shown in a row action.\r\n* [ ] When the feature is disabled for a period, then the Transitions report should say something like \"This feature is not available for this period, try selecting a period with less ...\" and not even try to load any data.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18332/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18331", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18331/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18331/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18331/events", "html_url": "https://github.com/matomo-org/matomo/pull/18331", "id": 1055208108, "node_id": "PR_kwDOABefqs4um9w2", "number": 18331, "title": "Translations update from Hosted Weblate", "user": { "login": "weblate", "id": 1607653, "node_id": "MDQ6VXNlcjE2MDc2NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1607653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weblate", "html_url": "https://github.com/weblate", "followers_url": "https://api.github.com/users/weblate/followers", "following_url": "https://api.github.com/users/weblate/following{/other_user}", "gists_url": "https://api.github.com/users/weblate/gists{/gist_id}", "starred_url": "https://api.github.com/users/weblate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weblate/subscriptions", "organizations_url": "https://api.github.com/users/weblate/orgs", "repos_url": "https://api.github.com/users/weblate/repos", "events_url": "https://api.github.com/users/weblate/events{/privacy}", "received_events_url": "https://api.github.com/users/weblate/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 0, "created_at": "2021-11-16T18:45:58Z", "updated_at": "2021-11-30T08:52:20Z", "closed_at": "2021-11-30T08:52:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18331", "html_url": "https://github.com/matomo-org/matomo/pull/18331", "diff_url": "https://github.com/matomo-org/matomo/pull/18331.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18331.patch", "merged_at": "2021-11-30T08:52:19Z" }, "body": "Translations update from [Hosted Weblate](https://hosted.weblate.org/projects/matomo/matomo-base/)\nfor Matomo/Matomo Base.\n\n\n\nCurrent translation status:\n\n![Weblate translation status](https://hosted.weblate.org/widgets/matomo/-/matomo-base/horizontal-auto.svg)\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18331/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18330", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18330/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18330/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18330/events", "html_url": "https://github.com/matomo-org/matomo/pull/18330", "id": 1054972938, "node_id": "PR_kwDOABefqs4umMqk", "number": 18330, "title": "Further improvements for PHP 8.1", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 1, "created_at": "2021-11-16T14:52:28Z", "updated_at": "2021-11-24T19:37:12Z", "closed_at": "2021-11-24T19:37:12Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18330", "html_url": "https://github.com/matomo-org/matomo/pull/18330", "diff_url": "https://github.com/matomo-org/matomo/pull/18330.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18330.patch", "merged_at": "2021-11-24T19:37:11Z" }, "body": "### Description:\r\n\r\nI'm still running the tests locally to identify more PHP 8.1 related issues.\r\nI will continue to push additional commits to this PR till I'm not able to identify more (by running the tests).\r\n\r\nrefs #17686 \r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18330/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18329", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18329/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18329/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18329/events", "html_url": "https://github.com/matomo-org/matomo/pull/18329", "id": 1054970407, "node_id": "PR_kwDOABefqs4umMH0", "number": 18329, "title": "Hide feedback banner in zen mode", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 2, "created_at": "2021-11-16T14:50:07Z", "updated_at": "2021-11-17T01:21:34Z", "closed_at": "2021-11-17T01:21:34Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18329", "html_url": "https://github.com/matomo-org/matomo/pull/18329", "diff_url": "https://github.com/matomo-org/matomo/pull/18329.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18329.patch", "merged_at": "2021-11-17T01:21:33Z" }, "body": "### Description:\r\n\r\nI guess if someone decides to switch to zen mode, he currently doesn't want to give any feedback.\r\nAs it would be quite likely that the banner would simply be closed in that case, we should hide it in zen mode, so a user might still be able to click it when switching to normal mode again.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18329/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18328", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18328/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18328/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18328/events", "html_url": "https://github.com/matomo-org/matomo/pull/18328", "id": 1054946202, "node_id": "PR_kwDOABefqs4umHAk", "number": 18328, "title": "Updates Symfony components to 5.4.x", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 2831840267, "node_id": "MDU6TGFiZWwyODMxODQwMjY3", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Do%20not%20close", "name": "Do not close", "color": "0e8a16", "default": false, "description": "Pull requests with this label won't be marked as stale by the Close Stale Issues action" } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/134", "html_url": "https://github.com/matomo-org/matomo/milestone/134", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/134/labels", "id": 5099423, "node_id": "MDk6TWlsZXN0b25lNTA5OTQyMw==", "number": 134, "title": "5.0.0", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 28, "closed_issues": 49, "state": "open", "created_at": "2020-02-12T19:41:40Z", "updated_at": "2022-09-30T00:23:49Z", "due_on": "2022-05-18T07:00:00Z", "closed_at": null }, "comments": 7, "created_at": "2021-11-16T14:28:21Z", "updated_at": "2022-09-27T02:17:28Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18328", "html_url": "https://github.com/matomo-org/matomo/pull/18328", "diff_url": "https://github.com/matomo-org/matomo/pull/18328.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18328.patch", "merged_at": null }, "body": "### Description:\r\n\r\nWe are currently still using Symfony Console (and other components) in version 2.6.\r\nThis one is quite outdated and has some issues with PHP 8.1 (deprecation warnings).\r\n\r\nThis PR will update all components to the last available version 5.4.x.\r\n\r\nSo far there were two issues I have identified after the update:\r\n\r\n- The monolog class `ConsoleFormatter` does not longer have multiple constructor parameters, but takes an option array instead. This was adjusted in `plugins/Monolog/config/cli.php`\r\n\r\n- The `execute` method of a console command is now kind of forced to return an integer. Before that was kind of expected, but all other values were silently treated as `0`. I have adjusted our command class, so it will catch and log that error and return `0` in that case. That way commands that may not yet be adjusted won't fail. I have nevertheless changed all commands in core here and already created PRs for the submodule plugins.\r\n\r\n- The DialogHelper has been deprecated and removed meanwhile. I've added it back for BC, but we need to migrate our usage to the QuestionsHelper instead.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18328/reactions", "total_count": 2, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 2, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18328/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18327", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18327/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18327/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18327/events", "html_url": "https://github.com/matomo-org/matomo/issues/18327", "id": 1054707843, "node_id": "I_kwDOABefqs4-3ZCD", "number": 18327, "title": "Are there any way to get correct URLs for matomo.js when running the UI from a different domain?", "user": { "login": "mikkeschiren", "id": 712838, "node_id": "MDQ6VXNlcjcxMjgzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/712838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikkeschiren", "html_url": "https://github.com/mikkeschiren", "followers_url": "https://api.github.com/users/mikkeschiren/followers", "following_url": "https://api.github.com/users/mikkeschiren/following{/other_user}", "gists_url": "https://api.github.com/users/mikkeschiren/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikkeschiren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikkeschiren/subscriptions", "organizations_url": "https://api.github.com/users/mikkeschiren/orgs", "repos_url": "https://api.github.com/users/mikkeschiren/repos", "events_url": "https://api.github.com/users/mikkeschiren/events{/privacy}", "received_events_url": "https://api.github.com/users/mikkeschiren/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 2084322191, "node_id": "MDU6TGFiZWwyMDg0MzIyMTkx", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Potential%20Bug", "name": "Potential Bug", "color": "fbbaba", "default": false, "description": "Something that might be a bug, but can't be reproduced (yet)." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 3, "created_at": "2021-11-16T10:28:36Z", "updated_at": "2021-11-18T22:05:16Z", "closed_at": "2021-11-18T22:05:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I had problem to figure out which category to post this in.\r\n\r\nAnyhow.\r\nIf I am running Matomo UI on a different domain like: dashboard.matomo.analytics is there a way to get the tracker scripts use another domain if they are only exposed on another sub domain (tracker.matomo.analytics) ?\r\n\r\nSure, the analytics people can change the domain from the tracker scipts to point to tracker.matomo.analytics instead dashboard.matomo.analytics - but there could many \"human errors\" if we do so.\r\n\r\nSo instead of \r\n\r\n```\r\n\r\n\r\n<!-- Matomo -->\r\n<script>\r\n var _paq = window._paq = window._paq || [];\r\n /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr tracker methods like \"setCustomDimension\" should be called before \"trackPageView\" */\r\n _paq.push(['trackPageView']);\r\n _paq.push(['enableLinkTracking']);\r\n (function() {\r\n var u=\"//dashboard.matomo.analytics/\";\r\n _paq.push(['setTrackerUrl', u+'matomo.php']);\r\n _paq.push(['setSiteId', '1']);\r\n var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\r\n g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);\r\n })();\r\n</script>\r\n<!-- End Matomo Code -->\r\n\r\n```\r\nI want:\r\n\r\n```\r\n<!-- Matomo -->\r\n<script>\r\n var _paq = window._paq = window._paq || [];\r\n /bin /cmd /dev /etc /git-bash.exe /git-cmd.exe /LICENSE.txt /mingw64 /proc /ReleaseNotes.html /tmp /unins000.dat /unins000.exe /unins000.msg /usr tracker methods like \"setCustomDimension\" should be called before \"trackPageView\" */\r\n _paq.push(['trackPageView']);\r\n _paq.push(['enableLinkTracking']);\r\n (function() {\r\n var u=\"//tracker.matomo.analytics/\";\r\n _paq.push(['setTrackerUrl', u+'matomo.php']);\r\n _paq.push(['setSiteId', '1']);\r\n var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\r\n g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);\r\n })();\r\n</script>\r\n<!-- End Matomo Code -->\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18327/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18326", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18326/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18326/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18326/events", "html_url": "https://github.com/matomo-org/matomo/pull/18326", "id": 1054699717, "node_id": "PR_kwDOABefqs4ulSiq", "number": 18326, "title": "Add option to specify the max number of websites to process by archiver.", "user": { "login": "EreMaijala", "id": 1327659, "node_id": "MDQ6VXNlcjEzMjc2NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1327659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EreMaijala", "html_url": "https://github.com/EreMaijala", "followers_url": "https://api.github.com/users/EreMaijala/followers", "following_url": "https://api.github.com/users/EreMaijala/following{/other_user}", "gists_url": "https://api.github.com/users/EreMaijala/gists{/gist_id}", "starred_url": "https://api.github.com/users/EreMaijala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EreMaijala/subscriptions", "organizations_url": "https://api.github.com/users/EreMaijala/orgs", "repos_url": "https://api.github.com/users/EreMaijala/repos", "events_url": "https://api.github.com/users/EreMaijala/events{/privacy}", "received_events_url": "https://api.github.com/users/EreMaijala/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 15, "created_at": "2021-11-16T10:20:48Z", "updated_at": "2021-11-25T07:38:41Z", "closed_at": "2021-11-25T02:08:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18326", "html_url": "https://github.com/matomo-org/matomo/pull/18326", "diff_url": "https://github.com/matomo-org/matomo/pull/18326.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18326.patch", "merged_at": "2021-11-25T02:08:46Z" }, "body": "\r\n### Description:\r\n\r\nThis change makes it possible to limit the process lifetime to avoid excessive memory usage (possibly due to PHP bugs such as 79519).\r\n\r\n#### Rationale:\r\n\r\nWe have an issue with the archiver and a large number (~3900) of sites where the archiver process runs out of memory. We have tried to increase memory_limit up to 12 GB to no avail, so this is an attempt to limit the lifetime of the archiver to avoid this excessive memory usage.\r\n\r\nAs a sidenote there seem to be some static or long-living arrays that consume memory during archiving, such as the transient cache, but they don't seem to explain everything. I suspect PHP issues such as [79519](https://bugs.php.net/bug.php?id=79519) contribute to this.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18326/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18325", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18325/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18325/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18325/events", "html_url": "https://github.com/matomo-org/matomo/pull/18325", "id": 1054586488, "node_id": "PR_kwDOABefqs4uk638", "number": 18325, "title": "Remove update script that might cause problems", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 1, "created_at": "2021-11-16T08:22:25Z", "updated_at": "2021-11-16T19:36:50Z", "closed_at": "2021-11-16T19:36:49Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18325", "html_url": "https://github.com/matomo-org/matomo/pull/18325", "diff_url": "https://github.com/matomo-org/matomo/pull/18325.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18325.patch", "merged_at": "2021-11-16T19:36:49Z" }, "body": "### Description:\r\n\r\nWas wondering a few times lately why the file `/plugins/VisitFrequency/Archiver.php` was removed locally after running tests.\r\nSeems the reason is, that some updater tests are trying to update from a very old version, causing all update scripts to be executed.\r\n\r\nI guess the same might actually happen if someone tries updating from Piwik before 2.2 to Matomo after 4.1.2. The update would first create the Archiver file and the update script would then remove it again when it is executed.\r\nShould be better to remove that one.\r\n\r\nping @diosmosis You had removed that file in one of your PRs by accident as well. guess this is the reason.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18325/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18324", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18324/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18324/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18324/events", "html_url": "https://github.com/matomo-org/matomo/issues/18324", "id": 1054514435, "node_id": "I_kwDOABefqs4-2p0D", "number": 18324, "title": "Remove glossary notes in Weblate CLA field", "user": { "login": "comradekingu", "id": 13802408, "node_id": "MDQ6VXNlcjEzODAyNDA4", "avatar_url": "https://avatars.githubusercontent.com/u/13802408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comradekingu", "html_url": "https://github.com/comradekingu", "followers_url": "https://api.github.com/users/comradekingu/followers", "following_url": "https://api.github.com/users/comradekingu/following{/other_user}", "gists_url": "https://api.github.com/users/comradekingu/gists{/gist_id}", "starred_url": "https://api.github.com/users/comradekingu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comradekingu/subscriptions", "organizations_url": "https://api.github.com/users/comradekingu/orgs", "repos_url": "https://api.github.com/users/comradekingu/repos", "events_url": "https://api.github.com/users/comradekingu/events{/privacy}", "received_events_url": "https://api.github.com/users/comradekingu/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 7, "created_at": "2021-11-16T06:57:22Z", "updated_at": "2021-11-16T21:11:55Z", "closed_at": "2021-11-16T10:11:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://hosted.weblate.org/contributor-agreement/matomo/glossary/?next=/projects/matomo/glossary/\r\n\r\nWhen any list of strings is loaded that has glossary strings included, none of them can be translated in Zen mode.\r\n\r\nRemove it form https://hosted.weblate.org/settings/matomo/ and add it to the info field in https://hosted.weblate.org/settings/matomo/glossary/#basic ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18324/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18323", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18323/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18323/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18323/events", "html_url": "https://github.com/matomo-org/matomo/pull/18323", "id": 1054431944, "node_id": "PR_kwDOABefqs4ukar0", "number": 18323, "title": "Fix for misaligned evolution trend icons", "user": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 1, "created_at": "2021-11-16T04:33:26Z", "updated_at": "2021-11-16T20:04:45Z", "closed_at": "2021-11-16T20:04:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18323", "html_url": "https://github.com/matomo-org/matomo/pull/18323", "diff_url": "https://github.com/matomo-org/matomo/pull/18323.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18323.patch", "merged_at": "2021-11-16T20:04:44Z" }, "body": "### Description:\r\n\r\nFixes #18322\r\n\r\nAll websites evolution trend icons should now be properly vertically aligned. The proportional tooltip text has also been tweaked.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18323/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18322", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18322/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18322/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18322/events", "html_url": "https://github.com/matomo-org/matomo/issues/18322", "id": 1054425520, "node_id": "I_kwDOABefqs4-2UGw", "number": 18322, "title": "Misaligned evolution trend icons", "user": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 171063645, "node_id": "MDU6TGFiZWwxNzEwNjM2NDU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Design%20/%20UI", "name": "c: Design / UI", "color": "006b75", "default": false, "description": "For issues that impact Matomo's user interface or the design overall." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-16T04:20:44Z", "updated_at": "2021-11-18T13:34:32Z", "closed_at": "2021-11-18T13:34:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Evolution trend icons are not vertically aligned with evolution percent. \r\n![image](https://user-images.githubusercontent.com/88810029/141907172-790dc84e-f7f3-4e61-8a88-f5e78e7acb4b.png)\r\n\r\nAlso adjust the last sentence of the evolution proportional tooltip to explicitly state that the comparison is against a partial previous period \"2 visits this month compared to 4 visits in the previous *partial* period (Oct 2021)\"\r\n\r\n## Expected Behavior\r\nArrow icons should be vertically centered against the evolution percent figure\r\n\r\n## Current Behavior\r\nArrow icons are misaligned\r\n\r\n## Steps to Reproduce (for Bugs)\r\nView the All Websites page\r\n\r\n## Your Environment\r\n\r\n* Matomo Version: 4.6.0RC1\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18322/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18321", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18321/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18321/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18321/events", "html_url": "https://github.com/matomo-org/matomo/pull/18321", "id": 1054407438, "node_id": "PR_kwDOABefqs4ukVno", "number": 18321, "title": "Sort segment static lists by usage", "user": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 2, "created_at": "2021-11-16T03:43:48Z", "updated_at": "2021-11-19T10:39:20Z", "closed_at": "2021-11-19T10:39:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18321", "html_url": "https://github.com/matomo-org/matomo/pull/18321", "diff_url": "https://github.com/matomo-org/matomo/pull/18321.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18321.patch", "merged_at": "2021-11-19T10:39:19Z" }, "body": "### Description:\r\n\r\nFixes #15620 \r\n\r\nAPI calls to suggested values for segments that are static lists (eg. countries) will now be returned sorted by the most used values first. This should mitigate the issue where suggested value lists do not contain the most frequently used values. \r\n\r\nFor example, the getSuggestedValuesForSegment list for countryName will now return a list of country names with the countries that have the most visits at the top rather than an alphabetical list potentially containing countries that have no visits or missing countries with many visits but names towards the end of the alphabet.\r\n\r\nThis has been applied to segments: countryName, browserName and operatingSystemName\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18321/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18320", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18320/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18320/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18320/events", "html_url": "https://github.com/matomo-org/matomo/pull/18320", "id": 1054201529, "node_id": "PR_kwDOABefqs4ujv5H", "number": 18320, "title": "[automatic composer updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2021-11-15T22:46:28Z", "updated_at": "2021-11-29T01:38:56Z", "closed_at": "2021-11-16T00:44:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18320", "html_url": "https://github.com/matomo-org/matomo/pull/18320", "diff_url": "https://github.com/matomo-org/matomo/pull/18320.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18320.patch", "merged_at": "2021-11-16T00:44:49Z" }, "body": "composer update log:\n```\nLoading composer repositories with package information\nUpdating dependencies\nLock file operations: 0 installs, 1 update, 0 removals\n - Upgrading matomo/matomo-php-tracker (3.0.3 => 3.0.4)\nWriting lock file\nInstalling dependencies from lock file (including require-dev)\nPackage operations: 0 installs, 1 update, 0 removals\n - Downloading matomo/matomo-php-tracker (3.0.4)\n - Upgrading matomo/matomo-php-tracker (3.0.3 => 3.0.4): Extracting archive\nPackage phpunit/php-token-stream is abandoned, you should avoid using it. No replacement was suggested.\nGenerating autoload files\n32 packages you are using are looking for funding.\nUse the `composer fund` command to find out more!\n```\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18320/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18319", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18319/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18319/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18319/events", "html_url": "https://github.com/matomo-org/matomo/pull/18319", "id": 1054179839, "node_id": "PR_kwDOABefqs4ujsrL", "number": 18319, "title": "Updated newsletter signup link", "user": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 1, "created_at": "2021-11-15T22:30:09Z", "updated_at": "2021-11-19T10:41:27Z", "closed_at": "2021-11-16T01:21:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18319", "html_url": "https://github.com/matomo-org/matomo/pull/18319", "diff_url": "https://github.com/matomo-org/matomo/pull/18319.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18319.patch", "merged_at": "2021-11-16T01:21:11Z" }, "body": "### Description:\r\n\r\nFixes #18313\r\n\r\nMinor text tweak to the user newsletter signup link text\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18319/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18318", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18318/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18318/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18318/events", "html_url": "https://github.com/matomo-org/matomo/issues/18318", "id": 1053987211, "node_id": "I_kwDOABefqs4-0pGL", "number": 18318, "title": "Clickhouse V2", "user": { "login": "RoyBellingan", "id": 368572, "node_id": "MDQ6VXNlcjM2ODU3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/368572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RoyBellingan", "html_url": "https://github.com/RoyBellingan", "followers_url": "https://api.github.com/users/RoyBellingan/followers", "following_url": "https://api.github.com/users/RoyBellingan/following{/other_user}", "gists_url": "https://api.github.com/users/RoyBellingan/gists{/gist_id}", "starred_url": "https://api.github.com/users/RoyBellingan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RoyBellingan/subscriptions", "organizations_url": "https://api.github.com/users/RoyBellingan/orgs", "repos_url": "https://api.github.com/users/RoyBellingan/repos", "events_url": "https://api.github.com/users/RoyBellingan/events{/privacy}", "received_events_url": "https://api.github.com/users/RoyBellingan/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 4, "created_at": "2021-11-15T18:42:26Z", "updated_at": "2021-11-15T20:21:47Z", "closed_at": "2021-11-15T20:21:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "So I saw clickhouse is beeing discussed several time already in \r\n\r\nhttps://github.com/matomo-org/matomo/issues/2592\r\nhttps://github.com/matomo-org/matomo/issues/17697\r\n\r\nI think you are missing an interesting option, keep using mysql for ALL except the SLOW query...\r\nI am working at the moment on speeding up the following query, that in my use case are the one that takes the majority of time which are like\r\n\r\nhttps://gist.github.com/RoyBellingan/4391287fa5b88e97f7b79062c1b92274\r\n\r\nSo the table log_visit can ONLY be updated if visit_last_action_time is not older than SESSION_TIME (default of 30 minutes)\r\nand of course log_action is append only (PLEASE correct me if I am wrong, but I logged the sql in mysql and I have never seen been done in other cases (also looking at the index, really looks like the case))\r\n\r\nI just have to replicate those 2... for log_action is just a matter max(id), the other one is more involved, I already connected clickhouse to mysql https://clickhouse.com/docs/en/sql-reference/table-functions/mysql/ and I am already insert into mysql from clickhouse in other project.\r\n\r\nOf course this is \"pro user\" thing only, and only if you are having massive amount of traffic... \r\n\r\nI will update once I have a few more number and example ready to be analyzed.\r\n\r\n\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18318/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18317", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18317/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18317/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18317/events", "html_url": "https://github.com/matomo-org/matomo/pull/18317", "id": 1053667126, "node_id": "PR_kwDOABefqs4uiHYM", "number": 18317, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-15T13:27:38Z", "updated_at": "2021-11-15T13:28:03Z", "closed_at": "2021-11-15T13:27:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18317", "html_url": "https://github.com/matomo-org/matomo/pull/18317", "diff_url": "https://github.com/matomo-org/matomo/pull/18317.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18317.patch", "merged_at": "2021-11-15T13:27:52Z" }, "body": "Updated submodules:\n- plugins/CustomVariables\n- plugins/DeviceDetectorCache\n- plugins/MarketingCampaignsReporting\n- plugins/TagManager\n- plugins/TasksTimetable\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18317/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18316", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18316/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18316/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18316/events", "html_url": "https://github.com/matomo-org/matomo/pull/18316", "id": 1053663226, "node_id": "PR_kwDOABefqs4uiGju", "number": 18316, "title": "[automatic composer updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-15T13:23:48Z", "updated_at": "2021-11-15T13:26:00Z", "closed_at": "2021-11-15T13:25:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18316", "html_url": "https://github.com/matomo-org/matomo/pull/18316", "diff_url": "https://github.com/matomo-org/matomo/pull/18316.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18316.patch", "merged_at": "2021-11-15T13:25:43Z" }, "body": "composer update log:\n```\nLoading composer repositories with package information\nUpdating dependencies\nLock file operations: 0 installs, 1 update, 0 removals\n - Upgrading matomo/matomo-php-tracker (3.0.1 => 3.0.3)\nWriting lock file\nInstalling dependencies from lock file (including require-dev)\nPackage operations: 0 installs, 1 update, 0 removals\n - Downloading matomo/matomo-php-tracker (3.0.3)\n - Upgrading matomo/matomo-php-tracker (3.0.1 => 3.0.3): Extracting archive\nPackage phpunit/php-token-stream is abandoned, you should avoid using it. No replacement was suggested.\nGenerating autoload files\n32 packages you are using are looking for funding.\nUse the `composer fund` command to find out more!\n```\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18316/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18316/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18315", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18315/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18315/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18315/events", "html_url": "https://github.com/matomo-org/matomo/pull/18315", "id": 1053661304, "node_id": "PR_kwDOABefqs4uiGJn", "number": 18315, "title": "Determine the first date to show feedback question banner more randomly", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 8, "created_at": "2021-11-15T13:21:54Z", "updated_at": "2021-11-15T21:33:54Z", "closed_at": "2021-11-15T21:33:53Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18315", "html_url": "https://github.com/matomo-org/matomo/pull/18315", "diff_url": "https://github.com/matomo-org/matomo/pull/18315.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18315.patch", "merged_at": "2021-11-15T21:33:53Z" }, "body": "### Description:\r\n\r\nThis should randomize the first time the feedback banner is shown\r\n\r\n@tsteur is this random enough?\r\n\r\nfollow-up to #18308\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18315/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18314", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18314/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18314/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18314/events", "html_url": "https://github.com/matomo-org/matomo/pull/18314", "id": 1053537979, "node_id": "PR_kwDOABefqs4uhsTB", "number": 18314, "title": "Fix some PHP8.1 deprecation warnings occurred while running tests", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 2, "created_at": "2021-11-15T11:11:37Z", "updated_at": "2021-11-16T00:13:55Z", "closed_at": "2021-11-16T00:13:54Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18314", "html_url": "https://github.com/matomo-org/matomo/pull/18314", "diff_url": "https://github.com/matomo-org/matomo/pull/18314.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18314.patch", "merged_at": "2021-11-16T00:13:54Z" }, "body": "### Description:\r\n\r\nTried running the tests locally and a couple of deprecation warnings showed up. Not sure if they would occur normally. But should be good to fix them nevertheless.\r\n\r\nrefs #17686 \r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18314/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18313", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18313/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18313/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18313/events", "html_url": "https://github.com/matomo-org/matomo/issues/18313", "id": 1053078997, "node_id": "I_kwDOABefqs4-xLXV", "number": 18313, "title": "Newsletter Signup in personal settings, mention Matomo privacy policy applies", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 126437638, "node_id": "MDU6TGFiZWwxMjY0Mzc2Mzg=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Privacy", "name": "c: Privacy", "color": "bfe5bf", "default": false, "description": "For issues that impact or improve the privacy." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-15T00:01:43Z", "updated_at": "2021-11-19T10:41:33Z", "closed_at": "2021-11-16T01:21:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/273120/141704164-72ba280a-8714-498c-b1de-58baf333369f.png)\r\n\r\nIt should say \r\n\r\n> Learn more about it on [Matomo's Privacy Policy page]()\r\n\r\n\"on our privacy policy\" can be misleading as users might have a custom privacy policy applied (which can be configured in Privacy settings). And \"our\" isn't \"us\" (Matomo) when it's hosted by a user (it would then mean it's the user's privacy policy).\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18313/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18312", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18312/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18312/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18312/events", "html_url": "https://github.com/matomo-org/matomo/issues/18312", "id": 1053075681, "node_id": "I_kwDOABefqs4-xKjh", "number": 18312, "title": "Add the referrer to the real time log similar to the Matomo App", "user": { "login": "jmumby", "id": 4339071, "node_id": "MDQ6VXNlcjQzMzkwNzE=", "avatar_url": "https://avatars.githubusercontent.com/u/4339071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmumby", "html_url": "https://github.com/jmumby", "followers_url": "https://api.github.com/users/jmumby/followers", "following_url": "https://api.github.com/users/jmumby/following{/other_user}", "gists_url": "https://api.github.com/users/jmumby/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmumby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmumby/subscriptions", "organizations_url": "https://api.github.com/users/jmumby/orgs", "repos_url": "https://api.github.com/users/jmumby/repos", "events_url": "https://api.github.com/users/jmumby/events{/privacy}", "received_events_url": "https://api.github.com/users/jmumby/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 3, "created_at": "2021-11-14T22:35:21Z", "updated_at": "2021-11-16T15:03:28Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "The Matomo app shows the referrer in the real time log.\r\n\r\nAPP\r\n![image](https://user-images.githubusercontent.com/4339071/141701353-70c69d89-6e88-48c6-a936-28dbdb7ffa15.png)\r\n\r\nThe browser version does not have this data. \r\n\r\nWeb APP\r\n![image](https://user-images.githubusercontent.com/4339071/141701176-a6031114-7521-475e-b5bc-f6b7a53b7f1e.png)\r\n\r\nThe desktop version is of course the same. \r\n\r\n## Summary\r\nCan we please add the referrer to the web version of Matomo. \r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18312/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18310", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18310/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18310/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18310/events", "html_url": "https://github.com/matomo-org/matomo/issues/18310", "id": 1053052083, "node_id": "I_kwDOABefqs4-xEyz", "number": 18310, "title": "Fatal error Impossible to invoke a method (\\\"getRowsCount\\\") on a boolean variable", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/163", "html_url": "https://github.com/matomo-org/matomo/milestone/163", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/163/labels", "id": 8040741, "node_id": "MI_kwDOABefqs4AerEl", "number": 163, "title": "4.12.0", "description": "", "creator": { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false }, "open_issues": 6, "closed_issues": 192, "state": "open", "created_at": "2022-06-02T07:49:12Z", "updated_at": "2022-09-30T18:15:51Z", "due_on": null, "closed_at": null }, "comments": 2, "created_at": "2021-11-14T21:57:51Z", "updated_at": "2022-09-21T05:54:26Z", "closed_at": "2022-09-21T05:54:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Stacktrace:\r\n\r\n> Error: {\"message\":\"Impossible to invoke a method (\\\"getRowsCount\\\") on a boolean variable (\\\"\\\").\",\"file\":\"\\/plugins\\/CoreVisualizations\\/templates\\/_dataTableViz_htmlTable.twig\",\"line\":15,\"request_id\":\"2001f\",\"backtrace\":\" on \\/plugins\\/CoreVisualizations\\/templates\\/_dataTableViz_htmlTable.twig(15)\\n#0 \\/tmp\\/templates_c\\/d0\\/d013f74306a2a91dd5de5a93c762aadf1bccad0b7b40b2273259926c780a964d.php(63): twig_get_attribute(Object(Twig\\\\Environment), Object(Twig\\\\Source), false, 'getRowsCount', Array, 'method', false, false, false, 15)\\n#1 \\/vendor\\/twig\\/twig\\/src\\/Template.php(394): __TwigTemplate_462cb7f5bb23fb3aed8430e16a75c4a93ffff6bfe2250abcaa6ac46c2dce2c3c->doDisplay(Array, Array)\\n#2 \\/vendor\\/twig\\/twig\\/src\\/Template.php(367): Twig\\\\Template->displayWithErrorHandling(Array, Array)\\n#3 \\/tmp\\/templates_c\\/d0\\/d013f74306a2a91dd5de5a93c762aadf1bccad0b7b40b2273259926c780a964d.php(280): Twig\\\\Template->display(Array)\\n#4 \\/vendor\\/twig\\/twig\\/src\\/Template.php(394): __TwigTemplate_462cb7f5bb23fb3aed8430e16a75c4a93ffff6bfe2250abcaa6ac46c2dce2c3c->doDisplay(Array, Array)\\n#5 \\/vendor\\/twig\\/twig\\/src\\/Template.php(367): Twig\\\\Template->displayWithErrorHandling(Array, Array)\\n#6 \\/tmp\\/templates_c\\/37\\/3778e1f25244e9b13c79bb7f1f2ff8d782d90651202f396874512e174d3279b5.php(250): Twig\\\\Template->display(Array)\\n#7 \\/vendor\\/twig\\/twig\\/src\\/Template.php(394): __TwigTemplate_e135e321ed78391f54c5d30fa2ac2c94c51b0fe4a0efde66231a2aaf49de30e2->doDisplay(Array, Array)\\n#8 \\/vendor\\/twig\\/twig\\/src\\/Template.php(367): Twig\\\\Template->displayWithErrorHandling(Array, Array)\\n#9 \\/vendor\\/twig\\/twig\\/src\\/Template.php(379): Twig\\\\Template->display(Array)\\n#10 \\/vendor\\/twig\\/twig\\/src\\/TemplateWrapper.php(40): Twig\\\\Template->render(Array, Array)\\n#11 \\/vendor\\/twig\\/twig\\/src\\/Environment.php(277): Twig\\\\TemplateWrapper->render(Array)\\n#12 \\/core\\/View.php(331): Twig\\\\Environment->render('@CoreHome\\/_data...', Array)\\n#13 \\/core\\/View.php(316): Piwik\\\\View->renderTwigTemplate()\\n#14 \\/core\\/Plugin\\/Visualization.php(269): Piwik\\\\View->render()\\n#15 \\/core\\/Plugin\\/Report.php(320): Piwik\\\\Plugin\\\\Visualization->render()\\n#16 \\/plugins\\/CoreHome\\/Controller.php(59): Piwik\\\\Plugin\\\\Report->render()\\n#17 [internal function]: Piwik\\\\Plugins\\\\CoreHome\\\\Controller->renderReportWidget(Object(Piwik\\\\Plugins\\\\Actions\\\\Reports\\\\GetPageUrls))\\n#18 \\/core\\/FrontController.php(619): call_user_func_array(Array, Array)\\n#19 \\/core\\/FrontController.php(168): Piwik\\\\FrontController->doDispatch('Actions', 'getPageUrls', Array)\\n#20 \\/core\\/dispatch.php(32): Piwik\\\\FrontController->dispatch()\\n#21 \\/index.php(25): require_once('\\/c...')\\n#22 {main}\",\"safemode_backtrace\":\"#0 [internal function]: Piwik\\\\Plugins\\\\Cloud\\\\Controller->safemode(Array)\\n#1 \\/core\\/FrontController.php(619): call_user_func_array(Array, Array)\\n#2 \\/core\\/FrontController.php(168): Piwik\\\\FrontController->doDispatch('Cloud', 'safemode', Array)\\n#3 \\/core\\/FrontController.php(99): Piwik\\\\FrontController->dispatch('CorePluginsAdmi...', 'safemode', Array)\\n#4 \\/core\\/FrontController.php(139): Piwik\\\\FrontController::(Array)\\n#5 \\/core\\/FrontController.php(183): Piwik\\\\FrontController::(Object(Twig\\\\Error\\\\RuntimeError))\\n#6 \\/core\\/dispatch.php(32): Piwik\\\\FrontController->dispatch()\\n#7 \\/index.php(25): require_once('\\/c...')\\n#8 {main}\"}\r\n\r\nUrl:\r\n\r\n> index.php?date=last30&viewDataTable=table&limit_increaser=0&limit_decreaser=5&keep_totals_row=0&module=Actions&action=getPageUrls&idSite=2&period=range&random=5556&search_recursive=1&min_growth_percent=1&order_by=absolute&compared_to_x_periods_ago=1&filter_sort_column=nb_visits&filter_sort_order=desc&enable_filter_excludelowpop=0&filter_column_recursive=label&filter_pattern_recursive=checkout&filter_offset=0&filter_limit=10&flat=0&totals=1\r\n\r\n> GET: {\"date\":\"last30\",\"viewDataTable\":\"table\",\"limit_increaser\":\"0\",\"limit_decreaser\":\"5\",\"keep_totals_row\":\"0\",\"module\":\"Actions\",\"action\":\"getPageUrls\",\"idSite\":\"2\",\"period\":\"range\",\"random\":\"5556\",\"search_recursive\":\"1\",\"min_growth_percent\":\"1\",\"order_by\":\"absolute\",\"compared_to_x_periods_ago\":\"1\",\"filter_sort_column\":\"nb_visits\",\"filter_sort_order\":\"desc\",\"enable_filter_excludelowpop\":\"0\",\"filter_column_recursive\":\"label\",\"filter_pattern_recursive\":\"checkout\",\"filter_offset\":\"0\",\"filter_limit\":\"10\",\"flat\":\"0\",\"totals\":\"1\"}\r\n\r\nReferrer: index.php?module=CoreHome&action=index&idSite=2&period=range&date=last30&updated=3\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18310/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18310/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18309", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18309/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18309/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18309/events", "html_url": "https://github.com/matomo-org/matomo/pull/18309", "id": 1053045375, "node_id": "PR_kwDOABefqs4ugGJF", "number": 18309, "title": "Couple of fixes in QuickForm2 for PHP8.1 compatibility", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 1, "created_at": "2021-11-14T21:25:17Z", "updated_at": "2021-11-29T00:54:17Z", "closed_at": "2021-11-15T23:02:33Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18309", "html_url": "https://github.com/matomo-org/matomo/pull/18309", "diff_url": "https://github.com/matomo-org/matomo/pull/18309.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18309.patch", "merged_at": "2021-11-15T23:02:33Z" }, "body": "### Description:\r\n\r\nfixes #18117\r\n\r\nNote: QuickForm2 would meanwhile also be available via composer, so we could switch using that instead. Unfortunately QuickForm2 is compatible with PHP 5.4+, which makes it impossible to have it compatible with PHP 8.1\r\n as well. I first created an approach using composer and forked the QuickForm2 repos to adjust the fixes (see https://github.com/matomo-org/matomo/compare/quickform_composer), but guess they might not be merged upstream because of the PHP requirement maybe. So guess simply adjusting the code here would be the simplest solution for now.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18309/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18309/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18308", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18308/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18308/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18308/events", "html_url": "https://github.com/matomo-org/matomo/pull/18308", "id": 1053044998, "node_id": "PR_kwDOABefqs4ugGE4", "number": 18308, "title": "Update Feedback Question banner", "user": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-14T21:23:33Z", "updated_at": "2021-11-15T13:11:28Z", "closed_at": "2021-11-15T13:11:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18308", "html_url": "https://github.com/matomo-org/matomo/pull/18308", "diff_url": "https://github.com/matomo-org/matomo/pull/18308.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18308.patch", "merged_at": "2021-11-15T13:11:27Z" }, "body": "### Description:\r\n\r\nUpdate feedback Question Banner, Fix random UI failed for UIIntegrationTest I think this is related to #18124, update selection.json missing heart icon #18262.\r\n\r\nAlso, follow up on request here [https://github.com/matomo-org/matomo/issues/18251#issuecomment-968298122](https://github.com/matomo-org/matomo/issues/18251#issuecomment-968298122)\r\n- Hide question banner on mobile\r\n- add event hook for banner\r\n- update event show condition\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18308/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18306", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18306/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18306/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18306/events", "html_url": "https://github.com/matomo-org/matomo/issues/18306", "id": 1053016327, "node_id": "I_kwDOABefqs4-w8EH", "number": 18306, "title": "Make Matomo work when it is installed in a directory", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 2, "created_at": "2021-11-14T19:08:42Z", "updated_at": "2021-11-15T19:24:01Z", "closed_at": "2021-11-15T19:24:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "refs https://github.com/matomo-org/matomo/issues/18305 and https://github.com/matomo-org/matomo/issues/17945 and potentially quite a few more.\r\n\r\nI see we often use `Settings::getPiwikUrl`. But this only returns a host, not the directory.\r\n\r\nIn quite a few places like https://github.com/matomo-org/matomo/blob/4.6.0-b3/core/DataTable/Renderer/Rss.php#L56 we only use `getPiwikUrl` which doesn't include the directory and we generate a wrong URL.\r\n\r\nMaybe we need to adjust the method to also consider the path potentially? But then we might also need a `getPiwikHost` method where it only returns the host (eg when we generate the option for the console `--matomo-domain=$HOST`). Note: Changing `getPiwikUrl` could cause a lot of regressions in various plugins. It might not be a good idea and we might need to change this in Matomo 5. So we would need something maybe rather like `getPiwikUrlWithPath` and keep old behaviour for `getPiwikUrl` (maybe, to be looked at)\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18306/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18305", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18305/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18305/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18305/events", "html_url": "https://github.com/matomo-org/matomo/issues/18305", "id": 1053015602, "node_id": "I_kwDOABefqs4-w74y", "number": 18305, "title": "Diagnostic Check for private directories does not work when Matomo is installed in a directory", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 1, "created_at": "2021-11-14T19:05:29Z", "updated_at": "2021-11-14T23:04:50Z", "closed_at": "2021-11-14T23:04:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "see https://github.com/matomo-org/matomo/issues/18132#issuecomment-966908570\r\n\r\n> My problem is that the System-Check tries https://mydomain.com/config/config.ini.php instead of https://mydomain.com/matomo/config/config.ini.php (Issue #17945).\r\n\r\nI checked and it's using `SettingsPiwik::getPiwikUrl` indeed. Maybe something like `Url::getCurrentUrlWithoutQueryString()` should be used. \r\n\r\nDo I see this right that we might be using `SettingsPiwik::getPiwikUrl` wrong also in quite a lot of other places @sgiehl ? Maybe we need to adjust the method to also consider the path potentially? But then we might also need a `getPiwikHost` method where it only returns the host (eg when we generate the option for the console `--matomo-domain=$HOST`). \r\n\r\nEdit: created https://github.com/matomo-org/matomo/issues/18306\r\n\r\nThis issue is only for fixing the diagnostic check", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18305/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18304", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18304/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18304/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18304/events", "html_url": "https://github.com/matomo-org/matomo/pull/18304", "id": 1053013323, "node_id": "PR_kwDOABefqs4ugAV7", "number": 18304, "title": "Bug fix: Tooltip was closed when click on subcategory name but not wh‚Ä¶", "user": { "login": "jonathannoel", "id": 22681079, "node_id": "MDQ6VXNlcjIyNjgxMDc5", "avatar_url": "https://avatars.githubusercontent.com/u/22681079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathannoel", "html_url": "https://github.com/jonathannoel", "followers_url": "https://api.github.com/users/jonathannoel/followers", "following_url": "https://api.github.com/users/jonathannoel/following{/other_user}", "gists_url": "https://api.github.com/users/jonathannoel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathannoel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathannoel/subscriptions", "organizations_url": "https://api.github.com/users/jonathannoel/orgs", "repos_url": "https://api.github.com/users/jonathannoel/repos", "events_url": "https://api.github.com/users/jonathannoel/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathannoel/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-14T18:55:22Z", "updated_at": "2021-11-14T22:15:10Z", "closed_at": "2021-11-14T20:30:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18304", "html_url": "https://github.com/matomo-org/matomo/pull/18304", "diff_url": "https://github.com/matomo-org/matomo/pull/18304.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18304.patch", "merged_at": "2021-11-14T20:30:40Z" }, "body": "‚Ä¶en click on category name. #18162.\r\n\r\n### Description:\r\n\r\nIncluded a notification remove on click on category name.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18304/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18303", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18303/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18303/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18303/events", "html_url": "https://github.com/matomo-org/matomo/issues/18303", "id": 1052972342, "node_id": "I_kwDOABefqs4-wxU2", "number": 18303, "title": "[4.6.0-b2] Error: Call to undefined function Piwik\\piwik_fix_lbrace() in DiagnosticResult.php", "user": { "login": "MichaIng", "id": 28480705, "node_id": "MDQ6VXNlcjI4NDgwNzA1", "avatar_url": "https://avatars.githubusercontent.com/u/28480705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaIng", "html_url": "https://github.com/MichaIng", "followers_url": "https://api.github.com/users/MichaIng/followers", "following_url": "https://api.github.com/users/MichaIng/following{/other_user}", "gists_url": "https://api.github.com/users/MichaIng/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaIng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaIng/subscriptions", "organizations_url": "https://api.github.com/users/MichaIng/orgs", "repos_url": "https://api.github.com/users/MichaIng/repos", "events_url": "https://api.github.com/users/MichaIng/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaIng/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 112370566, "node_id": "MDU6TGFiZWwxMTIzNzA1NjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/worksforme", "name": "worksforme", "color": "ededed", "default": false, "description": "The issue cannot be reproduced and things work as intended." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 4, "created_at": "2021-11-14T15:49:32Z", "updated_at": "2021-12-06T12:26:23Z", "closed_at": "2021-11-14T22:31:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please provide a short summary of the issue in the *Title* above -->\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n<!-- Important: If this bug is regarding a premium plugin you purchased on plugins.matomo.org, please email shop@innocraft.com instead of creating a bug report here. -->\r\n\r\n## Expected Behavior\r\nThe diagnostic check when accessing admin settings does not fail.\r\n\r\n## Current Behavior\r\nThe diagnostic check when accessing admin settings fails with this errro:\r\n```\r\nUncaught exception: Error: Call to undefined function Piwik\\piwik_fix_lbrace() in /var/www/matomo/plugins/Diagnostics/Diagnostic/DiagnosticResult.php:74\r\n```\r\nIf you need the stack trace, I can add it.\r\n\r\n## Possible Solution\r\n- Related code: https://github.com/matomo-org/matomo/blob/4.x-dev/plugins/Diagnostics/Diagnostic/DiagnosticResult.php#L74\r\n- Probably this function got removed or renamed with latest beta? Though it is here and namespace correct, also this script exists on my system: https://github.com/matomo-org/matomo/blob/4.x-dev/core/Twig.php#L43\r\n- It got implemented here: #18171\r\n- Not sure what's wrong with it. I cannot rule out that it is related our recent upgrade to PHP8.1.\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. Update to Matomo v4.6.0-b2\r\n2. Access the admin settings\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\n\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.6.0-b2\r\n* PHP Version: 8.1.0RC6\r\n* Server Operating System: Debian Bookworm\r\n* Additionally installed plugins:\r\n```\r\nAPI, Actions, Annotations, BulkTracking, CoreAdminHome, CoreConsole, CoreHome, CorePluginsAdmin, CoreUpdater, CoreVisualizations, CoreVue, DBStats, DarkTheme 1.1.7, Dashboard, DevicePlugins, DevicesDetection, Diagnostics, Goals, IPReports 4.1.1, ImageGraph, Insights, Installation, Intl, LanguagesManager, Live, LogViewer 4.0.1, Login, Marketplace, Monolog, Morpheus, PagePerformance, PrivacyManager, Proxy, Referrers, Resolution, SEO, SegmentEditor, SitesManager, TrackingSpamPrevention 4.1.0, Transitions, UserLanguage, UsersManager, VisitFrequency, VisitTime, VisitorInterest, VisitsSummary, WebsiteMeasurable\r\n```\r\n* Browser: Opera 83\r\n* Operating System: Windows 10", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18303/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18302", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18302/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18302/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18302/events", "html_url": "https://github.com/matomo-org/matomo/pull/18302", "id": 1052952602, "node_id": "PR_kwDOABefqs4uf1Ri", "number": 18302, "title": "Translations update from Hosted Weblate", "user": { "login": "weblate", "id": 1607653, "node_id": "MDQ6VXNlcjE2MDc2NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1607653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weblate", "html_url": "https://github.com/weblate", "followers_url": "https://api.github.com/users/weblate/followers", "following_url": "https://api.github.com/users/weblate/following{/other_user}", "gists_url": "https://api.github.com/users/weblate/gists{/gist_id}", "starred_url": "https://api.github.com/users/weblate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weblate/subscriptions", "organizations_url": "https://api.github.com/users/weblate/orgs", "repos_url": "https://api.github.com/users/weblate/repos", "events_url": "https://api.github.com/users/weblate/events{/privacy}", "received_events_url": "https://api.github.com/users/weblate/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-14T14:25:18Z", "updated_at": "2021-11-15T09:47:11Z", "closed_at": "2021-11-15T09:47:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18302", "html_url": "https://github.com/matomo-org/matomo/pull/18302", "diff_url": "https://github.com/matomo-org/matomo/pull/18302.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18302.patch", "merged_at": "2021-11-15T09:47:10Z" }, "body": "Translations update from [Hosted Weblate](https://hosted.weblate.org/projects/matomo/matomo-base/)\nfor Matomo/Matomo Base.\n\n\n\nCurrent translation status:\n\n![Weblate translation status](https://hosted.weblate.org/widgets/matomo/-/matomo-base/horizontal-auto.svg)\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18302/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18301", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18301/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18301/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18301/events", "html_url": "https://github.com/matomo-org/matomo/issues/18301", "id": 1051916406, "node_id": "I_kwDOABefqs4-svh2", "number": 18301, "title": "Masking of IPv6", "user": { "login": "dennisbaaten", "id": 17255580, "node_id": "MDQ6VXNlcjE3MjU1NTgw", "avatar_url": "https://avatars.githubusercontent.com/u/17255580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dennisbaaten", "html_url": "https://github.com/dennisbaaten", "followers_url": "https://api.github.com/users/dennisbaaten/followers", "following_url": "https://api.github.com/users/dennisbaaten/following{/other_user}", "gists_url": "https://api.github.com/users/dennisbaaten/gists{/gist_id}", "starred_url": "https://api.github.com/users/dennisbaaten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dennisbaaten/subscriptions", "organizations_url": "https://api.github.com/users/dennisbaaten/orgs", "repos_url": "https://api.github.com/users/dennisbaaten/repos", "events_url": "https://api.github.com/users/dennisbaaten/events{/privacy}", "received_events_url": "https://api.github.com/users/dennisbaaten/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 126437638, "node_id": "MDU6TGFiZWwxMjY0Mzc2Mzg=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Privacy", "name": "c: Privacy", "color": "bfe5bf", "default": false, "description": "For issues that impact or improve the privacy." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/162", "html_url": "https://github.com/matomo-org/matomo/milestone/162", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/162/labels", "id": 8023069, "node_id": "MI_kwDOABefqs4Aemwd", "number": 162, "title": "For Prioritization", "description": "Issues the Product Team will prioritize into future milestones or backlog", "creator": { "login": "justinvelluppillai", "id": 1127121, "node_id": "MDQ6VXNlcjExMjcxMjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1127121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinvelluppillai", "html_url": "https://github.com/justinvelluppillai", "followers_url": "https://api.github.com/users/justinvelluppillai/followers", "following_url": "https://api.github.com/users/justinvelluppillai/following{/other_user}", "gists_url": "https://api.github.com/users/justinvelluppillai/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinvelluppillai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinvelluppillai/subscriptions", "organizations_url": "https://api.github.com/users/justinvelluppillai/orgs", "repos_url": "https://api.github.com/users/justinvelluppillai/repos", "events_url": "https://api.github.com/users/justinvelluppillai/events{/privacy}", "received_events_url": "https://api.github.com/users/justinvelluppillai/received_events", "type": "User", "site_admin": false }, "open_issues": 119, "closed_issues": 3, "state": "open", "created_at": "2022-05-26T21:14:10Z", "updated_at": "2022-09-30T00:47:47Z", "due_on": null, "closed_at": null }, "comments": 6, "created_at": "2021-11-12T12:24:01Z", "updated_at": "2022-07-20T00:01:44Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "The [FAQ](https://matomo.org/faq/general/faq_20870/) describes the way masking is done for IPv6 addresses:\r\n\r\n> IP Anonymisation privacy feature will anonymise IPv6 addresses. For example if Matomo is configured to anonymise ‚Äú1 byte‚Äù from an IPv4, then the IPv6 address 2001:db8:0:8d3:0:8a2e:70:7344 would be anonymised as 2001:db8:0:8d3:0:0:0:0. When configured to anonymise 2 bytes, then the IPv6 becomes 2001:db8:0:0:0:0:0:0. And when configured to anonymise 3 bytes, then the IPv6 would be 2001:d00:0:0:0:0:0:0.\r\n\r\nFirst of all, I find the example IPv6 address a bit confusing since the full /128 version has two \"0\" quartets in it.\r\n\r\nWhen looking at the masking options, the FAQ seems to suggest that the IPv6 masking options are:\r\n- 64 bits\r\n- 80 or 96 bits\r\n- 108 bits\r\n\r\nAt the same time the [source code](https://github.com/matomo-org/component-network/blob/master/src/IPv6.php#L41)\r\n```\r\n $masks = array(\r\n 'ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff',\r\n 'ffff:ffff:ffff:ffff::',\r\n 'ffff:ffff:ffff:0000::',\r\n 'ffff:ff00:0000:0000::',\r\n '0000::'\r\n );\r\n```\r\nseems to imply that the masking options are:\r\n- 64 bits\r\n- 80 bits\r\n- 104 bits\r\n\r\nLast but not least, I notice that most ISP's give /48 to their customers, which means that a person can be uniquely identified by these 3 first quartets. So all IPv6 masking options of 80 bits and less are not sufficient for anonymization, potentially causing problems with GDPR compliance. Because 104 bits masking (or more) would hinder location analytics too much, it seems a good idea to include a masking option of, let's say, 96 bits. \r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18301/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18300", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18300/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18300/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18300/events", "html_url": "https://github.com/matomo-org/matomo/pull/18300", "id": 1051803335, "node_id": "PR_kwDOABefqs4ucqM_", "number": 18300, "title": "Corrected paths mentioning \"piwik/\" to \"/path/to/matomo/\".", "user": { "login": "cherouvim", "id": 743305, "node_id": "MDQ6VXNlcjc0MzMwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/743305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cherouvim", "html_url": "https://github.com/cherouvim", "followers_url": "https://api.github.com/users/cherouvim/followers", "following_url": "https://api.github.com/users/cherouvim/following{/other_user}", "gists_url": "https://api.github.com/users/cherouvim/gists{/gist_id}", "starred_url": "https://api.github.com/users/cherouvim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cherouvim/subscriptions", "organizations_url": "https://api.github.com/users/cherouvim/orgs", "repos_url": "https://api.github.com/users/cherouvim/repos", "events_url": "https://api.github.com/users/cherouvim/events{/privacy}", "received_events_url": "https://api.github.com/users/cherouvim/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-12T10:20:08Z", "updated_at": "2021-11-29T01:38:48Z", "closed_at": "2021-11-12T10:59:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18300", "html_url": "https://github.com/matomo-org/matomo/pull/18300", "diff_url": "https://github.com/matomo-org/matomo/pull/18300.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18300.patch", "merged_at": "2021-11-12T10:59:33Z" }, "body": "Updated some old paths mentioning \"piwik/\" to read \"/path/to/matomo/\". I did this because during matomo installation I was presented with the following, which I found confusing:\r\n\r\n> The Matomo Super User can manually edit the file piwik/config/config.ini.php and add the following lines:\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18300/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18299", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18299/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18299/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18299/events", "html_url": "https://github.com/matomo-org/matomo/pull/18299", "id": 1051693572, "node_id": "PR_kwDOABefqs4ucVdi", "number": 18299, "title": "Updates device detector to new major version", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 1, "created_at": "2021-11-12T08:15:40Z", "updated_at": "2021-11-15T09:00:47Z", "closed_at": "2021-11-15T09:00:47Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18299", "html_url": "https://github.com/matomo-org/matomo/pull/18299", "diff_url": "https://github.com/matomo-org/matomo/pull/18299.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18299.patch", "merged_at": "2021-11-15T09:00:46Z" }, "body": "### Description:\r\n\r\nsee title\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18299/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18298", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18298/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18298/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18298/events", "html_url": "https://github.com/matomo-org/matomo/pull/18298", "id": 1051516590, "node_id": "PR_kwDOABefqs4ubxlH", "number": 18298, "title": "[automatic composer updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-12T02:14:35Z", "updated_at": "2021-11-12T07:54:56Z", "closed_at": "2021-11-12T07:54:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18298", "html_url": "https://github.com/matomo-org/matomo/pull/18298", "diff_url": "https://github.com/matomo-org/matomo/pull/18298.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18298.patch", "merged_at": "2021-11-12T07:54:56Z" }, "body": "composer update log:\n```\nLoading composer repositories with package information\nUpdating dependencies\nLock file operations: 0 installs, 1 update, 0 removals\n - Upgrading sebastian/exporter (3.1.3 => 3.1.4)\nWriting lock file\nInstalling dependencies from lock file (including require-dev)\nPackage operations: 0 installs, 1 update, 0 removals\n - Downloading sebastian/exporter (3.1.4)\n - Upgrading sebastian/exporter (3.1.3 => 3.1.4): Extracting archive\nPackage phpunit/php-token-stream is abandoned, you should avoid using it. No replacement was suggested.\nGenerating autoload files\n32 packages you are using are looking for funding.\nUse the `composer fund` command to find out more!\n```\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18298/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18297", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18297/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18297/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18297/events", "html_url": "https://github.com/matomo-org/matomo/pull/18297", "id": 1051516519, "node_id": "PR_kwDOABefqs4ubxkU", "number": 18297, "title": "[automatic submodule updates]", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-12T02:14:24Z", "updated_at": "2021-11-12T07:54:17Z", "closed_at": "2021-11-12T07:54:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18297", "html_url": "https://github.com/matomo-org/matomo/pull/18297", "diff_url": "https://github.com/matomo-org/matomo/pull/18297.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18297.patch", "merged_at": "2021-11-12T07:54:16Z" }, "body": "Updated submodules:\n- plugins/TagManager\n- plugins/TrackingSpamPrevention\n- plugins/VisitorGenerator\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18297/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18296", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18296/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18296/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18296/events", "html_url": "https://github.com/matomo-org/matomo/pull/18296", "id": 1051450687, "node_id": "PR_kwDOABefqs4ubkW6", "number": 18296, "title": "[Vue] Cannot return IAngularEvent in $emit wrapper unfortunately.", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-11T23:46:35Z", "updated_at": "2021-11-29T01:38:04Z", "closed_at": "2021-11-12T02:40:51Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18296", "html_url": "https://github.com/matomo-org/matomo/pull/18296", "diff_url": "https://github.com/matomo-org/matomo/pull/18296.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18296.patch", "merged_at": "2021-11-12T02:40:51Z" }, "body": "### Description:\r\n\r\nThe result does not appear to be used by angularjs so it should be fine.\r\n\r\n@sgiehl the requested fix\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18296/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18296/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18295", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18295/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18295/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18295/events", "html_url": "https://github.com/matomo-org/matomo/issues/18295", "id": 1051440609, "node_id": "I_kwDOABefqs4-q7Xh", "number": 18295, "title": "When aggregating data tables for a week, month, year or range period, don't store all archive content in memory", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 4, "created_at": "2021-11-11T23:23:19Z", "updated_at": "2022-04-12T05:15:29Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "This is a follow up from https://github.com/matomo-org/matomo/pull/17817 where we only expand one data table at a time.\r\n\r\nWe've noticed though we're still seeing sometimes memory issues for eg a yearly archive where it exceeds 8GB. This archive has 9 levels down of subtables and overall a lot of rows. One thing that could help with memory be in **to not load the data of all data tables at once into memory**.:\r\n\r\n![image](https://user-images.githubusercontent.com/273120/141381835-f3c8280d-fd7f-4b6f-84ad-494bee547adb.png)\r\n\r\nEach data table is then later expanded one at a time. \r\n\r\nThe only problem with loading the needed data tables on demand would be performance as we'd need to do a lot more select queries to get each \"subchildren\" data table. Maybe that means we might not want to do this or maybe we can find a compromise somehow.\r\n\r\nrefs L3-126", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18295/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18295/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18294", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18294/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18294/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18294/events", "html_url": "https://github.com/matomo-org/matomo/pull/18294", "id": 1051010926, "node_id": "PR_kwDOABefqs4uaIyb", "number": 18294, "title": "Fix time on page calculation in visits log", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 9, "created_at": "2021-11-11T14:01:40Z", "updated_at": "2021-11-26T14:58:12Z", "closed_at": "2021-11-26T14:35:42Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18294", "html_url": "https://github.com/matomo-org/matomo/pull/18294", "diff_url": "https://github.com/matomo-org/matomo/pull/18294.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18294.patch", "merged_at": "2021-11-26T14:35:42Z" }, "body": "### Description:\r\n\r\nThis change would actually remove the time on page for all actions other than pageviews. For pageviews the time on page would be summed up till the next pageview.\r\n\r\nThis is an approach to fix #18270 \r\n\r\nDid the changes in a couple of minutes while checking for a possible reason. To finish this some manual testing and updating/adding tests would be needed.\r\n\r\n@tsteur If this is something that should be worked on further, feel free to assign the PR to a milestone and I will resume the work then.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18294/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18294/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18293", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18293/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18293/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18293/events", "html_url": "https://github.com/matomo-org/matomo/pull/18293", "id": 1050858699, "node_id": "PR_kwDOABefqs4uZpAS", "number": 18293, "title": "Avoid further deprecation warnings on PHP 8.1", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-11T11:05:05Z", "updated_at": "2021-11-11T19:09:30Z", "closed_at": "2021-11-11T19:09:29Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18293", "html_url": "https://github.com/matomo-org/matomo/pull/18293", "diff_url": "https://github.com/matomo-org/matomo/pull/18293.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18293.patch", "merged_at": "2021-11-11T19:09:29Z" }, "body": "### Description:\r\n\r\nFixes deprecation warnings reported in https://github.com/matomo-org/matomo/issues/17686#issuecomment-964702520\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18293/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18292", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18292/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18292/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18292/events", "html_url": "https://github.com/matomo-org/matomo/pull/18292", "id": 1050603951, "node_id": "PR_kwDOABefqs4uYzWW", "number": 18292, "title": "[Vue] migrate siteselector directive and quick-access directive", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 11, "created_at": "2021-11-11T05:59:42Z", "updated_at": "2021-11-19T14:18:59Z", "closed_at": "2021-11-19T14:18:58Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18292", "html_url": "https://github.com/matomo-org/matomo/pull/18292", "diff_url": "https://github.com/matomo-org/matomo/pull/18292.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18292.patch", "merged_at": "2021-11-19T14:18:58Z" }, "body": "### Description:\r\n\r\n**This PR is based off of https://github.com/matomo-org/matomo/pull/18225.**\r\n\r\nThis PR has a breaking change to createAngularAdapter() so other Vue PRs in progress may need to be modified (unless they are merged before this, then I'll fix the conflicts here).\r\n\r\nChanges:\r\n* Add typescript types for mousetrap library.\r\n* deprecate autocomplete-matched as it's trivial to implement in siteselector and is not used anywhere else.\r\n* in broadcast.propagateNewPage() add extra parameter for supplying the entire new URL to load. in this case, it does not build the URL using other parameters.\r\n* add a MatomoUrl.updateUrl() method that reloads the entire URL (search + hash)\r\n* make sure promise returned by AjaxHelper.fetch has an abort() method\r\n* in createAngularAdapter() add vue instance to the event handler functions and postCreate(). this is so ngModel could be connected to v-model in Vue.\r\n* migrated the siteselector directive.\r\n* migrated the quick-access directive.\r\n* migrated the siteselector-model service as the SitesStore. This is shared between quick-access and siteselector. The only state that's shared is the initial list of sites that is loaded once, unlike currently where the list of currently displayed sites is also shared between the two directives.\r\n* in createAngularAdapter() allow specifying a `require:` field to the angularjs directive that is created.\r\n* add the ability to transform values when binding from angularjs => vue (for example, converting values to booleans, as in `noclear` for siteselector)\r\n* disable webpack asset size hints (since our assets are already bigger at the end than what is recommended by webpack).\r\n* when changing sites, removed the `showAjaxLoading = false` parameter so MatomoUrl.updateUrl() will stay simple. Doesn't seem to have much of an effect IMO so I think it's ok.\r\n\r\n![image](https://user-images.githubusercontent.com/125140/141254156-3359ed88-2ce3-4036-accd-6971954706b4.png)\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18292/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18292/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18291", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18291/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18291/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18291/events", "html_url": "https://github.com/matomo-org/matomo/issues/18291", "id": 1050527744, "node_id": "I_kwDOABefqs4-ncgA", "number": 18291, "title": "Page Overlay doesn't seem to work when tracking code Matomo URL is different from Matomo GUI URL (e.g. proxy configuration)", "user": { "login": "peterbo", "id": 1018973, "node_id": "MDQ6VXNlcjEwMTg5NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/1018973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbo", "html_url": "https://github.com/peterbo", "followers_url": "https://api.github.com/users/peterbo/followers", "following_url": "https://api.github.com/users/peterbo/following{/other_user}", "gists_url": "https://api.github.com/users/peterbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbo/subscriptions", "organizations_url": "https://api.github.com/users/peterbo/orgs", "repos_url": "https://api.github.com/users/peterbo/repos", "events_url": "https://api.github.com/users/peterbo/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbo/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 2084322191, "node_id": "MDU6TGFiZWwyMDg0MzIyMTkx", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Potential%20Bug", "name": "Potential Bug", "color": "fbbaba", "default": false, "description": "Something that might be a bug, but can't be reproduced (yet)." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 4, "created_at": "2021-11-11T03:14:29Z", "updated_at": "2022-03-24T13:40:12Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected Behavior\r\n<!-- When describing a bug, please tell us what should happen -->\r\nWhen opening the Page Overlay feature for a given URL, the Page Overlay should open and display the corresponding numbers and overlay data for a given page.\r\n\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\n\r\n## Current Behavior\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\nCurrently, if the Matomo tracking URL is different from the Matomo GUI URL (e.g. in proxy environments), Overlay does open, but keeps the loading screen in the left frame (no data will be loaded), and no overlay data is shown in the website view frame.\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. Have the Matomo Tracking URL implemented in the website via URL A\r\n2. Have the Matomo Reporting GUI accessible via URL B\r\n3. try to open page overlay\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.4.1\r\n* PHP Version: ?\r\n* Server Operating System: ?\r\n* Additionally installed plugins: -\r\n<!-- For UI Bugs please also tell us something about your environment -->\r\n* Browser: Firefox\r\n* Operating System: Windows 10\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18291/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18290", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18290/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18290/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18290/events", "html_url": "https://github.com/matomo-org/matomo/pull/18290", "id": 1050278325, "node_id": "PR_kwDOABefqs4uXwQ2", "number": 18290, "title": "GitHub actions", "user": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false } ], "milestone": null, "comments": 22, "created_at": "2021-11-10T20:25:08Z", "updated_at": "2022-02-13T21:53:11Z", "closed_at": "2022-02-13T21:53:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18290", "html_url": "https://github.com/matomo-org/matomo/pull/18290", "diff_url": "https://github.com/matomo-org/matomo/pull/18290.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18290.patch", "merged_at": null }, "body": "### Description:\r\nAll the files that failed will be downloadable in the artifact at the moment. Add a new command for GitHub action. Not sure if that needed `./console tests:sync-ui-screenshots -a github -r matomo-org/matomo 1528756403` just used for my local screen compare and update image.\r\n\r\n### Failed UI\r\n![image](https://user-images.githubusercontent.com/3783072/145905312-334f9805-af74-4b7c-961d-01c49e2ae5a7.png)\r\n \r\n\r\n\r\nGroup all the bash to `.github/scripts/bash/prepare.sh`\r\nThis file split PHP XML into smaller fragments `tests/PHPUnit/formatXML.php`\r\n\r\n### MYSQLI adapter setup\r\n`mysqli.allow_local_infile = On`\r\n\r\n### Submodule implementation: \r\nTo set up Submodule on GitHub need to update plugin_tests.yml. Once approved, github-action should be 4.x-dev\r\n```yaml\r\n env:\r\n TARGET_BRANCH: github-aciton\r\n PLUGIN: AnonymousPiwikUsageMeasurement\r\n\r\n```\r\n\r\n- AnonymousPiwikUsageMeasurement https://github.com/matomo-org/plugin-AnonymousPiwikUsageMeasurement/pull/67 ‚àö\r\n- Bandwidth https://github.com/matomo-org/plugin-Bandwidth/pull/40 ‚àö\r\n- SecurityInfo https://github.com/matomo-org/plugin-SecurityInfo/pull/57 \r\n- MarketingCampaignsReporting https://github.com/matomo-org/plugin-MarketingCampaignsReporting/pull/89\r\n- CustomerAlerts https://github.com/matomo-org/plugin-CustomAlerts/pull/104\r\n- CustomVariables https://github.com/matomo-org/plugin-CustomVariables/pull/29\r\n- DeviceDetectorCache https://github.com/matomo-org/plugin-DeviceDetectorCache/pull/33\r\n- LogViewer https://github.com/matomo-org/plugin-LogViewer/pull/40\r\n- VisitorGenerator https://github.com/matomo-org/plugin-VisitorGenerator/pull/86\r\n- LoginLdap https://github.com/matomo-org/plugin-LoginLdap/pull/256\r\n- TasksTimetable https://github.com/matomo-org/plugin-TasksTimetable/pull/29\r\n- QueuedTracking https://github.com/matomo-org/plugin-QueuedTracking/pull/166\r\n- tag-manager https://github.com/matomo-org/tag-manager/pull/386\r\n- TreemapVisualization https://github.com/matomo-org/plugin-TreemapVisualization/pull/25\r\n- TrackingSpamPrevention https://github.com/matomo-org/plugin-TrackingSpamPrevention/pull/40\r\n\r\n\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18290/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18289", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18289/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18289/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18289/events", "html_url": "https://github.com/matomo-org/matomo/pull/18289", "id": 1050214282, "node_id": "PR_kwDOABefqs4uXi6C", "number": 18289, "title": "Translations update from Hosted Weblate", "user": { "login": "weblate", "id": 1607653, "node_id": "MDQ6VXNlcjE2MDc2NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1607653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weblate", "html_url": "https://github.com/weblate", "followers_url": "https://api.github.com/users/weblate/followers", "following_url": "https://api.github.com/users/weblate/following{/other_user}", "gists_url": "https://api.github.com/users/weblate/gists{/gist_id}", "starred_url": "https://api.github.com/users/weblate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weblate/subscriptions", "organizations_url": "https://api.github.com/users/weblate/orgs", "repos_url": "https://api.github.com/users/weblate/repos", "events_url": "https://api.github.com/users/weblate/events{/privacy}", "received_events_url": "https://api.github.com/users/weblate/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-10T19:21:00Z", "updated_at": "2021-11-14T14:16:06Z", "closed_at": "2021-11-14T14:16:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18289", "html_url": "https://github.com/matomo-org/matomo/pull/18289", "diff_url": "https://github.com/matomo-org/matomo/pull/18289.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18289.patch", "merged_at": "2021-11-14T14:16:06Z" }, "body": "Translations update from [Hosted Weblate](https://hosted.weblate.org/projects/matomo/matomo-base/)\nfor Matomo/Matomo Base.\n\n\n\nCurrent translation status:\n\n![Weblate translation status](https://hosted.weblate.org/widgets/matomo/-/matomo-base/horizontal-auto.svg)\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18289/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18288", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18288/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18288/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18288/events", "html_url": "https://github.com/matomo-org/matomo/pull/18288", "id": 1049647939, "node_id": "PR_kwDOABefqs4uVsTD", "number": 18288, "title": "Translations update from Hosted Weblate", "user": { "login": "weblate", "id": 1607653, "node_id": "MDQ6VXNlcjE2MDc2NTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1607653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weblate", "html_url": "https://github.com/weblate", "followers_url": "https://api.github.com/users/weblate/followers", "following_url": "https://api.github.com/users/weblate/following{/other_user}", "gists_url": "https://api.github.com/users/weblate/gists{/gist_id}", "starred_url": "https://api.github.com/users/weblate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weblate/subscriptions", "organizations_url": "https://api.github.com/users/weblate/orgs", "repos_url": "https://api.github.com/users/weblate/repos", "events_url": "https://api.github.com/users/weblate/events{/privacy}", "received_events_url": "https://api.github.com/users/weblate/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 0, "created_at": "2021-11-10T10:25:00Z", "updated_at": "2021-11-10T19:14:48Z", "closed_at": "2021-11-10T19:14:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18288", "html_url": "https://github.com/matomo-org/matomo/pull/18288", "diff_url": "https://github.com/matomo-org/matomo/pull/18288.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18288.patch", "merged_at": "2021-11-10T19:14:48Z" }, "body": "Translations update from [Hosted Weblate](https://hosted.weblate.org/projects/matomo/matomo-base/)\nfor Matomo/Matomo Base.\n\n\n\nCurrent translation status:\n\n![Weblate translation status](https://hosted.weblate.org/widgets/matomo/-/matomo-base/horizontal-auto.svg)\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18288/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18287", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18287/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18287/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18287/events", "html_url": "https://github.com/matomo-org/matomo/pull/18287", "id": 1049345692, "node_id": "PR_kwDOABefqs4uUtxd", "number": 18287, "title": "[Vue] Add support for scoped styles (though they will not be able to access theme variables).", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 2, "created_at": "2021-11-10T02:56:39Z", "updated_at": "2021-11-29T01:37:57Z", "closed_at": "2021-11-11T02:30:50Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18287", "html_url": "https://github.com/matomo-org/matomo/pull/18287", "diff_url": "https://github.com/matomo-org/matomo/pull/18287.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18287.patch", "merged_at": "2021-11-11T02:30:50Z" }, "body": "### Description:\r\n\r\nNoticed that my understanding of how Vue implements scoped styles was incorrect. I assumed it worked like Emotion, but for production Vue will generate a CSS file. So we can use scoped styles w/o increasing the JS bundle size.\r\n\r\nNote, however, that theme variables defined in the normal Matomo asset pipeline are not available here, so it will be of limited use. For the migration I won't be moving them.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18287/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18286", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18286/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18286/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18286/events", "html_url": "https://github.com/matomo-org/matomo/pull/18286", "id": 1049334442, "node_id": "PR_kwDOABefqs4uUrj4", "number": 18286, "title": "[Vue] use .development suffix for watch files and gitignore them", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 2, "created_at": "2021-11-10T02:31:14Z", "updated_at": "2021-11-29T01:37:48Z", "closed_at": "2021-11-11T07:01:02Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18286", "html_url": "https://github.com/matomo-org/matomo/pull/18286", "diff_url": "https://github.com/matomo-org/matomo/pull/18286.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18286.patch", "merged_at": "2021-11-11T07:01:02Z" }, "body": "### Description:\r\n\r\nI noticed in the Vue workflow, when running vue:build --watch, the UMD files are overwritten. This causes git to notice and requires a vue:build before a dev can push. This PR changes the output file name of files built with --watch to have a .development suffix and adds paths like these to the .gitignore so rebuilding JS locally before pushing isn't always needed.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18286/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18285", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18285/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18285/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18285/events", "html_url": "https://github.com/matomo-org/matomo/pull/18285", "id": 1048987108, "node_id": "PR_kwDOABefqs4uThgp", "number": 18285, "title": "Ensure DNS records are only requested for IP allowlist when needed", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 2, "created_at": "2021-11-09T19:21:34Z", "updated_at": "2021-11-10T19:14:23Z", "closed_at": "2021-11-10T19:14:22Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18285", "html_url": "https://github.com/matomo-org/matomo/pull/18285", "diff_url": "https://github.com/matomo-org/matomo/pull/18285.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18285.patch", "merged_at": "2021-11-10T19:14:21Z" }, "body": "### Description:\r\n\r\n- only request dns records if it's not an IP range\r\n- cache DNS results for 30 seconds to reduce DNS requests\r\n\r\nNote: Tracking requests never go through the allow-list, as that's excluded here: https://github.com/matomo-org/matomo/blob/bc75f9dafc9287a7864f3ecd556a5ae6b699546a/plugins/CoreHome/CoreHome.php#L78-L81\r\n\r\nfixes #18244\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18285/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18284", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18284/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18284/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18284/events", "html_url": "https://github.com/matomo-org/matomo/pull/18284", "id": 1048196376, "node_id": "PR_kwDOABefqs4uQ8WG", "number": 18284, "title": "[Vue] wait for angular to be initialized to post events to avoid loading race condition", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 3, "created_at": "2021-11-09T05:08:17Z", "updated_at": "2021-11-11T21:32:59Z", "closed_at": "2021-11-09T20:39:47Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18284", "html_url": "https://github.com/matomo-org/matomo/pull/18284", "diff_url": "https://github.com/matomo-org/matomo/pull/18284.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18284.patch", "merged_at": "2021-11-09T20:39:47Z" }, "body": "### Description:\r\n\r\nevents can sometimes be posted before angular is ready. Waiting for angular seems to fix the issue.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18284/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18283", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18283/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18283/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18283/events", "html_url": "https://github.com/matomo-org/matomo/issues/18283", "id": 1048157083, "node_id": "I_kwDOABefqs4-eZub", "number": 18283, "title": "Don't archive anything in Goals unless a goal is configured or ecommerce is used", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 2, "created_at": "2021-11-09T03:48:50Z", "updated_at": "2022-01-11T20:12:38Z", "closed_at": "2022-01-11T20:12:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I noticed that 2/3rd of sites use neither goals nor ecommerce feature.\r\n\r\nThis means the goals archiver wouldn't need to archive anything when there is no goal and no ecommerce configured for a site.\r\n\r\nIf we didn't archive in that case, this would be especially useful because in the Goals archiver, we process two dependent archives for new visitors and returning visitors in [click](https://github.com/matomo-org/matomo/blob/4.6.0-b3/plugins/Goals/Archiver.php#L121-L122) and in [click](https://github.com/matomo-org/matomo/blob/4.6.0-b3/plugins/Goals/Archiver.php#L505-L506). This can be quite slow because it means for every segment (including the All Visits segments), we need to archive two additional segments. This means we need to create two additional temporary tables for the segment to get this data and it can be quite slow to resolve these segment queries. Not doing this can greatly improve archiving overall.\r\n\r\nI've prepared a rough fix in https://github.com/matomo-org/matomo/compare/improvegoalarchive?expand=1 but noticed many tests are now failing (see [click](https://app.travis-ci.com/github/matomo-org/matomo/builds/241406215)) because they don't have the ecommerce feature enabled but were tracking ecommerce data nonetheless.\r\n\r\nThe goal of this issue would be to check if the so far implemented logic makes sense and make the tests work. If tests aren't easy fixable or if there is any issue then we could otherwise also think about only skipping the `processDependentArchive` in the `Goals\\Archiver` when there is no goal and no ecommerce enabled.\r\n\r\nEg in the tests some fixtures would probably need to be updated that they no longer return data. In some other tests we'd want the ecommerce feature enabled for a site. This way we can test some sites where the archiver skips it and some sites where it's enabled.\r\n\r\nThe only downside to this is, once you create a goal or enable ecommerce, it will try to archive the data for the entire year for \"processDependentArchive\" when the yearly archive is being requested. That should be fine though I suppose. Any thoughts on this?\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18283/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18282", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18282/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18282/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18282/events", "html_url": "https://github.com/matomo-org/matomo/issues/18282", "id": 1047371530, "node_id": "I_kwDOABefqs4-bZ8K", "number": 18282, "title": "Stray vendor files in File Integrity report", "user": { "login": "alimony", "id": 331091, "node_id": "MDQ6VXNlcjMzMTA5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/331091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alimony", "html_url": "https://github.com/alimony", "followers_url": "https://api.github.com/users/alimony/followers", "following_url": "https://api.github.com/users/alimony/following{/other_user}", "gists_url": "https://api.github.com/users/alimony/gists{/gist_id}", "starred_url": "https://api.github.com/users/alimony/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alimony/subscriptions", "organizations_url": "https://api.github.com/users/alimony/orgs", "repos_url": "https://api.github.com/users/alimony/repos", "events_url": "https://api.github.com/users/alimony/events{/privacy}", "received_events_url": "https://api.github.com/users/alimony/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." }, { "id": 2084322191, "node_id": "MDU6TGFiZWwyMDg0MzIyMTkx", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Potential%20Bug", "name": "Potential Bug", "color": "fbbaba", "default": false, "description": "Something that might be a bug, but can't be reproduced (yet)." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2021-11-08T12:08:29Z", "updated_at": "2021-11-08T13:39:00Z", "closed_at": "2021-11-08T13:38:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get stray files in the File Integrity report but that seems to have popped up as part of an upgrade or similar.\r\n\r\n<!-- Important: Please contact the Matomo community forum for questions: https://forum.matomo.org/ -->\r\n<!-- Important: If this bug is regarding a premium plugin you purchased on plugins.matomo.org, please email shop@innocraft.com instead of creating a bug report here. -->\r\n\r\n## Expected Behavior\r\n<!-- When describing a bug, please tell us what should happen -->\r\n<!-- When suggesting a change/improvement, please tell us how it should work -->\r\nNo errors in integrity check, as I haven't modified any files.\r\n\r\n## Current Behavior\r\n<!-- For bugs please tell us what happens instead of the expected behavior -->\r\n<!-- If suggesting a change/improvement, explain the difference from current behavior -->\r\nI get three stray files.\r\n\r\n## Possible Solution\r\n<!-- Not required, but if possible try to describe a fix or ideas -->\r\n<!-- how to implement the suggested change or improvement -->\r\nIgnore these in the check, if they are now expected to pop up as part of other packages.\r\n\r\n## Steps to Reproduce (for Bugs)\r\n<!-- For UI bugs, please try to reproduce that on our demo (https://demo.matomo.cloud/) -->\r\n<!-- if that is possible, please include the URLs and steps how to reprduce it there -->\r\n<!-- For other bugs or UI bugs that can't be reproduced on Demo, please include any relevant -->\r\n<!-- URLs or commands your are using that may help us to reproduce the bug -->\r\n1. Upgrade to latest version of Matomo (4.5.0)\r\n\r\n## Context\r\n<!-- How has this issue affected you? What are you trying to accomplish? -->\r\n<!-- Providing context helps us come up with a solution that is most useful in the real world -->\r\n<!-- If there already was a discussion on our community forum about this topic, please also -->\r\n<!-- include the link here, as the posts might provide some helpful information -->\r\n```\r\nFiles were found in your Matomo, but we didn't expect them.\r\n--> Please delete these files to prevent errors. <--\r\n\r\nFile to delete: vendor/php-di/php-di/.gitstats.yml\r\nFile to delete: vendor/php-di/php-di/.phpstorm.meta.php\r\nFile to delete: vendor/twig/twig/.php_cs.dist\r\n```\r\n\r\n## Your Environment\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version: 4.5.0\r\n* PHP Version: 7.4.3\r\n* Server Operating System: Ubuntu 20.04", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18282/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18282/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18281", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18281/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18281/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18281/events", "html_url": "https://github.com/matomo-org/matomo/issues/18281", "id": 1047188506, "node_id": "I_kwDOABefqs4-atQa", "number": 18281, "title": "After upgrading matomo from 3.13 to 4.5, can't process archive ", "user": { "login": "MyIcecream", "id": 16222029, "node_id": "MDQ6VXNlcjE2MjIyMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/16222029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MyIcecream", "html_url": "https://github.com/MyIcecream", "followers_url": "https://api.github.com/users/MyIcecream/followers", "following_url": "https://api.github.com/users/MyIcecream/following{/other_user}", "gists_url": "https://api.github.com/users/MyIcecream/gists{/gist_id}", "starred_url": "https://api.github.com/users/MyIcecream/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MyIcecream/subscriptions", "organizations_url": "https://api.github.com/users/MyIcecream/orgs", "repos_url": "https://api.github.com/users/MyIcecream/repos", "events_url": "https://api.github.com/users/MyIcecream/events{/privacy}", "received_events_url": "https://api.github.com/users/MyIcecream/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 1592987658, "node_id": "MDU6TGFiZWwxNTkyOTg3NjU4", "url": "https://api.github.com/repos/matomo-org/matomo/labels/invalid", "name": "invalid", "color": "2f378c", "default": true, "description": "Indicates that an issue or pull request is no longer relevant." }, { "id": 2084322191, "node_id": "MDU6TGFiZWwyMDg0MzIyMTkx", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Potential%20Bug", "name": "Potential Bug", "color": "fbbaba", "default": false, "description": "Something that might be a bug, but can't be reproduced (yet)." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 13, "created_at": "2021-11-08T09:05:38Z", "updated_at": "2022-03-23T18:39:55Z", "closed_at": "2021-11-10T01:52:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "After upgrading matomo from 3.13 to 4.5 then can't process archive. The log stays on this page for three days without moving (FYI, I have 36w+ domains on my server), any idea?\r\n\r\nINFO [2021-11-08 08:53:46] 30799 ---------------------------\r\nINFO [2021-11-08 08:53:46] 30799 NOTES\r\nINFO [2021-11-08 08:53:46] 30799 - Async process archiving supported, using CliMulti.\r\nINFO [2021-11-08 08:53:46] 30799 - Reports for today will be processed at most every 3600 seconds. You can change this value in Matomo UI > Settings > General Settings.\r\nINFO [2021-11-08 08:53:46] 30799 - Archiving was last executed without error 349 days 0 hours ago\r\nINFO [2021-11-08 08:53:47] 30799 - Will process all 360546 websites\r\nINFO [2021-11-08 08:53:47] 30799 ---------------------------\r\nINFO [2021-11-08 08:53:47] 30799 START\r\nINFO [2021-11-08 08:53:47] 30799 Starting Matomo reports archiving...\r\nDEBUG [2021-11-08 08:53:47] 30799 Applying queued rearchiving...\r\n\r\n<!-- Include as many relevant details about the environment you experienced the bug in -->\r\n<!-- You can find some of that information in the system check -->\r\n* Matomo Version:4.5.0\r\n* PHP Version:7.4.21\r\n* Server Operating System:Centos7\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18281/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18280", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18280/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18280/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18280/events", "html_url": "https://github.com/matomo-org/matomo/pull/18280", "id": 1047000917, "node_id": "PR_kwDOABefqs4uNDMg", "number": 18280, "title": "Improvements to the in-app feature rating mechanism", "user": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "bx80", "id": 88810029, "node_id": "MDQ6VXNlcjg4ODEwMDI5", "avatar_url": "https://avatars.githubusercontent.com/u/88810029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bx80", "html_url": "https://github.com/bx80", "followers_url": "https://api.github.com/users/bx80/followers", "following_url": "https://api.github.com/users/bx80/following{/other_user}", "gists_url": "https://api.github.com/users/bx80/gists{/gist_id}", "starred_url": "https://api.github.com/users/bx80/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bx80/subscriptions", "organizations_url": "https://api.github.com/users/bx80/orgs", "repos_url": "https://api.github.com/users/bx80/repos", "events_url": "https://api.github.com/users/bx80/events{/privacy}", "received_events_url": "https://api.github.com/users/bx80/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/128", "html_url": "https://github.com/matomo-org/matomo/milestone/128", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/128/labels", "id": 4556682, "node_id": "MDk6TWlsZXN0b25lNDU1NjY4Mg==", "number": 128, "title": "4.6.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 204, "state": "closed", "created_at": "2019-08-07T22:56:56Z", "updated_at": "2021-12-20T00:42:49Z", "due_on": null, "closed_at": "2021-11-30T04:06:16Z" }, "comments": 13, "created_at": "2021-11-08T04:18:06Z", "updated_at": "2021-11-15T22:49:34Z", "closed_at": "2021-11-15T22:49:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18280", "html_url": "https://github.com/matomo-org/matomo/pull/18280", "diff_url": "https://github.com/matomo-org/matomo/pull/18280.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18280.patch", "merged_at": "2021-11-15T22:49:33Z" }, "body": "### Description:\r\n\r\nFixes #18186\r\n\r\nVarious improvement to the thumbs-up / thumbs-down in-app feedback function.\r\n\r\nAdds common multiple choice options to the dialog for like and dislike actions. When a choice has been make then a context sensitive question will be asked allowing for additional typed feedback. \r\n\r\nThe feedback email will now include parameters for the chosen multiple-choice answer and the installation type source of the feedback (Demo, on-premise or wordpress) along with the feature being rated and text comment.\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18280/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18279", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/18279/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/18279/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/18279/events", "html_url": "https://github.com/matomo-org/matomo/pull/18279", "id": 1046932041, "node_id": "PR_kwDOABefqs4uM1Nt", "number": 18279, "title": "add disable archiving segment for plugins", "user": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "peterhashair", "id": 3783072, "node_id": "MDQ6VXNlcjM3ODMwNzI=", "avatar_url": "https://avatars.githubusercontent.com/u/3783072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterhashair", "html_url": "https://github.com/peterhashair", "followers_url": "https://api.github.com/users/peterhashair/followers", "following_url": "https://api.github.com/users/peterhashair/following{/other_user}", "gists_url": "https://api.github.com/users/peterhashair/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterhashair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterhashair/subscriptions", "organizations_url": "https://api.github.com/users/peterhashair/orgs", "repos_url": "https://api.github.com/users/peterhashair/repos", "events_url": "https://api.github.com/users/peterhashair/events{/privacy}", "received_events_url": "https://api.github.com/users/peterhashair/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/132", "html_url": "https://github.com/matomo-org/matomo/milestone/132", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/132/labels", "id": 5026605, "node_id": "MDk6TWlsZXN0b25lNTAyNjYwNQ==", "number": 132, "title": "4.7.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 213, "state": "closed", "created_at": "2020-01-21T05:23:00Z", "updated_at": "2022-02-04T08:29:36Z", "due_on": null, "closed_at": "2022-02-04T08:29:36Z" }, "comments": 15, "created_at": "2021-11-08T01:52:38Z", "updated_at": "2021-12-07T23:28:30Z", "closed_at": "2021-12-07T23:28:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/18279", "html_url": "https://github.com/matomo-org/matomo/pull/18279", "diff_url": "https://github.com/matomo-org/matomo/pull/18279.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/18279.patch", "merged_at": "2021-12-07T23:28:29Z" }, "body": "### Description:\r\nFixes: #18134\r\nadd disable archiving segment configuration for plugins\r\n\r\n- Under `[General]`-> `disable_archiving_segment_for_plugins` accept string, sting with comma, array. \r\n- `[General_{siteId}]` can be enable by Site ID. \r\n\r\nI guess this will be 4.7\r\n\r\n\r\n### Review\r\n\r\n* [ ] [Functional review done](https://developer.matomo.org/guides/pull-request-reviews#functional-review-done)\r\n* [ ] [Potential edge cases thought about](https://developer.matomo.org/guides/pull-request-reviews#potential-edge-cases-thought-about) (behavior of the code with strange input, with strange internal state or possible interactions with other Matomo subsystems)\r\n* [ ] [Usability review done](https://developer.matomo.org/guides/pull-request-reviews#usability-review-done) (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] [Security review done](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] [Wording review done](https://developer.matomo.org/guides/pull-request-reviews#translations-wording-review-done)\r\n* [ ] [Code review done](https://developer.matomo.org/guides/pull-request-reviews#code-review-done)\r\n* [ ] [Tests were added if useful/possible](https://developer.matomo.org/guides/pull-request-reviews#tests-were-added-if-usefulpossible)\r\n* [ ] [Reviewed for breaking changes](https://developer.matomo.org/guides/pull-request-reviews#reviewed-for-breaking-changes)\r\n* [ ] [Developer changelog updated if needed](https://developer.matomo.org/guides/pull-request-reviews#developer-changelog-updated-if-needed)\r\n* [ ] [Documentation added if needed](https://developer.matomo.org/guides/pull-request-reviews#documentation-added-if-needed)\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/18279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/18279/timeline", "performed_via_github_app": null, "state_reason": null } ]
