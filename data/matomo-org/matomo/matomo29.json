[ { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16957", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16957/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16957/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16957/events", "html_url": "https://github.com/matomo-org/matomo/pull/16957", "id": 767093937, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM5OTI3MjA5", "number": 16957, "title": "Do not use Date class in Loader::getMinVisitTimesPerSite() to avoid using Dates w/ strange visit data.", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-15T02:20:14Z", "updated_at": "2020-12-15T22:00:13Z", "closed_at": "2020-12-15T22:00:09Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16957", "html_url": "https://github.com/matomo-org/matomo/pull/16957", "diff_url": "https://github.com/matomo-org/matomo/pull/16957.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16957.patch", "merged_at": "2020-12-15T22:00:09Z" }, "body": "### Description:\r\n\r\nFixes #16937 \r\n\r\nThe user had a visit with a visit_last_action_time of 2. Opted to not use the Date class at all to keep the relevant query as simple as possible.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16957/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16957/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16956", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16956/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16956/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16956/events", "html_url": "https://github.com/matomo-org/matomo/issues/16956", "id": 767078193, "node_id": "MDU6SXNzdWU3NjcwNzgxOTM=", "number": 16956, "title": "Referrers.getAll doesn't return search engines", "user": { "login": "rhughes8469", "id": 14580273, "node_id": "MDQ6VXNlcjE0NTgwMjcz", "avatar_url": "https://avatars.githubusercontent.com/u/14580273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhughes8469", "html_url": "https://github.com/rhughes8469", "followers_url": "https://api.github.com/users/rhughes8469/followers", "following_url": "https://api.github.com/users/rhughes8469/following{/other_user}", "gists_url": "https://api.github.com/users/rhughes8469/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhughes8469/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhughes8469/subscriptions", "organizations_url": "https://api.github.com/users/rhughes8469/orgs", "repos_url": "https://api.github.com/users/rhughes8469/repos", "events_url": "https://api.github.com/users/rhughes8469/events{/privacy}", "received_events_url": "https://api.github.com/users/rhughes8469/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 4, "created_at": "2020-12-15T01:41:01Z", "updated_at": "2020-12-15T14:19:56Z", "closed_at": "2020-12-15T08:57:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "When sending an API request to Referrers.getAll, the results returned include: Websites, Social Networks, Campaigns, \"no referrer\", & Keyword/Search Engines\r\n\r\nI'm trying to display a list of referrers from the data that is returned.\r\nFor websites and social networks I can display the \"URL\" as the referrer.\r\nFor campaigns I can display the campaign \"Label\" as the referrer.\r\nFor no referrer I can display, \"No Referrer\"\r\n\r\nMy issue is with Keyword/Search Engines. The API returns each keyword but does not return which search engine it's from.\r\n\r\nHow do I know which Search engine to display as the referrer, since a keyword by itself, isn't really a \"referrer\". And if I omit the keywords from the list of referrers I'm displaying, it won't add up to the number of page views.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16956/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16956/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16955", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16955/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16955/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16955/events", "html_url": "https://github.com/matomo-org/matomo/issues/16955", "id": 767040472, "node_id": "MDU6SXNzdWU3NjcwNDA0NzI=", "number": 16955, "title": "Provide more documentation on some archiving behaviour", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 1678500922, "node_id": "MDU6TGFiZWwxNjc4NTAwOTIy", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Documentation", "name": "c: Documentation", "color": "f4e866", "default": false, "description": "Indicates a need for improvements or additions to documentation." } ], "state": "closed", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 11, "created_at": "2020-12-15T00:13:03Z", "updated_at": "2021-10-06T02:42:36Z", "closed_at": "2021-08-20T01:54:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "@diosmosis just looking at some DB performance insights where a lot of new options are showing up in the top queries.\r\n\r\nThen looked where they are used and wasn't really understanding what they do and whether they even need to be cached in an option.\r\n\r\n* What does the last invalidation time do in https://github.com/matomo-org/matomo/blob/4.x-dev/core/CronArchive.php#L1026-L1035 ? I see it's used in segment archiving in https://github.com/matomo-org/matomo/blob/4.x-dev/core/CronArchive/SegmentArchiving.php#L157-L166 but I don't understand why it compares those dates etc.\r\n* Also maybe the transient cache here is not needed as maybe the Option class itself caches it already? https://github.com/matomo-org/matomo/blob/4.x-dev/core/CronArchive.php#L1026-L1032\r\n* Seeing also this min visit time for site option in https://github.com/matomo-org/matomo/blob/4.x-dev/core/ArchiveProcessor/Loader.php#L427-L442 . Not sure why this one is needed in https://github.com/matomo-org/matomo/blob/4.x-dev/core/ArchiveProcessor/Loader.php#L413-L422 and how that logic works? \r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Like we could just query the `$this->rawLogDao->hasSiteVisitsBetweenTimeframe` directly to see if there's been any visit during the archive date range?\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb And maybe we wouldn't need to use the lazy cache in https://github.com/matomo-org/matomo/blob/4.x-dev/core/ArchiveProcessor/Loader.php#L429-L433 I wonder? (it should be fast)\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb I understand we get the min recorded visit time for a site and if the end date was before the min visit time, then we don't execute the `hasSiteVisitsBetweenTimeframe` but not sure when that actually happens and whether we can't just execute `hasSiteVisitsBetweenTimeframe` directly? Eg because it's a lazy cache it causes even a lot of inserts in server file sync when caches need to be cleared across servers etc and overall it might cause more problems caching it in this case than fetching it from DB directly I wonder.\r\n\r\nMight be good to see if we can make some tweaks or remove some code and also maybe add some inline comments explaining what happens as I tried to understand it and wasn't sure what's happening there.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16955/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16955/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16954", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16954/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16954/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16954/events", "html_url": "https://github.com/matomo-org/matomo/pull/16954", "id": 766889309, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM5NzczMTkx", "number": 16954, "title": "core:archive Avoid filesystem checks when process was set as finished", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-14T20:17:11Z", "updated_at": "2020-12-21T22:35:39Z", "closed_at": "2020-12-15T03:49:40Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16954", "html_url": "https://github.com/matomo-org/matomo/pull/16954", "diff_url": "https://github.com/matomo-org/matomo/pull/16954.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16954.patch", "merged_at": "2020-12-15T03:49:40Z" }, "body": "### Description:\r\n\r\nBecause in CliMulti we might check in a loop for every process constantly if they are finished. It won't help all that much but better to not check every time the file system when it is not needed.\r\n\r\nThere be many other things we could improve there. Will add some comments but probably best not to do them (or we'll see if it's needed later)\r\n\r\nTechnically, we could also set `$this->started=true` and avoid filesystem checks when `startProcess()` is called but shouldn't be needed at least in current code usage. It wouldn't really avoid any file system checks so far and would make it only harder to find some bugs maybe as the filesystem be avoided in the tests potentially.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16954/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16953", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16953/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16953/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16953/events", "html_url": "https://github.com/matomo-org/matomo/issues/16953", "id": 766868169, "node_id": "MDU6SXNzdWU3NjY4NjgxNjk=", "number": 16953, "title": "Privacy manager JS tracker writable check uses wrong file", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 0, "created_at": "2020-12-14T19:50:32Z", "updated_at": "2020-12-17T19:09:17Z", "closed_at": "2020-12-17T19:09:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/matomo-org/matomo/blob/4.0.5/plugins/PrivacyManager/Controller.php#L189 where it uses hard coded the path to `/matomo.js`. However, the path may be changed through DI like this:\r\n\r\n```\r\n\r\n 'Piwik\\Plugins\\CustomJsTracker\\TrackerUpdater' => DI\\decorate(function ($previous) {\r\n $to = PIWIK_DOCUMENT_ROOT . '/';\r\n $to .= \\Piwik\\SettingsPiwik::rewriteMiscUserPathWithInstanceId('misc/user/');\r\n $to .= 'matomo.js';\r\n\r\n $previous->setToFile($to);\r\n\r\n return $previous;\r\n }),\r\n```\r\n\r\nTo get the correct path it might be better to use something like \r\n\r\n```\r\nStaticContainer::get('Piwik\\Plugins\\CustomJsTracker\\TrackerUpdater')->getToFile()->getPath();\r\n```", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16953/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16953/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16952", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16952/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16952/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16952/events", "html_url": "https://github.com/matomo-org/matomo/pull/16952", "id": 766859944, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM5NzU0MDQ5", "number": 16952, "title": "core:archive Only mark process as finished after fully sending the output", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-14T19:40:08Z", "updated_at": "2020-12-21T22:35:34Z", "closed_at": "2020-12-15T03:42:27Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16952", "html_url": "https://github.com/matomo-org/matomo/pull/16952", "diff_url": "https://github.com/matomo-org/matomo/pull/16952.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16952.patch", "merged_at": "2020-12-15T03:42:27Z" }, "body": "### Description:\r\n\r\nOtherwise there could be a race condition in cli multi where it thinks the process is finished, but the output hasn't been sent and written yet. Thus ending up with an \"empty response\" error under circumstances or only reading a partial output. This should only affect Matomo for WordPress though\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16952/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16952/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16951", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16951/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16951/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16951/events", "html_url": "https://github.com/matomo-org/matomo/pull/16951", "id": 766853289, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM5NzQ5NzU0", "number": 16951, "title": "core:archive If one process' output is \"abnormal\", don't declare all other concurrently running processes as finished", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-14T19:31:43Z", "updated_at": "2020-12-21T22:35:31Z", "closed_at": "2020-12-15T03:50:17Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16951", "html_url": "https://github.com/matomo-org/matomo/pull/16951", "diff_url": "https://github.com/matomo-org/matomo/pull/16951.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16951.patch", "merged_at": "2020-12-15T03:50:17Z" }, "body": "### Description:\r\n\r\nInstead still wait for all the other commands to finish.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16951/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16951/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16950", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16950/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16950/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16950/events", "html_url": "https://github.com/matomo-org/matomo/pull/16950", "id": 766851396, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM5NzQ4NTA3", "number": 16950, "title": "core:archive Remember if process ever started", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-14T19:29:20Z", "updated_at": "2020-12-21T22:35:26Z", "closed_at": "2020-12-15T03:51:46Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16950", "html_url": "https://github.com/matomo-org/matomo/pull/16950", "diff_url": "https://github.com/matomo-org/matomo/pull/16950.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16950.patch", "merged_at": "2020-12-15T03:51:45Z" }, "body": "This can potentially bring a performance improvement as I think sometimes the system would wait for 8 seconds before declaring a process as finished even if it finished after 1s.\r\n\r\nWhat happens is in https://github.com/matomo-org/matomo/blob/4.0.5/core/CliMulti.php#L217-L222 it checks if the process has started by checking if the PID file exists.\r\n\r\nHowever, the `RequestCommand` deletes the PID file as soon as the process finished to signal \"it finished\". That means when we check in that loop whether the process has started, it would think it hasn't started yet and simply continue until 8s have past and then it would set the process as finished. Vs we can simply remember that once we say once \"the process has started\" flag then we can always remember this.\r\n\r\nActually now seeing this wouldn't mean a performance improvement as it only continues after 8s and doesn't wait for 8s. I reckon it's still good to have this change though just to prevent some potential edge cases.\r\n\r\nActually now seeing again this might be a performance improvement because it would simply say \"not finished\" yet if it thinks the process hasn't started yet. Only after 8s then it would declare it as finished\r\n\r\n### Description:\r\n\r\nPlease include a description of this change and which issue it fixes. If no issue exists yet please include context and what problem it solves.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16950/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16950/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16949", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16949/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16949/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16949/events", "html_url": "https://github.com/matomo-org/matomo/issues/16949", "id": 766256038, "node_id": "MDU6SXNzdWU3NjYyNTYwMzg=", "number": 16949, "title": "Matomo 4 doesn't merge not logged visits when a user logs-in", "user": { "login": "AAudusseau", "id": 4435464, "node_id": "MDQ6VXNlcjQ0MzU0NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4435464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AAudusseau", "html_url": "https://github.com/AAudusseau", "followers_url": "https://api.github.com/users/AAudusseau/followers", "following_url": "https://api.github.com/users/AAudusseau/following{/other_user}", "gists_url": "https://api.github.com/users/AAudusseau/gists{/gist_id}", "starred_url": "https://api.github.com/users/AAudusseau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AAudusseau/subscriptions", "organizations_url": "https://api.github.com/users/AAudusseau/orgs", "repos_url": "https://api.github.com/users/AAudusseau/repos", "events_url": "https://api.github.com/users/AAudusseau/events{/privacy}", "received_events_url": "https://api.github.com/users/AAudusseau/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 10, "created_at": "2020-12-14T10:25:31Z", "updated_at": "2021-02-23T09:05:34Z", "closed_at": "2020-12-14T21:57:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone, I would like to track some events from the server side, and before Matomo I was unable to do it because of this issue : https://github.com/matomo-org/matomo/issues/15593\r\n\r\nNow the problem is gone, but the behavior describe [here](https://fr.matomo.org/docs/user-id/#how-requests-with-a-user-id-are-tracked) is not true anymore. Visit when the user was not logged are not merged anymore after setting the user ID.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16949/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16949/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16948", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16948/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16948/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16948/events", "html_url": "https://github.com/matomo-org/matomo/issues/16948", "id": 766071533, "node_id": "MDU6SXNzdWU3NjYwNzE1MzM=", "number": 16948, "title": "Other installation options?", "user": { "login": "Flaburgan", "id": 930064, "node_id": "MDQ6VXNlcjkzMDA2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/930064?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Flaburgan", "html_url": "https://github.com/Flaburgan", "followers_url": "https://api.github.com/users/Flaburgan/followers", "following_url": "https://api.github.com/users/Flaburgan/following{/other_user}", "gists_url": "https://api.github.com/users/Flaburgan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Flaburgan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Flaburgan/subscriptions", "organizations_url": "https://api.github.com/users/Flaburgan/orgs", "repos_url": "https://api.github.com/users/Flaburgan/repos", "events_url": "https://api.github.com/users/Flaburgan/events{/privacy}", "received_events_url": "https://api.github.com/users/Flaburgan/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2020-12-14T07:55:35Z", "updated_at": "2020-12-15T04:55:35Z", "closed_at": "2020-12-14T08:25:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I'd like to install Matomo on my server but I am surprised to see only a tutorial asking me to install Php, Mysql etc by hand as in the past. Isn't there any snap package, or flatpack, or docker image, or anything?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16948/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16948/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16947", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16947/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16947/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16947/events", "html_url": "https://github.com/matomo-org/matomo/pull/16947", "id": 765997315, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM5MTg5NDMx", "number": 16947, "title": "Apparently the segment needs to be double encoded when sent in the climulti:request command.", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 4, "created_at": "2020-12-14T06:48:58Z", "updated_at": "2020-12-17T03:39:02Z", "closed_at": "2020-12-17T03:38:59Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16947", "html_url": "https://github.com/matomo-org/matomo/pull/16947", "diff_url": "https://github.com/matomo-org/matomo/pull/16947.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16947.patch", "merged_at": "2020-12-17T03:38:59Z" }, "body": "### Description:\r\n\r\nFYI @tsteur \r\n\r\nCurrently the segment that gets archived can have a different hash than what is requested in the browser. Encoding the segment before sending it to RequestCommand seems to fix this, but I'm not exactly sure why.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16947/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16947/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16946", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16946/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16946/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16946/events", "html_url": "https://github.com/matomo-org/matomo/pull/16946", "id": 765916486, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM5MTQxODY0", "number": 16946, "title": "core:archive Fix intersecting period logic so proper archives will archive in parallel.", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 2, "created_at": "2020-12-14T05:23:31Z", "updated_at": "2020-12-21T22:35:21Z", "closed_at": "2020-12-17T01:43:12Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16946", "html_url": "https://github.com/matomo-org/matomo/pull/16946", "diff_url": "https://github.com/matomo-org/matomo/pull/16946.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16946.patch", "merged_at": "2020-12-17T01:43:12Z" }, "body": "### Description:\r\n\r\nFYI @tsteur \r\n\r\nAllows segment archives w/ same period to archive together.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16946/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16946/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16945", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16945/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16945/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16945/events", "html_url": "https://github.com/matomo-org/matomo/issues/16945", "id": 765819040, "node_id": "MDU6SXNzdWU3NjU4MTkwNDA=", "number": 16945, "title": "Non-English characters are not able to display in the report", "user": { "login": "Kkwong-wisdomir", "id": 75768179, "node_id": "MDQ6VXNlcjc1NzY4MTc5", "avatar_url": "https://avatars.githubusercontent.com/u/75768179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kkwong-wisdomir", "html_url": "https://github.com/Kkwong-wisdomir", "followers_url": "https://api.github.com/users/Kkwong-wisdomir/followers", "following_url": "https://api.github.com/users/Kkwong-wisdomir/following{/other_user}", "gists_url": "https://api.github.com/users/Kkwong-wisdomir/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kkwong-wisdomir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kkwong-wisdomir/subscriptions", "organizations_url": "https://api.github.com/users/Kkwong-wisdomir/orgs", "repos_url": "https://api.github.com/users/Kkwong-wisdomir/repos", "events_url": "https://api.github.com/users/Kkwong-wisdomir/events{/privacy}", "received_events_url": "https://api.github.com/users/Kkwong-wisdomir/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2020-12-14T03:10:06Z", "updated_at": "2020-12-14T21:41:59Z", "closed_at": "2020-12-14T21:41:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @Richard Stark \r\n\r\nSome text sections are not displayed properly in the reports. Especially, the non-English characters are not able to display in the report. Kindly advise how to solve it.\r\nWe are currently using Matomo 3.5.1.\r\n\r\n[431_20201214.pdf](https://github.com/matomo-org/matomo/files/5686233/431_20201214.pdf)\r\n![ESR matomo](https://user-images.githubusercontent.com/75768179/102036073-e5b79a00-3dfc-11eb-882a-616c9e727a09.jpg)\r\n\r\nThanks,\r\nKiko Kwong\r\n\r\n\r\n\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16945/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16944", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16944/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16944/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16944/events", "html_url": "https://github.com/matomo-org/matomo/issues/16944", "id": 765549911, "node_id": "MDU6SXNzdWU3NjU1NDk5MTE=", "number": 16944, "title": "Unable to login to Matomo since the last update and unable to update to Matomo version 4.0.5", "user": { "login": "ghost", "id": 10137, "node_id": "MDQ6VXNlcjEwMTM3", "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghost", "html_url": "https://github.com/ghost", "followers_url": "https://api.github.com/users/ghost/followers", "following_url": "https://api.github.com/users/ghost/following{/other_user}", "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghost/subscriptions", "organizations_url": "https://api.github.com/users/ghost/orgs", "repos_url": "https://api.github.com/users/ghost/repos", "events_url": "https://api.github.com/users/ghost/events{/privacy}", "received_events_url": "https://api.github.com/users/ghost/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 3, "created_at": "2020-12-13T17:31:22Z", "updated_at": "2020-12-14T21:58:50Z", "closed_at": "2020-12-14T21:58:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there, \r\n\r\nsince the last Matomo update 4.0.4. I am not able to login into my account because of this warning: \r\n<img width=\"1436\" alt=\"Bildschirmfoto 2020-12-13 um 18 20 39\" src=\"https://user-images.githubusercontent.com/75946336/102018861-3cc35d80-3d70-11eb-9d4c-fc99f3a61b07.png\"> \r\n\r\nI am not able to reject the warning by clicking on the link as suggested in the warning message. I am administrator but cannot access at all to make any changes in the settings section to get it fixed.\r\nBecause of this I also cannot update to Matomo 4.0.5.\r\n\r\nI saw some users having a similar problem since the last update but I could not find a proper solution for my issue yet.\r\nI would very much appreciate support to get this fixed.\r\nThank you!\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16944/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16944/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16943", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16943/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16943/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16943/events", "html_url": "https://github.com/matomo-org/matomo/pull/16943", "id": 765059399, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM4ODQ1Mjk0", "number": 16943, "title": "Prevent memory error when using PHP8 and a session error happens", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 0, "created_at": "2020-12-13T06:27:11Z", "updated_at": "2020-12-15T15:21:33Z", "closed_at": "2020-12-13T19:44:44Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16943", "html_url": "https://github.com/matomo-org/matomo/pull/16943", "diff_url": "https://github.com/matomo-org/matomo/pull/16943.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16943.patch", "merged_at": "2020-12-13T19:44:44Z" }, "body": "### Description:\r\n\r\nNoticed it exceeded 512MB, then 2GB, ...\r\n\r\nIt was running in an endless loop because \r\n\r\n> PHP Fatal error: Uncaught ArgumentCountError: Too few arguments to function Zend_Session_Exception::handleSessionStartError(), 4 passed and exactly 5 expected i\r\n\r\nSee https://www.php.net/manual/en/function.set-error-handler.php\r\n\r\n> Since PHP 8: errcontext was removed, and will no longer be passed to user callbacks.\r\n\r\nThere might be also other places where we maybe use error handler\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16943/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16942", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16942/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16942/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16942/events", "html_url": "https://github.com/matomo-org/matomo/issues/16942", "id": 764631104, "node_id": "MDU6SXNzdWU3NjQ2MzExMDQ=", "number": 16942, "title": "Enable tracking performance and browser plugins without pageview (offer ability to force a specific page view ID in JS tracker)", "user": { "login": "JE4GLE", "id": 56178675, "node_id": "MDQ6VXNlcjU2MTc4Njc1", "avatar_url": "https://avatars.githubusercontent.com/u/56178675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JE4GLE", "html_url": "https://github.com/JE4GLE", "followers_url": "https://api.github.com/users/JE4GLE/followers", "following_url": "https://api.github.com/users/JE4GLE/following{/other_user}", "gists_url": "https://api.github.com/users/JE4GLE/gists{/gist_id}", "starred_url": "https://api.github.com/users/JE4GLE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JE4GLE/subscriptions", "organizations_url": "https://api.github.com/users/JE4GLE/orgs", "repos_url": "https://api.github.com/users/JE4GLE/repos", "events_url": "https://api.github.com/users/JE4GLE/events{/privacy}", "received_events_url": "https://api.github.com/users/JE4GLE/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 13, "created_at": "2020-12-13T00:15:09Z", "updated_at": "2021-08-04T21:02:09Z", "closed_at": "2021-08-04T21:01:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nI use a combination of the HTTP Tracking API with PHP and the JavaScript Tracker. The PHP side tracks page views, ECommerce and other events, so that every page view and transaction is reported and not lost by users blocking the JavaScript tracker. In addition to the PHP side, the JavaScript tracker tracks the rest, like content tracking. This has the disadvantage that page views are not tracked using the JavaScript tracker and I lose important data like Performance tracking (Plugins are not so important, but share the principle).\r\n\r\nMy suggestion would be to allow sending performance and browser plugins without a page view. Maybe using an event or a separate method like `trackPerformance()`, which should not be used in combination with `trackPageView([customTitle])`.\r\n\r\nThank you!", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16942/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16942/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16941", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16941/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16941/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16941/events", "html_url": "https://github.com/matomo-org/matomo/pull/16941", "id": 764085481, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM4MzI3NDYx", "number": 16941, "title": "Improve handling of current user information for Filechecks", "user": { "login": "aragon999", "id": 6317761, "node_id": "MDQ6VXNlcjYzMTc3NjE=", "avatar_url": "https://avatars.githubusercontent.com/u/6317761?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aragon999", "html_url": "https://github.com/aragon999", "followers_url": "https://api.github.com/users/aragon999/followers", "following_url": "https://api.github.com/users/aragon999/following{/other_user}", "gists_url": "https://api.github.com/users/aragon999/gists{/gist_id}", "starred_url": "https://api.github.com/users/aragon999/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aragon999/subscriptions", "organizations_url": "https://api.github.com/users/aragon999/orgs", "repos_url": "https://api.github.com/users/aragon999/repos", "events_url": "https://api.github.com/users/aragon999/events{/privacy}", "received_events_url": "https://api.github.com/users/aragon999/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 1, "created_at": "2020-12-12T17:29:37Z", "updated_at": "2020-12-15T00:14:47Z", "closed_at": "2020-12-15T00:14:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16941", "html_url": "https://github.com/matomo-org/matomo/pull/16941", "diff_url": "https://github.com/matomo-org/matomo/pull/16941.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16941.patch", "merged_at": "2020-12-15T00:14:28Z" }, "body": "### Description:\r\nI had a PHP Notice:\r\n```\r\nPHP Notice: Trying to access array offset on value of type bool in Filechecks.php:205\r\n```\r\nwhile the actual problem was, that I was inside a docker container and had the wrong group-id assigned.\r\n\r\nI only had a notice, since the user permissions still worked, but I think that place needs better handling. This PR is a first try to improve the situation.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16941/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16941/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16940", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16940/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16940/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16940/events", "html_url": "https://github.com/matomo-org/matomo/pull/16940", "id": 763210254, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM3Njg5MjY5", "number": 16940, "title": "[automatic translation update] Updated 1 strings in 1 languages (el)", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-12T02:52:35Z", "updated_at": "2020-12-21T22:25:08Z", "closed_at": "2020-12-13T21:38:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16940", "html_url": "https://github.com/matomo-org/matomo/pull/16940", "diff_url": "https://github.com/matomo-org/matomo/pull/16940.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16940.patch", "merged_at": "2020-12-13T21:38:08Z" }, "body": "- Updated Greek (1 changes / 99% translated)\n\n\nHelp us translate Matomo in your language!\nSignup at https://www.transifex.com/matomo/matomo/\nIf you have any questions, get in touch with us at translations@matomo.org", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16940/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16940/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16939", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16939/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16939/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16939/events", "html_url": "https://github.com/matomo-org/matomo/issues/16939", "id": 762902675, "node_id": "MDU6SXNzdWU3NjI5MDI2NzU=", "number": 16939, "title": "Campaign metrics are in some widgets too low", "user": { "login": "davidplewa", "id": 75847226, "node_id": "MDQ6VXNlcjc1ODQ3MjI2", "avatar_url": "https://avatars.githubusercontent.com/u/75847226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidplewa", "html_url": "https://github.com/davidplewa", "followers_url": "https://api.github.com/users/davidplewa/followers", "following_url": "https://api.github.com/users/davidplewa/following{/other_user}", "gists_url": "https://api.github.com/users/davidplewa/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidplewa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidplewa/subscriptions", "organizations_url": "https://api.github.com/users/davidplewa/orgs", "repos_url": "https://api.github.com/users/davidplewa/repos", "events_url": "https://api.github.com/users/davidplewa/events{/privacy}", "received_events_url": "https://api.github.com/users/davidplewa/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 5, "created_at": "2020-12-11T21:04:45Z", "updated_at": "2021-04-22T14:02:14Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "In \"acquisition\" > \"all channels\" metrics show up correctly. I.e. \"facette2020beitrag\" sums up to 2.688 visits from Dec 1st - Dec 10th.\r\n\r\nBUT: In \"acquisition\" > \"campaigns\" all metrics show up too low. I.e. \"facette2020beitrag\" sums up to 36 visits from Dec 1st - Dec 10th.\r\nIf you click here on the green icon (translation from german you be s.th. like \"open line development\"), then the values in the lightbox are shown up correctly.\r\n\r\nPlease see attached screens.\r\n![2020-12-11_14-52-09](https://user-images.githubusercontent.com/75847226/101954692-d2d67700-3bfc-11eb-8a94-49408e819588.jpg)\r\n![2020-12-11_14-52-18](https://user-images.githubusercontent.com/75847226/101954697-d669fe00-3bfc-11eb-8b70-7e7f96f72883.jpg)\r\n![2020-12-11_21-56-25](https://user-images.githubusercontent.com/75847226/101954703-d964ee80-3bfc-11eb-93b4-eb17120b04aa.jpg)\r\n\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16939/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16938", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16938/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16938/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16938/events", "html_url": "https://github.com/matomo-org/matomo/issues/16938", "id": 762559367, "node_id": "MDU6SXNzdWU3NjI1NTkzNjc=", "number": 16938, "title": "File Integrity Issues after Upgrade", "user": { "login": "eric215", "id": 13973937, "node_id": "MDQ6VXNlcjEzOTczOTM3", "avatar_url": "https://avatars.githubusercontent.com/u/13973937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eric215", "html_url": "https://github.com/eric215", "followers_url": "https://api.github.com/users/eric215/followers", "following_url": "https://api.github.com/users/eric215/following{/other_user}", "gists_url": "https://api.github.com/users/eric215/gists{/gist_id}", "starred_url": "https://api.github.com/users/eric215/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eric215/subscriptions", "organizations_url": "https://api.github.com/users/eric215/orgs", "repos_url": "https://api.github.com/users/eric215/repos", "events_url": "https://api.github.com/users/eric215/events{/privacy}", "received_events_url": "https://api.github.com/users/eric215/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/145", "html_url": "https://github.com/matomo-org/matomo/milestone/145", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/145/labels", "id": 6235292, "node_id": "MDk6TWlsZXN0b25lNjIzNTI5Mg==", "number": 145, "title": "4.2.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 114, "state": "closed", "created_at": "2020-12-21T21:53:32Z", "updated_at": "2022-01-10T23:32:22Z", "due_on": null, "closed_at": "2021-02-24T02:34:29Z" }, "comments": 13, "created_at": "2020-12-11T16:17:32Z", "updated_at": "2021-01-10T19:38:07Z", "closed_at": "2021-01-10T19:38:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "After each of the last few upgrades I receive various File Integrity Errors. After the latest upgrade to 5.0.4 I received the messages below.\r\n\r\nI DO delete these files and directories after upgrading, but various files/directories appear on the next upgrade. \r\n\r\nEither these are added by Matomo and should be marked as \"OK\" or they should NOT be added during the upgrade process\r\n\r\n`Directories were found in your Matomo, but we didn't expect them.\r\n--> Please delete these directories to prevent errors. <--\r\n\r\nDirectory to delete: **libs/bower_components**\r\n\r\nTo delete all these directories at once, you can run this command:\r\nrm -Rf /home1/behuntne/public_html/pi1226/libs/bower_components\r\n\r\n\r\nFiles were found in your Matomo, but we didn't expect them.\r\n--> Please delete these files to prevent errors. <--\r\n\r\nFile to delete: **misc/others/ExamplePiwikTracker.php**\r\n`\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16938/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16937", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16937/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16937/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16937/events", "html_url": "https://github.com/matomo-org/matomo/issues/16937", "id": 762260490, "node_id": "MDU6SXNzdWU3NjIyNjA0OTA=", "number": 16937, "title": "Uncaught exception: Date.php: The date '1970-01-01' is a date before first website was online.", "user": { "login": "habakuk007", "id": 2253878, "node_id": "MDQ6VXNlcjIyNTM4Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/2253878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/habakuk007", "html_url": "https://github.com/habakuk007", "followers_url": "https://api.github.com/users/habakuk007/followers", "following_url": "https://api.github.com/users/habakuk007/following{/other_user}", "gists_url": "https://api.github.com/users/habakuk007/gists{/gist_id}", "starred_url": "https://api.github.com/users/habakuk007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/habakuk007/subscriptions", "organizations_url": "https://api.github.com/users/habakuk007/orgs", "repos_url": "https://api.github.com/users/habakuk007/repos", "events_url": "https://api.github.com/users/habakuk007/events{/privacy}", "received_events_url": "https://api.github.com/users/habakuk007/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": null, "comments": 5, "created_at": "2020-12-11T11:31:19Z", "updated_at": "2020-12-15T22:00:09Z", "closed_at": "2020-12-15T22:00:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nsince the update to 4.0.5 I get these error message from cron (and also in the web ui):\r\n\r\n> ERROR [2020-12-11 11:00:12] 4020 Uncaught exception: core/Date.php(160): The date '1970-01-01' is a date before first website was online. Try date that's after Aug 6, 1991 (timestamp 681436800).: 2\r\n> The date '1970-01-01' is a date before first website was online. Try date that's after Aug 6, 1991 (timestamp 681436800).: 2\r\n> \r\n> [Exception] \r\n> The date '1970-01-01' is a date before first website was online. Try date that's after Aug 6, 1991 (timestamp 681436800).: 2 \r\n> \r\n> core:archive [--url=\"...\"] [--skip-idsites[=\"...\"]] [--skip-all-segments] [--force-idsites[=\"...\"]] [--skip-segments-today] [--force-periods[=\"...\"]] [--force-date-last-n=\"...\"] [--force-date-range[=\"...\"]] [--force-idsegments=\"...\"] [--concurrent-requests-per-website[=\"...\"]] [--concurrent-archivers[=\"...\"]] [--disable-scheduled-tasks] [--accept-invalid-ssl-certificate] [--php-cli-options[=\"...\"]] [--force-all-websites]\r\n\r\nThe version I had before the update was probably 4.0.3 and it worked for several years now.\r\n\r\nI use this instance of matomo not for the tracking of software usage, not for websites.\r\n\r\nMatomo-Version: 4.0.5\r\nMySQL-Version: 10.3.25-MariaDB\r\nPHP-Version: 7.4.13 \r\n\r\nAny ideas?\r\n\r\nRegards!\r\n Stefan\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16937/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16936", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16936/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16936/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16936/events", "html_url": "https://github.com/matomo-org/matomo/pull/16936", "id": 761790460, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM2NDA1NzE1", "number": 16936, "title": "Better check for getmypid to potentially avoid warnings", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-11T02:03:14Z", "updated_at": "2020-12-11T08:01:39Z", "closed_at": "2020-12-11T08:01:34Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16936", "html_url": "https://github.com/matomo-org/matomo/pull/16936", "diff_url": "https://github.com/matomo-org/matomo/pull/16936.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16936.patch", "merged_at": "2020-12-11T08:01:34Z" }, "body": "### Description:\r\n\r\nrefs https://wordpress.org/support/topic/warning-getmypid-has-been-disabled/\r\n\r\nMight not make a difference but could (because third parameter in in_array is not true). This way we might better detect that getmypid is not supported although in the user's case likely the problem is that `getmypid` is supported in web and not CLI.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16936/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16936/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16935", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16935/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16935/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16935/events", "html_url": "https://github.com/matomo-org/matomo/issues/16935", "id": 761647311, "node_id": "MDU6SXNzdWU3NjE2NDczMTE=", "number": 16935, "title": "Version 4 can break websites with a Content Security Policy", "user": { "login": "nicwortel", "id": 1055691, "node_id": "MDQ6VXNlcjEwNTU2OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1055691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicwortel", "html_url": "https://github.com/nicwortel", "followers_url": "https://api.github.com/users/nicwortel/followers", "following_url": "https://api.github.com/users/nicwortel/following{/other_user}", "gists_url": "https://api.github.com/users/nicwortel/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicwortel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicwortel/subscriptions", "organizations_url": "https://api.github.com/users/nicwortel/orgs", "repos_url": "https://api.github.com/users/nicwortel/repos", "events_url": "https://api.github.com/users/nicwortel/events{/privacy}", "received_events_url": "https://api.github.com/users/nicwortel/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 1678500922, "node_id": "MDU6TGFiZWwxNjc4NTAwOTIy", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Documentation", "name": "c: Documentation", "color": "f4e866", "default": false, "description": "Indicates a need for improvements or additions to documentation." } ], "state": "closed", "locked": false, "assignee": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/145", "html_url": "https://github.com/matomo-org/matomo/milestone/145", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/145/labels", "id": 6235292, "node_id": "MDk6TWlsZXN0b25lNjIzNTI5Mg==", "number": 145, "title": "4.2.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 114, "state": "closed", "created_at": "2020-12-21T21:53:32Z", "updated_at": "2022-01-10T23:32:22Z", "due_on": null, "closed_at": "2021-02-24T02:34:29Z" }, "comments": 6, "created_at": "2020-12-10T21:53:53Z", "updated_at": "2020-12-23T03:20:16Z", "closed_at": "2020-12-22T21:03:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed a drop of visitors on my website and a sudden spike of [CSP](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) reports after upgrading to Matomo 4.\r\n\r\nIt seems like the `sendBeacon` call instead of the old tracking method is the culprit. If I'm not mistaken, the previous tracker loaded an image (which had to be whitelisted in the CSP with `img-src`) whereas the `sendBeacon` method needs to be whitelisted with `connect-src`.\r\n\r\nI don't think there's much that can be done to solve this, other than documenting this change and the fact that a website's CSP should now include `connect-src <matomo-domain>`.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16935/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16935/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16934", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16934/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16934/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16934/events", "html_url": "https://github.com/matomo-org/matomo/pull/16934", "id": 761329086, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM2MDEwNzE4", "number": 16934, "title": "Ensure removed dimensions are not used even if they still exist", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 4, "created_at": "2020-12-10T15:17:06Z", "updated_at": "2020-12-21T19:34:47Z", "closed_at": "2020-12-21T19:34:40Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16934", "html_url": "https://github.com/matomo-org/matomo/pull/16934", "diff_url": "https://github.com/matomo-org/matomo/pull/16934.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16934.patch", "merged_at": "2020-12-21T19:34:40Z" }, "body": "### Description:\r\n\r\nIn some cases it might happen that a dimension file that should have been deleted with an update fails to be removed.\r\nIn that case Matomo might fail in various places, as it might try to use a database column that does not exist any longer.\r\n\r\nBy maintaining a list of removed dimensions, we can ensure those dimensions won't be used anymore, even if the still exist.\r\n\r\n\r\nTODO: Need to check if any other dimension was removed in 4.0 and how to document that clearly or maybe a some kind of test to check if something was removed but isn't in the list\r\n\r\nrefs #16927\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16934/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16933", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16933/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16933/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16933/events", "html_url": "https://github.com/matomo-org/matomo/issues/16933", "id": 761251351, "node_id": "MDU6SXNzdWU3NjEyNTEzNTE=", "number": 16933, "title": "After updating to matomo 4, visitors seems to have gone down", "user": { "login": "paladox", "id": 5727000, "node_id": "MDQ6VXNlcjU3MjcwMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5727000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paladox", "html_url": "https://github.com/paladox", "followers_url": "https://api.github.com/users/paladox/followers", "following_url": "https://api.github.com/users/paladox/following{/other_user}", "gists_url": "https://api.github.com/users/paladox/gists{/gist_id}", "starred_url": "https://api.github.com/users/paladox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paladox/subscriptions", "organizations_url": "https://api.github.com/users/paladox/orgs", "repos_url": "https://api.github.com/users/paladox/repos", "events_url": "https://api.github.com/users/paladox/events{/privacy}", "received_events_url": "https://api.github.com/users/paladox/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 17, "created_at": "2020-12-10T13:41:14Z", "updated_at": "2022-07-09T07:48:25Z", "closed_at": "2022-07-09T07:48:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm not sure if this is because of better tracking under matomo 4 or a bug/issue. See below photo (you can tell when we deploy matomo 4)\r\n\r\n<img width=\"431\" alt=\"Screenshot 2020-12-10 at 13 37 44\" src=\"https://user-images.githubusercontent.com/5727000/101779226-e4305e00-3aec-11eb-949c-73513fb74fd4.png\">\r\n\r\nWe did disable cookies being created with `disableCookies` in the js code (though this was done like earlier this year under matomo 3).\r\n\r\nOur config is:\r\n\r\n```\r\n; <?php exit; ?> DO NOT REMOVE THIS LINE\r\n; file automatically generated or modified by Matomo; you can manually override the default values in global.ini.php by redefining them in this file.\r\n[database]\r\nhost = \"db13.miraheze.org\"\r\nusername = \"piwik\"\r\npassword = \"<%= @password %>\"\r\ndbname = \"piwik\"\r\ntables_prefix = \"piwik_\"\r\ncharset = \"utf8mb4\"\r\nenable_ssl = 1\r\nssl_ca = \"/etc/ssl/certs/Sectigo.crt\"\r\nadapter = MYSQLI\r\n\r\n[General]\r\nforce_ssl = 1\r\nsalt = \"<%= @salt %>\"\r\ntrusted_hosts[] = \"matomo.miraheze.org\"\r\nenable_load_data_infile = 0\r\n; disable browser trigger archiving for all requests (even those with a segment)\r\nbrowser_archiving_disabled_enforce = 1\r\n\r\n[mail]\r\ntransport = \"smtp\"\r\nport = 25\r\nhost = \"mail.miraheze.org\"\r\ntype = \"LOGIN\"\r\nusername = \"noreply\"\r\npassword = \"<%= @noreply_password %>\"\r\nencryption = \"tls\"\r\n\r\n[Plugins]\r\nPlugins[] = \"CorePluginsAdmin\"\r\nPlugins[] = \"CoreAdminHome\"\r\nPlugins[] = \"CoreHome\"\r\nPlugins[] = \"WebsiteMeasurable\"\r\nPlugins[] = \"Diagnostics\"\r\nPlugins[] = \"CoreVisualizations\"\r\nPlugins[] = \"Proxy\"\r\nPlugins[] = \"API\"\r\nPlugins[] = \"ExamplePlugin\"\r\nPlugins[] = \"Widgetize\"\r\nPlugins[] = \"Transitions\"\r\nPlugins[] = \"LanguagesManager\"\r\nPlugins[] = \"Actions\"\r\nPlugins[] = \"Dashboard\"\r\nPlugins[] = \"MultiSites\"\r\nPlugins[] = \"Referrers\"\r\nPlugins[] = \"UserLanguage\"\r\nPlugins[] = \"DevicesDetection\"\r\nPlugins[] = \"Goals\"\r\nPlugins[] = \"Ecommerce\"\r\nPlugins[] = \"SEO\"\r\nPlugins[] = \"Events\"\r\nPlugins[] = \"UserCountry\"\r\nPlugins[] = \"GeoIp2\"\r\nPlugins[] = \"VisitsSummary\"\r\nPlugins[] = \"VisitFrequency\"\r\nPlugins[] = \"VisitTime\"\r\nPlugins[] = \"VisitorInterest\"\r\nPlugins[] = \"ExampleAPI\"\r\nPlugins[] = \"RssWidget\"\r\nPlugins[] = \"Feedback\"\r\nPlugins[] = \"Monolog\"\r\nPlugins[] = \"TwoFactorAuth\"\r\nPlugins[] = \"UsersManager\"\r\nPlugins[] = \"SitesManager\"\r\nPlugins[] = \"Installation\"\r\nPlugins[] = \"CoreUpdater\"\r\nPlugins[] = \"CoreConsole\"\r\nPlugins[] = \"ScheduledReports\"\r\nPlugins[] = \"UserCountryMap\"\r\nPlugins[] = \"Live\"\r\nPlugins[] = \"CustomVariables\"\r\nPlugins[] = \"PrivacyManager\"\r\nPlugins[] = \"ImageGraph\"\r\nPlugins[] = \"Annotations\"\r\nPlugins[] = \"MobileMessaging\"\r\nPlugins[] = \"Overlay\"\r\nPlugins[] = \"SegmentEditor\"\r\nPlugins[] = \"Insights\"\r\nPlugins[] = \"Morpheus\"\r\nPlugins[] = \"Contents\"\r\nPlugins[] = \"TestRunner\"\r\nPlugins[] = \"BulkTracking\"\r\nPlugins[] = \"Resolution\"\r\nPlugins[] = \"DevicePlugins\"\r\nPlugins[] = \"Heartbeat\"\r\nPlugins[] = \"Intl\"\r\nPlugins[] = \"Marketplace\"\r\nPlugins[] = \"ProfessionalServices\"\r\nPlugins[] = \"UserId\"\r\nPlugins[] = \"QueuedTracking\"\r\nPlugins[] = \"DeviceDetectorCache\"\r\nPlugins[] = \"LoginLdap\"\r\nPlugins[] = \"Login\"\r\n\r\n[PluginsInstalled]\r\nPluginsInstalled[] = \"Diagnostics\"\r\nPluginsInstalled[] = \"CoreAdminHome\"\r\nPluginsInstalled[] = \"UsersManager\"\r\nPluginsInstalled[] = \"SitesManager\"\r\nPluginsInstalled[] = \"Installation\"\r\nPluginsInstalled[] = \"Monolog\"\r\nPluginsInstalled[] = \"Intl\"\r\nPluginsInstalled[] = \"CorePluginsAdmin\"\r\nPluginsInstalled[] = \"CoreHome\"\r\nPluginsInstalled[] = \"WebsiteMeasurable\"\r\nPluginsInstalled[] = \"CoreVisualizations\"\r\nPluginsInstalled[] = \"Proxy\"\r\nPluginsInstalled[] = \"API\"\r\nPluginsInstalled[] = \"ExamplePlugin\"\r\nPluginsInstalled[] = \"Widgetize\"\r\nPluginsInstalled[] = \"Transitions\"\r\nPluginsInstalled[] = \"LanguagesManager\"\r\nPluginsInstalled[] = \"Actions\"\r\nPluginsInstalled[] = \"Dashboard\"\r\nPluginsInstalled[] = \"MultiSites\"\r\nPluginsInstalled[] = \"Referrers\"\r\nPluginsInstalled[] = \"UserLanguage\"\r\nPluginsInstalled[] = \"DevicesDetection\"\r\nPluginsInstalled[] = \"Goals\"\r\nPluginsInstalled[] = \"SEO\"\r\nPluginsInstalled[] = \"Events\"\r\nPluginsInstalled[] = \"UserCountry\"\r\nPluginsInstalled[] = \"VisitsSummary\"\r\nPluginsInstalled[] = \"VisitFrequency\"\r\nPluginsInstalled[] = \"VisitTime\"\r\nPluginsInstalled[] = \"VisitorInterest\"\r\nPluginsInstalled[] = \"ExampleAPI\"\r\nPluginsInstalled[] = \"ExampleRssWidget\"\r\nPluginsInstalled[] = \"Provider\"\r\nPluginsInstalled[] = \"CoreUpdater\"\r\nPluginsInstalled[] = \"CoreConsole\"\r\nPluginsInstalled[] = \"ScheduledReports\"\r\nPluginsInstalled[] = \"UserCountryMap\"\r\nPluginsInstalled[] = \"Live\"\r\nPluginsInstalled[] = \"CustomVariables\"\r\nPluginsInstalled[] = \"PrivacyManager\"\r\nPluginsInstalled[] = \"ImageGraph\"\r\nPluginsInstalled[] = \"Annotations\"\r\nPluginsInstalled[] = \"MobileMessaging\"\r\nPluginsInstalled[] = \"Overlay\"\r\nPluginsInstalled[] = \"SegmentEditor\"\r\nPluginsInstalled[] = \"Insights\"\r\nPluginsInstalled[] = \"ZenMode\"\r\nPluginsInstalled[] = \"LeftMenu\"\r\nPluginsInstalled[] = \"Morpheus\"\r\nPluginsInstalled[] = \"Contents\"\r\nPluginsInstalled[] = \"TestRunner\"\r\nPluginsInstalled[] = \"BulkTracking\"\r\nPluginsInstalled[] = \"Resolution\"\r\nPluginsInstalled[] = \"DevicePlugins\"\r\nPluginsInstalled[] = \"Heartbeat\"\r\nPluginsInstalled[] = \"Ecommerce\"\r\nPluginsInstalled[] = \"UserId\"\r\nPluginsInstalled[] = \"RssWidget\"\r\nPluginsInstalled[] = \"Feedback\"\r\nPluginsInstalled[] = \"Marketplace\"\r\nPluginsInstalled[] = \"ProfessionalServices\"\r\nPluginsInstalled[] = \"SecurityInfo\"\r\nPluginsInstalled[] = \"GeoIp2\"\r\nPluginsInstalled[] = \"QueuedTracking\"\r\nPluginsInstalled[] = \"TwoFactorAuth\"\r\nPluginsInstalled[] = \"DeviceDetectorCache\"\r\nPluginsInstalled[] = \"LoginLdap\"\r\nPluginsInstalled[] = \"Login\"\r\n\r\n[QueuedTracking]\r\nnotify_queue_threshold_single_queue = 250000\r\n\r\n[LoginLdap]\r\nservers[] = \"Miraheze Ldap\"\r\nuse_ldap_for_authentication = 1\r\nenable_synchronize_access_from_ldap = 0\r\nnew_user_default_sites_view_access = \"all\"\r\nuser_email_suffix = \"\"\r\nrequired_member_of = \"\"\r\nrequired_member_of_field = \"memberOf\"\r\nldap_user_filter = \"(|(&(memberOf=cn=matomo-super,ou=groups,dc=miraheze,dc=org)(objectclass=person))(&(memberOf=cn=sre,ou=groups,dc=miraheze,dc=org)(objectclass=person))(&(memberOf=cn=matomo-users,ou=groups,dc=miraheze,dc=org)(objectclass=person)))\"\r\nldap_user_id_field = \"uid\"\r\nldap_last_name_field = \"sn\"\r\nldap_first_name_field = \"givenName\"\r\nldap_alias_field = \"cn\"\r\nldap_mail_field = \"mail\"\r\nldap_password_field = \"userPassword\"\r\nldap_view_access_field = \"view\"\r\nldap_admin_access_field = \"admin\"\r\nldap_superuser_access_field = \"superuser\"\r\nuse_webserver_auth = 0\r\nuser_access_attribute_server_specification_delimiter = \";\"\r\nuser_access_attribute_server_separator = \":\"\r\ninstance_name = \"\"\r\nldap_network_timeout = \"15\"\r\n\r\n[LoginLdap_Miraheze Ldap]\r\nhostname = \"ldaps://ldap1.miraheze.org/\"\r\nport = 636\r\nbase_dn = \"dc=miraheze,dc=org\"\r\nadmin_user = \"cn=write-user,dc=miraheze,dc=org\"\r\nadmin_pass = \"<%= @ldap_password %>\"\r\n```", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16933/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16933/timeline", "performed_via_github_app": null, "state_reason": "not_planned" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16932", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16932/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16932/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16932/events", "html_url": "https://github.com/matomo-org/matomo/pull/16932", "id": 761164632, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM1ODczMjg3", "number": 16932, "title": "fix some tests exception handling", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 1, "created_at": "2020-12-10T11:38:20Z", "updated_at": "2020-12-14T00:23:58Z", "closed_at": "2020-12-14T00:18:08Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16932", "html_url": "https://github.com/matomo-org/matomo/pull/16932", "diff_url": "https://github.com/matomo-org/matomo/pull/16932.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16932.patch", "merged_at": "2020-12-14T00:18:08Z" }, "body": "### Description:\r\n\r\nThe tests actually always passed silently, even though the actually didn't work anymore...\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16932/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16932/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16931", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16931/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16931/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16931/events", "html_url": "https://github.com/matomo-org/matomo/issues/16931", "id": 760844530, "node_id": "MDU6SXNzdWU3NjA4NDQ1MzA=", "number": 16931, "title": "import_logs.py instructs to use --force-all-periods but core:archive says that switch DNE", "user": { "login": "psec", "id": 2622016, "node_id": "MDQ6VXNlcjI2MjIwMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2622016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/psec", "html_url": "https://github.com/psec", "followers_url": "https://api.github.com/users/psec/followers", "following_url": "https://api.github.com/users/psec/following{/other_user}", "gists_url": "https://api.github.com/users/psec/gists{/gist_id}", "starred_url": "https://api.github.com/users/psec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/psec/subscriptions", "organizations_url": "https://api.github.com/users/psec/orgs", "repos_url": "https://api.github.com/users/psec/repos", "events_url": "https://api.github.com/users/psec/events{/privacy}", "received_events_url": "https://api.github.com/users/psec/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/145", "html_url": "https://github.com/matomo-org/matomo/milestone/145", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/145/labels", "id": 6235292, "node_id": "MDk6TWlsZXN0b25lNjIzNTI5Mg==", "number": 145, "title": "4.2.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 114, "state": "closed", "created_at": "2020-12-21T21:53:32Z", "updated_at": "2022-01-10T23:32:22Z", "due_on": null, "closed_at": "2021-02-24T02:34:29Z" }, "comments": 2, "created_at": "2020-12-10T03:11:07Z", "updated_at": "2021-01-15T01:00:42Z", "closed_at": "2020-12-23T09:45:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Output from import_logs.py:\r\n\r\n<pre>Processing your log data\r\n------------------------\r\n\r\n In order for your logs to be processed by Matomo, you may need to run the following command:\r\n ./console core:archive --force-all-websites --force-all-periods=315576000 --force-date-last-n=1000 --url='URL'</pre>\r\n\r\nCorresponding console output:\r\n\r\n<pre>ERROR [2020-12-10 03:09:40] 5554 Uncaught exception: /var/www/matomo/vendor/symfony/console/Symfony/Component/Console/Input/ArgvInput.php(213): The \"--force-all-periods\" option does not exist.\r\nThe \"--force-all-periods\" option does not exist.\r\n\r\n\r\n \r\n [RuntimeException] \r\n The \"--force-all-periods\" option does not exist. \r\n</pre>", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16931/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16931/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16930", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16930/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16930/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16930/events", "html_url": "https://github.com/matomo-org/matomo/pull/16930", "id": 760818853, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM1NTg1NjA0", "number": 16930, "title": "Make isChromeDataSaverUsed method public", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-10T02:08:55Z", "updated_at": "2020-12-10T03:11:53Z", "closed_at": "2020-12-10T03:11:49Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16930", "html_url": "https://github.com/matomo-org/matomo/pull/16930", "diff_url": "https://github.com/matomo-org/matomo/pull/16930.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16930.patch", "merged_at": "2020-12-10T03:11:49Z" }, "body": "needing this method in a plugin\r\n\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16930/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16930/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16929", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16929/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16929/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16929/events", "html_url": "https://github.com/matomo-org/matomo/issues/16929", "id": 760507130, "node_id": "MDU6SXNzdWU3NjA1MDcxMzA=", "number": 16929, "title": "Cannot upgrade to Matomo 4.0.5", "user": { "login": "Laul0", "id": 15279205, "node_id": "MDQ6VXNlcjE1Mjc5MjA1", "avatar_url": "https://avatars.githubusercontent.com/u/15279205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Laul0", "html_url": "https://github.com/Laul0", "followers_url": "https://api.github.com/users/Laul0/followers", "following_url": "https://api.github.com/users/Laul0/following{/other_user}", "gists_url": "https://api.github.com/users/Laul0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Laul0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Laul0/subscriptions", "organizations_url": "https://api.github.com/users/Laul0/orgs", "repos_url": "https://api.github.com/users/Laul0/repos", "events_url": "https://api.github.com/users/Laul0/events{/privacy}", "received_events_url": "https://api.github.com/users/Laul0/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2020-12-09T17:05:18Z", "updated_at": "2020-12-15T06:36:51Z", "closed_at": "2020-12-09T18:18:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using the Docker image. After upgrade the image to the latest version and upgrade my container, this one does not up anymore... I can not access to the bash neither.\r\n\r\nSeriously, I will stop to upgrade my instance because each time I have this kind of surprise:\r\n\r\n```\r\nrsync: chgrp \"/bitnami/matomo/plugins/VisitorInterest\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/VisitorInterest/Columns\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/VisitorInterest/Reports\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/VisitorInterest/config\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/VisitorInterest/lang\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/VisitsSummary\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/VisitsSummary/Reports\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/VisitsSummary/Widgets\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/VisitsSummary/config\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/VisitsSummary/lang\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/VisitsSummary/stylesheets\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/VisitsSummary/templates\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/WebsiteMeasurable\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/WebsiteMeasurable/Settings\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/WebsiteMeasurable/config\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/WebsiteMeasurable/lang\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/Widgetize\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/Widgetize/angularjs\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/Widgetize/angularjs/export-widget\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/Widgetize/angularjs/widget-preview\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/Widgetize/config\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/Widgetize/lang\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/Widgetize/stylesheets\" failed: Operation not permitted (1)\r\nrsync: chgrp \"/bitnami/matomo/plugins/Widgetize/templates\" failed: Operation not permitted (1)\r\nrsync error: some files/attrs were not transferred (see previous errors) (code 23) at main.c(1207) [sender=3.1.3]\r\n```\r\n\r\nAfter the first reboot, I had permissions issues, so I tried to overwrite the plugins folder `chmod -R 777 /bitnami/matomo/plugins`. That remove the access denied but now, I don't know what I have to do with _Operation not permitted_\r\n\r\nAny idea ?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16929/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16929/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16928", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16928/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16928/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16928/events", "html_url": "https://github.com/matomo-org/matomo/issues/16928", "id": 760381774, "node_id": "MDU6SXNzdWU3NjAzODE3NzQ=", "number": 16928, "title": "core:convert-to-utf8mb4 disables tracking", "user": { "login": "nkfilis", "id": 20880048, "node_id": "MDQ6VXNlcjIwODgwMDQ4", "avatar_url": "https://avatars.githubusercontent.com/u/20880048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nkfilis", "html_url": "https://github.com/nkfilis", "followers_url": "https://api.github.com/users/nkfilis/followers", "following_url": "https://api.github.com/users/nkfilis/following{/other_user}", "gists_url": "https://api.github.com/users/nkfilis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nkfilis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nkfilis/subscriptions", "organizations_url": "https://api.github.com/users/nkfilis/orgs", "repos_url": "https://api.github.com/users/nkfilis/repos", "events_url": "https://api.github.com/users/nkfilis/events{/privacy}", "received_events_url": "https://api.github.com/users/nkfilis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2020-12-09T14:33:03Z", "updated_at": "2020-12-09T14:44:18Z", "closed_at": "2020-12-09T14:44:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "As per the documentation https://matomo.org/docs/update/#the-manual-three-step-update, it's possible to update matomo and run the database migrations without disabling tracking. \r\nHowever, running `core:convert-to-utf8mb4` disables tracking completely, runs the utf8mb4 migrations and enables tracking again.\r\nMaybe there could be a switch for those who want to continue tracking thru the Queued Tracking Plugin, since running those utf8mb4 migrations takes quite some time, which makes people lose quite some data.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16928/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16928/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16927", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16927/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16927/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16927/events", "html_url": "https://github.com/matomo-org/matomo/issues/16927", "id": 760377871, "node_id": "MDU6SXNzdWU3NjAzNzc4NzE=", "number": 16927, "title": "After updating to 4.0.5, plugin file VisitsByDaysSinceLastVisit.php is not deleted", "user": { "login": "nkfilis", "id": 20880048, "node_id": "MDQ6VXNlcjIwODgwMDQ4", "avatar_url": "https://avatars.githubusercontent.com/u/20880048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nkfilis", "html_url": "https://github.com/nkfilis", "followers_url": "https://api.github.com/users/nkfilis/followers", "following_url": "https://api.github.com/users/nkfilis/following{/other_user}", "gists_url": "https://api.github.com/users/nkfilis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nkfilis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nkfilis/subscriptions", "organizations_url": "https://api.github.com/users/nkfilis/orgs", "repos_url": "https://api.github.com/users/nkfilis/repos", "events_url": "https://api.github.com/users/nkfilis/events{/privacy}", "received_events_url": "https://api.github.com/users/nkfilis/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/145", "html_url": "https://github.com/matomo-org/matomo/milestone/145", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/145/labels", "id": 6235292, "node_id": "MDk6TWlsZXN0b25lNjIzNTI5Mg==", "number": 145, "title": "4.2.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 114, "state": "closed", "created_at": "2020-12-21T21:53:32Z", "updated_at": "2022-01-10T23:32:22Z", "due_on": null, "closed_at": "2021-02-24T02:34:29Z" }, "comments": 4, "created_at": "2020-12-09T14:28:19Z", "updated_at": "2021-01-04T13:09:30Z", "closed_at": "2021-01-04T13:09:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "After upgrading from 3.5.x to 4.0.5 today, the `console queuedtracking:process` died with this error:\r\n```\r\nStarting to process request sets, this can take a while\r\nUncaught exception in /path/to/matomo/installation/plugins/VisitorInterest/Columns/VisitsByDaysSinceLastVisit.php line 38:\r\nCall to undefined method Piwik\\Tracker\\Request::getDaysSinceLastVisit()\r\n```\r\nIt seems, the plugin was updated, but an old file wasn't deleted:\r\n```\r\nplugins/VisitorInterest/Columns:\r\ntotal 27\r\n-rw-r--r-- 1 www www 366 Dec 8 22:07 PagesPerVisit.php\r\n-rw-r--r-- 1 www www 412 Dec 8 22:07 VisitDuration.php\r\n-rw-r--r-- 1 www www 671 Dec 8 22:07 VisitorDaysSinceLast.php\r\n-rw-r--r-- 1 www www 1963 Dec 8 22:07 VisitorSecondsSinceLast.php\r\n-rw-r--r-- 1 www www 1062 Sep 23 23:20 VisitsByDaysSinceLastVisit.php\r\n-rw-r--r-- 1 www www 371 Dec 8 22:07 VisitsbyVisitNumber.php\r\n```\r\n\r\nAt least, after moving the file elsewhere, everything went thru fine. Maybe an issue with the plugin update?\r\n\r\nI'm not 100% sure, which version I was upgrading from, but I see this in the terminal buffer: `Matomo database will be upgraded from version 3.14.1 to the new version 4.0.5.`", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16927/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16926", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16926/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16926/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16926/events", "html_url": "https://github.com/matomo-org/matomo/pull/16926", "id": 760311999, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM1MTY1MDI2", "number": 16926, "title": "Rewrite Annotations tests to run correctly", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2020-12-09T13:04:54Z", "updated_at": "2020-12-10T00:14:01Z", "closed_at": "2020-12-10T00:13:59Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16926", "html_url": "https://github.com/matomo-org/matomo/pull/16926", "diff_url": "https://github.com/matomo-org/matomo/pull/16926.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16926.patch", "merged_at": "2020-12-10T00:13:58Z" }, "body": "### Description:\r\n\r\nThe tests actually didn't work anymore and passed silently. Will add some comments to explain that\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16926/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16926/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16925", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16925/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16925/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16925/events", "html_url": "https://github.com/matomo-org/matomo/pull/16925", "id": 760310355, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM1MTYzNzA3", "number": 16925, "title": "do not update token usage in tracking requests", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 4, "created_at": "2020-12-09T13:02:37Z", "updated_at": "2021-01-27T15:00:42Z", "closed_at": "2020-12-16T01:42:57Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16925", "html_url": "https://github.com/matomo-org/matomo/pull/16925", "diff_url": "https://github.com/matomo-org/matomo/pull/16925.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16925.patch", "merged_at": "2020-12-16T01:42:57Z" }, "body": "### Description:\r\n\r\nSeems updating the usage timestamp of a token might cause issues when using log import.\r\nNot sure if we need to update the usage at all in this case. If so we maybe could also update it every 10 minutes only or so, but that would at least require an additional read request to check that.\r\n\r\nfixes #16924\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16925/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16925/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16924", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16924/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16924/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16924/events", "html_url": "https://github.com/matomo-org/matomo/issues/16924", "id": 760268416, "node_id": "MDU6SXNzdWU3NjAyNjg0MTY=", "number": 16924, "title": "Tons of \"General error: 1205\" in php error log while importing via the python log importer", "user": { "login": "adrianlambertz", "id": 6837859, "node_id": "MDQ6VXNlcjY4Mzc4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/6837859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianlambertz", "html_url": "https://github.com/adrianlambertz", "followers_url": "https://api.github.com/users/adrianlambertz/followers", "following_url": "https://api.github.com/users/adrianlambertz/following{/other_user}", "gists_url": "https://api.github.com/users/adrianlambertz/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianlambertz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianlambertz/subscriptions", "organizations_url": "https://api.github.com/users/adrianlambertz/orgs", "repos_url": "https://api.github.com/users/adrianlambertz/repos", "events_url": "https://api.github.com/users/adrianlambertz/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianlambertz/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 17, "created_at": "2020-12-09T12:00:18Z", "updated_at": "2020-12-16T01:43:19Z", "closed_at": "2020-12-16T01:42:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that there is a problem with the user_token_auth while importing log via the python logimporter. \r\nWhile looking at the SQL processlist I see several UPDATE queries for the matomo_user_token_auth table, they run the entire time until the timeout:\r\n\r\n`[09-Dec-2020 09:28:08 UTC] Error in Matomo (tracker): Error query: SQLSTATE[HY000]: General error: 1205 Lock wait timeout exceeded; try restarting transaction In query: UPDATE 'matomo_user_token_auth' SET 'last_used' = ? WHERE 'idusertokenauth' = ? Parameters: array ( 0 => '2020-12-09 09:27:17', 1 => '207', )`\r\n\r\nManually executing one of these queries works like a charm in some milliseconds. But not while the python script runs.\r\n\r\nAfter the timeout the python script echoes this:\r\n\r\n2020-12-09 09:28:08,641: [INFO] Error when connecting to Matomo: HTTP Error 500: Internal Server Error\r\n2020-12-09 09:28:08,642: [INFO] Retrying request, attempt number 2\r\n\r\nThat's since the latest 4.0.4 update (I updated from v3) and I use Python 3.7 to execute the script.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16924/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16924/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16923", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16923/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16923/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16923/events", "html_url": "https://github.com/matomo-org/matomo/pull/16923", "id": 760265391, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM1MTI2MjEz", "number": 16923, "title": "Improvements on prepending a plus sign to evolutions", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-09T11:55:32Z", "updated_at": "2020-12-10T01:16:17Z", "closed_at": "2020-12-10T01:16:14Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16923", "html_url": "https://github.com/matomo-org/matomo/pull/16923", "diff_url": "https://github.com/matomo-org/matomo/pull/16923.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16923.patch", "merged_at": "2020-12-10T01:16:14Z" }, "body": "### Description:\r\n\r\nWhen showing evolution (comparison or row evolution) we currently prepend a plus sign to positive evolutions.\r\nThis PR improves the handling for that and fixes some issues:\r\n\r\n* Unifies the handling between comparison mode and row evolution\r\n Having a change of `0` will now always show `+0%`, before row evolution didn't prepend the `+`\r\n* Handle i18n correctly\r\n Some languages actually don't use a normal `+` sign for numbers. So use `Intl_NumberSymbolPlus` instead\r\n* Current comparison doesn't work on PHP8, causing + sign to be always prepended (refs #16897 )\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16923/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16923/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16922", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16922/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16922/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16922/events", "html_url": "https://github.com/matomo-org/matomo/issues/16922", "id": 760246126, "node_id": "MDU6SXNzdWU3NjAyNDYxMjY=", "number": 16922, "title": "replace generate:plugin warning with pointer to guide", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" }, { "id": 137043266, "node_id": "MDU6TGFiZWwxMzcwNDMyNjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Usability", "name": "c: Usability", "color": "bfe5bf", "default": false, "description": "For issues that let users achieve a defined goal more effectively or efficiently." } ], "state": "closed", "locked": false, "assignee": { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "flamisz", "id": 6749509, "node_id": "MDQ6VXNlcjY3NDk1MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/6749509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flamisz", "html_url": "https://github.com/flamisz", "followers_url": "https://api.github.com/users/flamisz/followers", "following_url": "https://api.github.com/users/flamisz/following{/other_user}", "gists_url": "https://api.github.com/users/flamisz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flamisz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flamisz/subscriptions", "organizations_url": "https://api.github.com/users/flamisz/orgs", "repos_url": "https://api.github.com/users/flamisz/repos", "events_url": "https://api.github.com/users/flamisz/events{/privacy}", "received_events_url": "https://api.github.com/users/flamisz/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 4, "created_at": "2020-12-09T11:26:02Z", "updated_at": "2021-08-25T22:48:46Z", "closed_at": "2021-03-17T20:12:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When someone wants to create a plugin and is using the Matomo version from matomo.zip, they probably get an error like this one:\r\n\r\n>Uncaught exception: Error: Class 'Piwik\\Plugins\\ExamplePlugin\\ExamplePlugin' not found\r\n\r\nThis is expected as Matomo doesn't ship with the Example* plugins anymore, but doesn't help the person struggling with this.\r\n\r\nInstead, the `generate:plugin` should detect if those plugins are missing and if not point people towards https://developer.matomo.org/guides/getting-started-part-1", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16922/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16922/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16921", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16921/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16921/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16921/events", "html_url": "https://github.com/matomo-org/matomo/pull/16921", "id": 760226151, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM1MDkzMTM0", "number": 16921, "title": "Use correct method to check row count", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-09T10:57:48Z", "updated_at": "2020-12-10T01:34:05Z", "closed_at": "2020-12-10T01:34:02Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16921", "html_url": "https://github.com/matomo-org/matomo/pull/16921", "diff_url": "https://github.com/matomo-org/matomo/pull/16921.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16921.patch", "merged_at": "2020-12-10T01:34:01Z" }, "body": "### Description:\r\n\r\nwasn't able to reproduce that original issue. But looking at the code, this should fix it.\r\n\r\nfixes #16919 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16921/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16920", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16920/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16920/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16920/events", "html_url": "https://github.com/matomo-org/matomo/pull/16920", "id": 760218098, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM1MDg2NDc1", "number": 16920, "title": "Ensure metadata is available if page url can't be found", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 4, "created_at": "2020-12-09T10:47:05Z", "updated_at": "2021-01-19T03:42:21Z", "closed_at": "2021-01-19T03:42:17Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16920", "html_url": "https://github.com/matomo-org/matomo/pull/16920", "diff_url": "https://github.com/matomo-org/matomo/pull/16920.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16920.patch", "merged_at": "2021-01-19T03:42:17Z" }, "body": "### Description:\r\n\r\nWhen sending a request like this:\r\n\r\n{\"module\":\"API\",\"format\":\"rss\",\"pageUrl\":\"\\xxxxxxxxxxxx\",\"idSite\":\"1\",\"period\":\"day\",\"date\":\"last7\",\"token_auth\":\"XYZANONYMIZED\",\"method\":\"Actions.getPageUrl\",\"filter_limit\":100}\r\n\r\nthe api method `Actions.getPageUrl` currently might return a completely empty datatable, if the url can't be found. But the RSS renderer tries to use the `period` metadata of the datatable, which does not exist, and fails.\r\n\r\nSimply returning the first subtables metadata for the empty table response solves that issue.\r\n\r\nfixes #16918 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16920/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16920/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16919", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16919/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16919/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16919/events", "html_url": "https://github.com/matomo-org/matomo/issues/16919", "id": 760168952, "node_id": "MDU6SXNzdWU3NjAxNjg5NTI=", "number": 16919, "title": "Call to a member function setColumn() on boolean in plugins/Referrers/API.php", "user": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 1, "created_at": "2020-12-09T09:40:06Z", "updated_at": "2020-12-10T01:34:01Z", "closed_at": "2020-12-10T01:34:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Error on Cloud:\r\n\r\n Error: {\"message\":\"Call to a member function setColumn() on boolean\",\"file\":\"\\/var\\/www\\/html\\/plugins\\/Referrers\\/API.php\",\"line\":765,\"request_id\":\"5d68e\",\"backtrace\":\" on \\/var\\/www\\/html\\/plugins\\/Referrers\\/API.php(765)\\n#0 \\/var\\/www\\/html\\/plugins\\/Referrers\\/API.php(770): Piwik\\\\Plugins\\\\Referrers\\\\API->mergeNumericArchives(Object(Piwik\\\\DataTable), Object(Piwik\\\\DataTable\\\\Simple))\\n#1 \\/var\\/www\\/html\\/plugins\\/Referrers\\/API.php(51): Piwik\\\\Plugins\\\\Referrers\\\\API->mergeNumericArchives(Object(Piwik\\\\DataTable\\\\Map), Object(Piwik\\\\DataTable\\\\Map))\\n#2 [internal function]: Piwik\\\\Plugins\\\\Referrers\\\\API->get('3', 'day', '2019-04-21,2020...', false, 'Referrers_visit...')\\n#3 \\/var\\/www\\/html\\/core\\/API\\/Proxy.php(244): call_user_func_array(Array, Array)\\n#4 \\/var\\/www\\/html\\/core\\/Context.php(28): Piwik\\\\API\\\\Proxy->Piwik\\\\API\\\\{closure}()\\n#5 \\/var\\/www\\/html\\/core\\/API\\/Proxy.php(335): Piwik\\\\Context::executeWithQueryParameters(Array, Object(Closure))\\n#6 \\/var\\/www\\/html\\/plugins\\/API\\/API.php(374): Piwik\\\\API\\\\Proxy->call('\\\\\\\\Piwik\\\\\\\\Plugins\\\\\\\\...', 'get', Array)\\n#7 [internal function]: Piwik\\\\Plugins\\\\API\\\\API->get('3', 'day', '2019-04-21,2020...', false, Array)\\n#8 \\/var\\/www\\/html\\/core\\/API\\/Proxy.php(244): call_user_func_array(Array, Array)\\n#9 \\/var\\/www\\/html\\/core\\/Context.php(28): Piwik\\\\API\\\\Proxy->Piwik\\\\API\\\\{closure}()\\n#10 \\/var\\/www\\/html\\/core\\/API\\/Proxy.php(335): Piwik\\\\Context::executeWithQueryParameters(Array, Object(Closure))\\n#11 \\/var\\/www\\/html\\/core\\/Plugin\\/Visualization.php(341): Piwik\\\\API\\\\Proxy->call('\\\\\\\\Piwik\\\\\\\\Plugins\\\\\\\\...', 'get', Array)\\n#12 \\/var\\/www\\/html\\/core\\/Plugin\\/Visualization.php(188): Piwik\\\\Plugin\\\\Visualization->loadDataTableFromAPI()\\n#13 \\/var\\/www\\/html\\/core\\/Plugin\\/Controller.php(247): Piwik\\\\Plugin\\\\Visualization->render()\\n#14 \\/var\\/www\\/html\\/plugins\\/VisitsSummary\\/Controller.php(128): Piwik\\\\Plugin\\\\Controller->renderView(Object(Piwik\\\\Plugins\\\\CoreVisualizations\\\\Visualizations\\\\JqplotGraph\\\\Evolution))\\n#15 [internal function]: Piwik\\\\Plugins\\\\VisitsSummary\\\\Controller->getEvolutionGraph()\\n#16 \\/var\\/www\\/html\\/core\\/FrontController.php(605): call_user_func_array(Array, Array)\\n#17 \\/var\\/www\\/html\\/core\\/FrontController.php(166): Piwik\\\\FrontController->doDispatch('VisitsSummary', 'getEvolutionGra...', Array)\\n#18 \\/var\\/www\\/html\\/core\\/dispatch.php(32): Piwik\\\\FrontController->dispatch()\\n#19 \\/var\\/www\\/html\\/index.php(25): require_once('\\/var\\/www\\/html\\/c...')\\n#20 {main}\"}\r\n\r\n\r\nURL: https://x.matomo.cloud/index.php?date=2020-09-01&forceView=1&viewDataTable=graphEvolution&module=VisitsSummary&action=getEvolutionGraph&disableLink=0&widget=1&evolution_day_last_n=500&idSite=3&period=day", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16919/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16919/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16918", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16918/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16918/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16918/events", "html_url": "https://github.com/matomo-org/matomo/issues/16918", "id": 760159087, "node_id": "MDU6SXNzdWU3NjAxNTkwODc=", "number": 16918, "title": "Call to a member function getDateStart() on boolean DataTable/Renderer/Rss.php", "user": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 1, "created_at": "2020-12-09T09:26:26Z", "updated_at": "2021-01-19T03:42:17Z", "closed_at": "2021-01-19T03:42:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Error seen on Cloud:\r\n\r\n Error: {\"message\":\"Call to a member function getDateStart() on boolean\",\"file\":\"\\/var\\/www\\/html\\/core\\/DataTable\\/Renderer\\/Rss.php\",\"line\":62,\"request_id\":\"1e86d\",\"backtrace\":\" on \\/var\\/www\\/html\\/core\\/DataTable\\/Renderer\\/Rss.php(62)\\n#0 \\/var\\/www\\/html\\/core\\/DataTable\\/Renderer\\/Rss.php(34): Piwik\\\\DataTable\\\\Renderer\\\\Rss->renderTable(Object(Piwik\\\\DataTable\\\\Map))\\n#1 \\/var\\/www\\/html\\/plugins\\/API\\/Renderer\\/Rss.php(40): Piwik\\\\DataTable\\\\Renderer\\\\Rss->render()\\n#2 \\/var\\/www\\/html\\/core\\/API\\/ResponseBuilder.php(193): Piwik\\\\Plugins\\\\API\\\\Renderer\\\\Rss->renderDataTable(Object(Piwik\\\\DataTable\\\\Map))\\n#3 \\/var\\/www\\/html\\/core\\/API\\/ResponseBuilder.php(104): Piwik\\\\API\\\\ResponseBuilder->handleDataTable(Object(Piwik\\\\DataTable\\\\Map))\\n#4 \\/var\\/www\\/html\\/core\\/API\\/Request.php(272): Piwik\\\\API\\\\ResponseBuilder->getResponse(Object(Piwik\\\\DataTable\\\\Map), 'Actions', 'getPageUrl')\\n#5 \\/var\\/www\\/html\\/core\\/Context.php(28): Piwik\\\\API\\\\Request->Piwik\\\\API\\\\{closure}()\\n#6 \\/var\\/www\\/html\\/core\\/API\\/Request.php(273): Piwik\\\\Context::executeWithQueryParameters(Array, Object(Closure))\\n#7 \\/var\\/www\\/html\\/plugins\\/API\\/Controller.php(46): Piwik\\\\API\\\\Request->process()\\n#8 [internal function]: Piwik\\\\Plugins\\\\API\\\\Controller->index()\\n#9 \\/var\\/www\\/html\\/core\\/FrontController.php(605): call_user_func_array(Array, Array)\\n#10 \\/var\\/www\\/html\\/core\\/FrontController.php(166): Piwik\\\\FrontController->doDispatch('API', false, Array)\\n#11 \\/var\\/www\\/html\\/core\\/dispatch.php(32): Piwik\\\\FrontController->dispatch()\\n#12 \\/var\\/www\\/html\\/index.php(25): require_once('\\/var\\/www\\/html\\/c...')\\n#13 {main}\"}\r\n\r\nURL: https://xyz.matomo.cloud//?module=API&format=rss&pageUrl=%xxxxxxxxxxxxxxxx&idSite=1&period=day&date=last7&token_auth=XYZANONYMIZED&method=Actions.getPageUrl\r\n\r\nReferrer:\r\n\r\nGET: {\"module\":\"API\",\"format\":\"rss\",\"pageUrl\":\"\\xxxxxxxxxxxx\",\"idSite\":\"1\",\"period\":\"day\",\"date\":\"last7\",\"token_auth\":\"XYZANONYMIZED\",\"method\":\"Actions.getPageUrl\",\"filter_limit\":100}\r\n\r\nTime: 2020-12-09 09:09:38", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16918/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16918/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16917", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16917/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16917/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16917/events", "html_url": "https://github.com/matomo-org/matomo/pull/16917", "id": 759914906, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM0ODM0MzY5", "number": 16917, "title": "Correct archived metric query for days to conversion", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 0, "created_at": "2020-12-09T01:33:51Z", "updated_at": "2020-12-09T03:03:40Z", "closed_at": "2020-12-09T03:00:04Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16917", "html_url": "https://github.com/matomo-org/matomo/pull/16917", "diff_url": "https://github.com/matomo-org/matomo/pull/16917.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16917.patch", "merged_at": "2020-12-09T03:00:04Z" }, "body": "### Description:\r\n\r\nAs title.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16917/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16917/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16916", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16916/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16916/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16916/events", "html_url": "https://github.com/matomo-org/matomo/issues/16916", "id": 759888884, "node_id": "MDU6SXNzdWU3NTk4ODg4ODQ=", "number": 16916, "title": "Possible archiving query optimization", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2020-12-09T00:28:12Z", "updated_at": "2020-12-09T00:28:12Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "In `Model::getArchiveIdAndVisits()` we look for an archive ID and some related metrics in the archive. The query used can potentially scan thousands or more rows just to look for a couple bits of data, due mostly to us not being able to add name to the index.\r\n\r\nA possible solution would be to use an approach similar to the log_action table and add a hash column that hashes together the `idsite, period, date1, date2, name` columns, index it and just query that column. We could potentially also just hash the done flag and add it to the existing index.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16916/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16916/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16915", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16915/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16915/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16915/events", "html_url": "https://github.com/matomo-org/matomo/issues/16915", "id": 759758367, "node_id": "MDU6SXNzdWU3NTk3NTgzNjc=", "number": 16915, "title": "Select segments on all websites dashboard", "user": { "login": "1000i100", "id": 2516773, "node_id": "MDQ6VXNlcjI1MTY3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2516773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1000i100", "html_url": "https://github.com/1000i100", "followers_url": "https://api.github.com/users/1000i100/followers", "following_url": "https://api.github.com/users/1000i100/following{/other_user}", "gists_url": "https://api.github.com/users/1000i100/gists{/gist_id}", "starred_url": "https://api.github.com/users/1000i100/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1000i100/subscriptions", "organizations_url": "https://api.github.com/users/1000i100/orgs", "repos_url": "https://api.github.com/users/1000i100/repos", "events_url": "https://api.github.com/users/1000i100/events{/privacy}", "received_events_url": "https://api.github.com/users/1000i100/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 2, "created_at": "2020-12-08T20:32:15Z", "updated_at": "2020-12-08T20:37:04Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "I have many small website on my matomo server.\r\nI would like to manage common segments server wide rather than site by site.\r\nIdeally, i would like to choose segments on MultiSites dashboard to compare with more usefull data.\r\n\r\nIs it possible yet ?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16915/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16915/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16914", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16914/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16914/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16914/events", "html_url": "https://github.com/matomo-org/matomo/issues/16914", "id": 759755909, "node_id": "MDU6SXNzdWU3NTk3NTU5MDk=", "number": 16914, "title": "MultiSites as matomo homepage", "user": { "login": "1000i100", "id": 2516773, "node_id": "MDQ6VXNlcjI1MTY3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2516773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1000i100", "html_url": "https://github.com/1000i100", "followers_url": "https://api.github.com/users/1000i100/followers", "following_url": "https://api.github.com/users/1000i100/following{/other_user}", "gists_url": "https://api.github.com/users/1000i100/gists{/gist_id}", "starred_url": "https://api.github.com/users/1000i100/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1000i100/subscriptions", "organizations_url": "https://api.github.com/users/1000i100/orgs", "repos_url": "https://api.github.com/users/1000i100/repos", "events_url": "https://api.github.com/users/1000i100/events{/privacy}", "received_events_url": "https://api.github.com/users/1000i100/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2020-12-08T20:28:19Z", "updated_at": "2020-12-08T20:45:33Z", "closed_at": "2020-12-08T20:33:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm hosting somes website on my server and i've added a matomo to track activity on them ( parsing server log with https://github.com/matomo-org/matomo-log-analytics ).\r\n\r\nWhen i log-in matomo, i would like to go to the Multi Sites dashboard rather than the first i've added in matomo webui.\r\nAnd the same when i clic on the top left logo to go back to home, i would like to go to the Multi Sites dashboard.\r\n\r\nIs-it possible ?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16914/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16913", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16913/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16913/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16913/events", "html_url": "https://github.com/matomo-org/matomo/pull/16913", "id": 759726530, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM0NjgwNDk3", "number": 16913, "title": "More efficient page performance request processor", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 0, "created_at": "2020-12-08T19:43:14Z", "updated_at": "2020-12-08T20:22:44Z", "closed_at": "2020-12-08T20:22:37Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16913", "html_url": "https://github.com/matomo-org/matomo/pull/16913", "diff_url": "https://github.com/matomo-org/matomo/pull/16913.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16913.patch", "merged_at": "2020-12-08T20:22:36Z" }, "body": "### Description:\r\n\r\nfix https://github.com/matomo-org/matomo/issues/16912\r\n\r\n@sgiehl could you look at this one? Should this cause any issues? If so, what would be an alternative fix?\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16913/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16913/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16912", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16912/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16912/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16912/events", "html_url": "https://github.com/matomo-org/matomo/issues/16912", "id": 759724889, "node_id": "MDU6SXNzdWU3NTk3MjQ4ODk=", "number": 16912, "title": "Performance plugin causes select query in request processor", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 0, "created_at": "2020-12-08T19:40:37Z", "updated_at": "2020-12-11T09:08:15Z", "closed_at": "2020-12-08T20:22:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Can we maybe first check if there are any request parameters in the request processor before executing a select on every non page view tracking request? This would reduce CPU and load on a DB server quite a bit and make tracking faster.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16912/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16911", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16911/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16911/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16911/events", "html_url": "https://github.com/matomo-org/matomo/pull/16911", "id": 759348394, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM0MzY5MTE3", "number": 16911, "title": "Harden check for db-ip urls", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-08T10:59:33Z", "updated_at": "2020-12-09T22:31:56Z", "closed_at": "2020-12-09T22:31:53Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16911", "html_url": "https://github.com/matomo-org/matomo/pull/16911", "diff_url": "https://github.com/matomo-org/matomo/pull/16911.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16911.patch", "merged_at": "2020-12-09T22:31:53Z" }, "body": "### Description:\r\n\r\n\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16911/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16910", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16910/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16910/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16910/events", "html_url": "https://github.com/matomo-org/matomo/pull/16910", "id": 759290932, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM0MzIwOTU2", "number": 16910, "title": "Adds possibility to configure protocols for allowed outgoing connections", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370581, "node_id": "MDU6TGFiZWwxMTIzNzA1ODE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Security", "name": "c: Security", "color": "fad8c7", "default": false, "description": "For issues that make Matomo more secure. Please report issues through HackerOne and not in Github." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 2, "created_at": "2020-12-08T09:43:25Z", "updated_at": "2020-12-10T23:38:15Z", "closed_at": "2020-12-10T23:38:11Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16910", "html_url": "https://github.com/matomo-org/matomo/pull/16910", "diff_url": "https://github.com/matomo-org/matomo/pull/16910.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16910.patch", "merged_at": "2020-12-10T23:38:11Z" }, "body": "### Description:\r\n\r\nMatomo should normally not send any request using other protocols than http and https.\r\nIn some uncommon use cases it might be needed to send other request. This can be done using a config setting to define the list of allowed protocols.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16910/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16910/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16909", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16909/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16909/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16909/events", "html_url": "https://github.com/matomo-org/matomo/pull/16909", "id": 759234457, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM0MjcyNzQ4", "number": 16909, "title": "Updates TagManager submodule", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2020-12-08T08:35:07Z", "updated_at": "2020-12-08T09:15:05Z", "closed_at": "2020-12-08T09:15:02Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16909", "html_url": "https://github.com/matomo-org/matomo/pull/16909", "diff_url": "https://github.com/matomo-org/matomo/pull/16909.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16909.patch", "merged_at": "2020-12-08T09:15:02Z" }, "body": "", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16909/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16909/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16908", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16908/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16908/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16908/events", "html_url": "https://github.com/matomo-org/matomo/pull/16908", "id": 759222355, "node_id": "MDExOlB1bGxSZXF1ZXN0NTM0MjYxNTIx", "number": 16908, "title": "Harden check for numeric array indices", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-08T08:26:07Z", "updated_at": "2020-12-10T01:50:20Z", "closed_at": "2020-12-10T01:50:17Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16908", "html_url": "https://github.com/matomo-org/matomo/pull/16908", "diff_url": "https://github.com/matomo-org/matomo/pull/16908.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16908.patch", "merged_at": "2020-12-10T01:50:16Z" }, "body": "### Description:\r\n\r\nSome of the tests actually had results that are not fully correct. \r\n\r\nThis peace of code actually returns `true` on PHP7 while it returns `false` on PHP 8:\r\n\r\n```php\r\n$array = ['a' => 'b'];\r\n\r\nreturn array_keys($array) == array_keys(array_fill(0, count($array), true)); // ['a'] == [0]\r\n```\r\n\r\nComparing with `===` instead should have the same result on both versions.\r\n\r\nIf I understand the code correct it tries to check for default numeric indices. Comparing with `===` requires the keys to be of the same type and in the same order. Imho that should be correct as an array with shuffled order should imho not be handled as having default indices.\r\n\r\nrefs #16897\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16908/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16908/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16907", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16907/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16907/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16907/events", "html_url": "https://github.com/matomo-org/matomo/issues/16907", "id": 759126788, "node_id": "MDU6SXNzdWU3NTkxMjY3ODg=", "number": 16907, "title": "Installation broken with \"Uncaught exception: Call to undefined method DI\\ContainerBuilder::setDefinitionCache()\" after update to 4.0.4", "user": { "login": "tuxmaster5000", "id": 837503, "node_id": "MDQ6VXNlcjgzNzUwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/837503?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tuxmaster5000", "html_url": "https://github.com/tuxmaster5000", "followers_url": "https://api.github.com/users/tuxmaster5000/followers", "following_url": "https://api.github.com/users/tuxmaster5000/following{/other_user}", "gists_url": "https://api.github.com/users/tuxmaster5000/gists{/gist_id}", "starred_url": "https://api.github.com/users/tuxmaster5000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tuxmaster5000/subscriptions", "organizations_url": "https://api.github.com/users/tuxmaster5000/orgs", "repos_url": "https://api.github.com/users/tuxmaster5000/repos", "events_url": "https://api.github.com/users/tuxmaster5000/events{/privacy}", "received_events_url": "https://api.github.com/users/tuxmaster5000/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370558, "node_id": "MDU6TGFiZWwxMTIzNzA1NTg=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "If you can reproduce this issue, please reopen the issue or create a new one describing it." }, { "id": 1999726053, "node_id": "MDU6TGFiZWwxOTk5NzI2MDUz", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Can't%20reproduce%20(yet)", "name": "Can't reproduce (yet)", "color": "b5e074", "default": false, "description": "For issues that are reported by many people, but can not reproduced by reliably and need more data." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 9, "created_at": "2020-12-08T06:54:45Z", "updated_at": "2020-12-11T01:20:39Z", "closed_at": "2020-12-11T01:20:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "After update to 4.0.4 from 3.14.1\r\n\r\nOn the console only this will logged:\r\n```\r\nUncaught exception: Call to undefined method DI\\ContainerBuilder::setDefinitionCache()\r\nin /var/www/matomo/core/Container/ContainerFactory.php line 69\r\n#0 /var/www/matomo/core/Application/Environment.php(141): Piwik\\Container\\ContainerFactory->create()\r\n#1 /var/www/matomo/core/Application/Environment.php(95): Piwik\\Application\\Environment->createContainer()\r\n#2 /var/www/matomo/core/Console.php(250): Piwik\\Application\\Environment->init()\r\n#3 /var/www/matomo/core/Console.php(112): Piwik\\Console->initEnvironment(Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\r\n#4 /var/www/matomo/core/Console.php(93): Piwik\\Console->doRunImpl(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\r\n#5 /var/www/matomo/vendor/symfony/console/Symfony/Component/Console/Application.php(126): Piwik\\Console->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))\r\n#6 /var/www/matomo/console(32): Symfony\\Component\\Console\\Application->run()\r\n#7 {main}\r\n\r\n```\r\nThe only solution was an rollback to 3.14.1\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16907/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16907/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16906", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16906/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16906/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16906/events", "html_url": "https://github.com/matomo-org/matomo/issues/16906", "id": 759115721, "node_id": "MDU6SXNzdWU3NTkxMTU3MjE=", "number": 16906, "title": "Device Detection broken", "user": { "login": "ThorbenOermann", "id": 12184389, "node_id": "MDQ6VXNlcjEyMTg0Mzg5", "avatar_url": "https://avatars.githubusercontent.com/u/12184389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThorbenOermann", "html_url": "https://github.com/ThorbenOermann", "followers_url": "https://api.github.com/users/ThorbenOermann/followers", "following_url": "https://api.github.com/users/ThorbenOermann/following{/other_user}", "gists_url": "https://api.github.com/users/ThorbenOermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThorbenOermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThorbenOermann/subscriptions", "organizations_url": "https://api.github.com/users/ThorbenOermann/orgs", "repos_url": "https://api.github.com/users/ThorbenOermann/repos", "events_url": "https://api.github.com/users/ThorbenOermann/events{/privacy}", "received_events_url": "https://api.github.com/users/ThorbenOermann/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2020-12-08T06:41:04Z", "updated_at": "2020-12-08T09:50:01Z", "closed_at": "2020-12-08T07:50:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I came to the office this morning I noticed that our matomo instance is no longer tracking requests. Which is pretty strange since everything was fine yesterday. I looked into the logs and found that the DeviceDetector had started to cause an error:\r\n\r\n```logs\r\nPHP Fatal error: Uncaught TypeError: Return value of DeviceDetector\\Parser\\Device\\AbstractDeviceParser::getShortCode() must be of the type string, int returned in /var/www/matomo/vendor/matomo/device-detector/Parser/Device/AbstractDeviceParser.php:924\r\nStack trace:\r\n#0 /var/www/matomo/vendor/matomo/device-detector/DeviceDetector.php(491): DeviceDetector\\Parser\\Device\\AbstractDeviceParser::getShortCode()\r\n#1 /var/www/matomo/plugins/DevicesDetection/Columns/DeviceBrand.php(63): DeviceDetector\\DeviceDetector->getBrand()\r\n#2 /var/www/matomo/core/Tracker/Visit.php(499): Piwik\\Plugins\\DevicesDetection\\Columns\\DeviceBrand->onNewVisit()\r\n#3 /var/www/matomo/core/Tracker/Visit.php(302): Piwik\\Tracker\\Visit->triggerHookOnDimensions()\r\n#4 /var/www/matomo/core/Tracker/Visit.php(209): Piwik\\Tracker\\Visit->handleNewVisit()\r\n#5 /var/www/matomo/core/Tracker.php(160): Piwik\\Tracker\\Visit->handle()\r\n#6 /var/www/matomo/plugins/Queue\" while reading response header from upstream[...]\r\n```\r\n\r\nThe strange thing is, that we did not changed or updated anything. The error came up by the middle of the night and from there on was present on every request.\r\nWe did not update something. Neither matomo nor php or something else. \r\n\r\nWe are using Matomo 4.0.4 with PHP 7.4.10. \r\n\r\nAfter deactivating the DeviceDetector plugin tracking works as expected.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16906/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16906/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16905", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16905/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16905/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16905/events", "html_url": "https://github.com/matomo-org/matomo/issues/16905", "id": 759006250, "node_id": "MDU6SXNzdWU3NTkwMDYyNTA=", "number": 16905, "title": "Prefix all our vendor libs", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." } ], "state": "open", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/134", "html_url": "https://github.com/matomo-org/matomo/milestone/134", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/134/labels", "id": 5099423, "node_id": "MDk6TWlsZXN0b25lNTA5OTQyMw==", "number": 134, "title": "5.0.0", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 28, "closed_issues": 49, "state": "open", "created_at": "2020-02-12T19:41:40Z", "updated_at": "2022-09-30T00:23:49Z", "due_on": "2022-05-18T07:00:00Z", "closed_at": null }, "comments": 17, "created_at": "2020-12-08T02:32:17Z", "updated_at": "2022-09-07T10:25:28Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "see https://github.com/matomo-org/wp-matomo/issues/233\r\n\r\nNeed to do this in a major release. Should investigate if we can make this work. We'd only prefix vendor libraries. Could use `Matomo` or `MatomoLib` or something as prefix. eg `Di\\object` then becomes `Matomo\\Di\\object`. To have it actually useful in development too we would put this into the composer json similar to https://github.com/google/site-kit-wp/issues/612 see eg https://github.com/google/site-kit-wp/pull/730/files\r\n\r\nMore details in #233", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16905/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16905/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16904", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16904/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16904/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16904/events", "html_url": "https://github.com/matomo-org/matomo/issues/16904", "id": 758849223, "node_id": "MDU6SXNzdWU3NTg4NDkyMjM=", "number": 16904, "title": "Matomo tracker select queries can get slow when most visits have same visitorId", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370553, "node_id": "MDU6TGFiZWwxMTIzNzA1NTM=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Major", "name": "Major", "color": "eb6420", "default": false, "description": "Indicates the severity or impact or benefit of an issue is much higher than normal but not critical." }, { "id": 112370562, "node_id": "MDU6TGFiZWwxMTIzNzA1NjI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Performance", "name": "c: Performance", "color": "ededed", "default": false, "description": "For when we could improve the performance / speed of Matomo." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/134", "html_url": "https://github.com/matomo-org/matomo/milestone/134", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/134/labels", "id": 5099423, "node_id": "MDk6TWlsZXN0b25lNTA5OTQyMw==", "number": 134, "title": "5.0.0", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 28, "closed_issues": 49, "state": "open", "created_at": "2020-02-12T19:41:40Z", "updated_at": "2022-09-30T00:23:49Z", "due_on": "2022-05-18T07:00:00Z", "closed_at": null }, "comments": 29, "created_at": "2020-12-07T21:07:44Z", "updated_at": "2022-05-10T02:48:50Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Say you are tracking apps and you send a userId with every tracking request. Then by default the userId will be used to generate the visitorId. It may also be a problem if for every action a new visit is forced.\r\n\r\nQueries like this will become very slow:\r\n\r\n```sql\r\nexplain extended SELECT visit_last_action_time, visit_first_action_time, idvisitor, idvisit, user_id, visit_exit_idaction_url, visit_exit_idaction_name, visitor_returning, visitor_seconds_since_first, visitor_seconds_since_order, visitor_count_visits, visit_goal_buyer, location_country, location_region, location_city, location_latitude, location_longitude, referer_name, referer_keyword, referer_type, idsite, profilable, visit_entry_idaction_url, visit_total_actions, visit_total_interactions, visit_total_searches, referer_url, config_browser_name, config_client_type, config_device_brand, config_device_model, config_device_type, visit_total_events, visit_total_time, location_ip, location_browser_lang, campaign_content, campaign_group, campaign_id, campaign_keyword, campaign_medium, campaign_name, campaign_placement, campaign_source, last_idlink_va, custom_dimension_1, custom_dimension_2, custom_dimension_3, custom_dimension_4, custom_dimension_5, custom_dimension_6, custom_var_k1, custom_var_v1, custom_var_k2, custom_var_v2, custom_var_k3, custom_var_v3, custom_var_k4, custom_var_v4, custom_var_k5, custom_var_v5 FROM log_visit FORCE INDEX (index_idsite_idvisitor) WHERE idsite = '4' AND visit_last_action_time <= '2020-12-07 20:34:48' AND idvisitor = '...'\r\n ORDER BY visit_last_action_time DESC\r\n LIMIT 1\r\n```\r\n\r\nExplain:\r\n![image](https://user-images.githubusercontent.com/273120/101405243-ad1b4a80-393c-11eb-97ee-62df41a2cfa8.png)\r\n\r\nor \r\n![image](https://user-images.githubusercontent.com/273120/109722670-df71d680-7c11-11eb-82ec-f35692e6ae3c.png)\r\n\r\n\r\nTo workaround this performance issue set `[Tracker]enable_userid_overwrites_visitorid=0` in your `config/config.ini.php` if userId is used. If userId is not used, there is currently no workaround.\r\n\r\nIdeally we find a way to not needing this setting though. Maybe we could at least limit time range by adding to the where `visit_last_action_time > 1 year before upper limit `. It won't make it much better but at least it be slightly faster especially when the table has over the years collected many hundred thousands or millions of requests for the same visitor. In our use case we have for example for the same idVisitor 1.6M entries which is roughly 30% of all visits for the same visitor.\r\n\r\nWe used to have this lower limit in the where clause but AFAIK we removed it for Cohorts. @diosmosis do you maybe remember? To make cohorts still useful, how far back would we need to look? 1 year? Or would it be fine to only look back 6 months? I suppose we'd need to look back kind of ideally at least 1 year for the reports to be fine when you look at months for cohorts.\r\n\r\nAny other thoughts on how to make this use case faster be appreciated\r\n\r\n**UPDATE**\r\n\r\nSee my comment further below. This issue is now about changing the existing index according to https://matomo.org/faq/troubleshooting/how-do-i-improve-the-load-time-of-the-find-visitor-sql-query-when-visitors-have-many-visits/", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16904/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16904/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16903", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16903/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16903/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16903/events", "html_url": "https://github.com/matomo-org/matomo/pull/16903", "id": 758560784, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzNzE0ODgx", "number": 16903, "title": "Assume something is widgetized whenever a token_auth is set in url", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 1, "created_at": "2020-12-07T14:28:08Z", "updated_at": "2020-12-07T22:04:41Z", "closed_at": "2020-12-07T22:04:38Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16903", "html_url": "https://github.com/matomo-org/matomo/pull/16903", "diff_url": "https://github.com/matomo-org/matomo/pull/16903.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16903.patch", "merged_at": "2020-12-07T22:04:38Z" }, "body": "### Description:\r\n\r\nfixes #16867\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16903/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16902", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16902/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16902/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16902/events", "html_url": "https://github.com/matomo-org/matomo/pull/16902", "id": 758509108, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzNjcxMTgx", "number": 16902, "title": "Fixes a couple of test class names", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 0, "created_at": "2020-12-07T13:30:33Z", "updated_at": "2020-12-07T13:32:05Z", "closed_at": "2020-12-07T13:32:01Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16902", "html_url": "https://github.com/matomo-org/matomo/pull/16902", "diff_url": "https://github.com/matomo-org/matomo/pull/16902.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16902.patch", "merged_at": "2020-12-07T13:32:01Z" }, "body": "", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16902/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16901", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16901/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16901/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16901/events", "html_url": "https://github.com/matomo-org/matomo/pull/16901", "id": 758447561, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzNjE5MDM2", "number": 16901, "title": "better Windows detection", "user": { "login": "Findus23", "id": 6266037, "node_id": "MDQ6VXNlcjYyNjYwMzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6266037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Findus23", "html_url": "https://github.com/Findus23", "followers_url": "https://api.github.com/users/Findus23/followers", "following_url": "https://api.github.com/users/Findus23/following{/other_user}", "gists_url": "https://api.github.com/users/Findus23/gists{/gist_id}", "starred_url": "https://api.github.com/users/Findus23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Findus23/subscriptions", "organizations_url": "https://api.github.com/users/Findus23/orgs", "repos_url": "https://api.github.com/users/Findus23/repos", "events_url": "https://api.github.com/users/Findus23/events{/privacy}", "received_events_url": "https://api.github.com/users/Findus23/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-07T12:02:09Z", "updated_at": "2020-12-10T01:51:37Z", "closed_at": "2020-12-10T01:51:33Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16901", "html_url": "https://github.com/matomo-org/matomo/pull/16901", "diff_url": "https://github.com/matomo-org/matomo/pull/16901.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16901.patch", "merged_at": "2020-12-10T01:51:33Z" }, "body": "Not related to any actual issue, but I just came across this constant which should be more reliable and now with PHP 7.2 available for everyone.\r\n\r\n> **`PHP_OS_FAMILY`** (string)\r\n>\r\n> The operating system family PHP was built for. One of `'Windows'` , `'BSD'` , `'Darwin'` , `'Solaris'` , `'Linux'` or `'Unknown'` . Available as of PHP 7.2.0.\r\n> https://www.php.net/manual/en/reserved.constants.php\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16901/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16900", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16900/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16900/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16900/events", "html_url": "https://github.com/matomo-org/matomo/pull/16900", "id": 758383406, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzNTY0OTkz", "number": 16900, "title": "updates device detector to 4.0.2", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370556, "node_id": "MDU6TGFiZWwxMTIzNzA1NTY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Task", "name": "Task", "color": "bfe5bf", "default": false, "description": "Indicates an issue is neither a feature nor a bug and it's purely a \"technical\" change." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 1, "created_at": "2020-12-07T10:31:41Z", "updated_at": "2020-12-07T15:21:25Z", "closed_at": "2020-12-07T15:21:21Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16900", "html_url": "https://github.com/matomo-org/matomo/pull/16900", "diff_url": "https://github.com/matomo-org/matomo/pull/16900.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16900.patch", "merged_at": "2020-12-07T15:21:21Z" }, "body": "### Description:\r\n\r\nfixes #16889\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16900/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16900/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16899", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16899/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16899/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16899/events", "html_url": "https://github.com/matomo-org/matomo/pull/16899", "id": 758382820, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzNTY0NTA3", "number": 16899, "title": "Host detection: use HTTP_HOST as default, but provide a setting to use SERVER_NAME instead", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 0, "created_at": "2020-12-07T10:30:55Z", "updated_at": "2020-12-07T21:54:22Z", "closed_at": "2020-12-07T21:54:18Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16899", "html_url": "https://github.com/matomo-org/matomo/pull/16899", "diff_url": "https://github.com/matomo-org/matomo/pull/16899.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16899.patch", "merged_at": "2020-12-07T21:54:18Z" }, "body": "### Description:\r\n\r\nrefs #16866\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16899/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16898", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16898/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16898/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16898/events", "html_url": "https://github.com/matomo-org/matomo/issues/16898", "id": 758327591, "node_id": "MDU6SXNzdWU3NTgzMjc1OTE=", "number": 16898, "title": "Matomo 4.0.4 & PHP-FPM 7.4", "user": { "login": "manusfreedom", "id": 2192016, "node_id": "MDQ6VXNlcjIxOTIwMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2192016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manusfreedom", "html_url": "https://github.com/manusfreedom", "followers_url": "https://api.github.com/users/manusfreedom/followers", "following_url": "https://api.github.com/users/manusfreedom/following{/other_user}", "gists_url": "https://api.github.com/users/manusfreedom/gists{/gist_id}", "starred_url": "https://api.github.com/users/manusfreedom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manusfreedom/subscriptions", "organizations_url": "https://api.github.com/users/manusfreedom/orgs", "repos_url": "https://api.github.com/users/manusfreedom/repos", "events_url": "https://api.github.com/users/manusfreedom/events{/privacy}", "received_events_url": "https://api.github.com/users/manusfreedom/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 4, "created_at": "2020-12-07T09:19:28Z", "updated_at": "2020-12-23T06:38:02Z", "closed_at": "2020-12-07T09:57:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "On our setup (Ubuntu 20.04, PHP-FPM 7.4 from PPA) the last version 4.0.4 completely crash the PHP on some call of the dashboard:\r\n```\r\nDec 7 09:17:22 frovhoctowas001 kernel: [549574.205604] php-fpm7.4[40609]: segfault at 7f66b6eb8268 ip 000055e0cdc42aba sp 00007ffd1bd462c0 error 4 in php-fpm7.4[55e0cd972000+3e0000]\r\nDec 7 09:17:22 frovhoctowas001 kernel: [549574.205619] Code: 00 00 66 0f 1f 44 00 00 49 8b 46 18 f6 40 50 01 0f 85 a2 00 00 00 49 8b 46 18 48 8b 40 50 48 8b 00 48 85 c0 0f 84 ae 00 00 00 <8b> 10 83 f\r\na 01 76 38 f6 40 04 40 75 05 83 ea 01 89 10 48 89 c7 e8\r\nDec 7 09:17:42 frovhoctowas001 kernel: [549594.121487] php-fpm7.4[40596]: segfault at 7f66b6e611f8 ip 000055e0cdc42aba sp 00007ffd1bd462c0 error 4 in php-fpm7.4[55e0cd972000+3e0000]\r\nDec 7 09:17:42 frovhoctowas001 kernel: [549594.121496] Code: 00 00 66 0f 1f 44 00 00 49 8b 46 18 f6 40 50 01 0f 85 a2 00 00 00 49 8b 46 18 48 8b 40 50 48 8b 00 48 85 c0 0f 84 ae 00 00 00 <8b> 10 83 f\r\na 01 76 38 f6 40 04 40 75 05 83 ea 01 89 10 48 89 c7 e8\r\nDec 7 09:17:48 frovhoctowas001 kernel: [549600.469313] php-fpm7.4[40663]: segfault at 55e0cdcf0060 ip 000055e0cdc42c28 sp 00007ffd1bd462c0 error 7 in php-fpm7.4[55e0cd972000+3e0000]\r\nDec 7 09:17:48 frovhoctowas001 kernel: [549600.469328] Code: 00 00 e8 5b e4 f8 ff 48 be 02 00 00 00 0a 00 00 00 48 89 30 48 8b 4d 00 8b 55 08 48 c7 40 18 00 00 00 00 48 89 48 08 89 50 10 <48> 89 45 0\r\n0 c7 45 08 0a 01 00 00 48 89 03 c7 43 08 0a 01 00 00 e9\r\nDec 7 09:17:53 frovhoctowas001 kernel: [549605.492069] php-fpm7.4[40670]: segfault at 7f66b6e87b60 ip 000055e0cdc42aba sp 00007ffd1bd462c0 error 4 in php-fpm7.4[55e0cd972000+3e0000]\r\nDec 7 09:17:53 frovhoctowas001 kernel: [549605.492079] Code: 00 00 66 0f 1f 44 00 00 49 8b 46 18 f6 40 50 01 0f 85 a2 00 00 00 49 8b 46 18 48 8b 40 50 48 8b 00 48 85 c0 0f 84 ae 00 00 00 <8b> 10 83 f\r\na 01 76 38 f6 40 04 40 75 05 83 ea 01 89 10 48 89 c7 e8\r\n```\r\nSo to workaround we set PHP-FPM 7.2 (EOF last month) instead of 7.4, we hope it's a temporary workaround.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16898/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16897", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16897/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16897/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16897/events", "html_url": "https://github.com/matomo-org/matomo/pull/16897", "id": 758269783, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzNDY5ODQ5", "number": 16897, "title": "Run AllTests on PHP8", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136420242, "node_id": "MDU6TGFiZWwxMzY0MjAyNDI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Tests%20&%20QA", "name": "c: Tests & QA", "color": "bfdadc", "default": false, "description": "Improves automated tests or makes it easier to test issues." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": true, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 11, "created_at": "2020-12-07T08:03:22Z", "updated_at": "2022-01-11T08:46:39Z", "closed_at": "2021-08-17T07:59:00Z", "author_association": "MEMBER", "active_lock_reason": "resolved", "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16897", "html_url": "https://github.com/matomo-org/matomo/pull/16897", "diff_url": "https://github.com/matomo-org/matomo/pull/16897.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16897.patch", "merged_at": "2021-08-17T07:58:59Z" }, "body": "### Description:\r\n\r\nRuns AllTests on PHP 8 instead of PHP 7.4\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16897/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16897/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16896", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16896/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16896/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16896/events", "html_url": "https://github.com/matomo-org/matomo/pull/16896", "id": 758095880, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzMzIzMjc3", "number": 16896, "title": "Only invalidate in past for segments that belong to the site …", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 1, "created_at": "2020-12-07T02:07:54Z", "updated_at": "2020-12-08T02:04:08Z", "closed_at": "2020-12-08T02:04:05Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16896", "html_url": "https://github.com/matomo-org/matomo/pull/16896", "diff_url": "https://github.com/matomo-org/matomo/pull/16896.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16896.patch", "merged_at": "2020-12-08T02:04:05Z" }, "body": "### Description:\r\n\r\n… and only process an invalidation if it is for a site + we can load the segment\r\n\r\nFixes #16892\r\nFYI @tsteur \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16896/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16895", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16895/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16895/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16895/events", "html_url": "https://github.com/matomo-org/matomo/pull/16895", "id": 758048157, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzMjg1MTU0", "number": 16895, "title": "Remove invalidations for segments that are not pre-processed if found.", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 1, "created_at": "2020-12-06T23:13:27Z", "updated_at": "2020-12-07T00:11:33Z", "closed_at": "2020-12-07T00:11:29Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16895", "html_url": "https://github.com/matomo-org/matomo/pull/16895", "diff_url": "https://github.com/matomo-org/matomo/pull/16895.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16895.patch", "merged_at": "2020-12-07T00:11:29Z" }, "body": "### Description:\r\n\r\nRefs #16873\r\nFYI @tsteur \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16895/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16895/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16893", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16893/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16893/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16893/events", "html_url": "https://github.com/matomo-org/matomo/pull/16893", "id": 758022239, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzMjY2MTAz", "number": 16893, "title": "Fix ArgumentCountError: mysqli_stmt::bind_param() does not accept unknown named parameters", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 1, "created_at": "2020-12-06T21:03:02Z", "updated_at": "2020-12-06T23:32:08Z", "closed_at": "2020-12-06T23:31:40Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16893", "html_url": "https://github.com/matomo-org/matomo/pull/16893", "diff_url": "https://github.com/matomo-org/matomo/pull/16893.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16893.patch", "merged_at": "2020-12-06T23:31:40Z" }, "body": "fix https://github.com/matomo-org/matomo/issues/16885\r\n\r\nIt was basically an array like `array('idarchive'=> '', '', ...)` when it should be `[1,'name']`\r\n\r\nWondering though if the better fix would be in https://github.com/matomo-org/matomo/blob/4.0.4/core/DataAccess/Model.php#L228-L237 to make sure it's a regular array there?\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16893/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16892", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16892/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16892/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16892/events", "html_url": "https://github.com/matomo-org/matomo/issues/16892", "id": 758015627, "node_id": "MDU6SXNzdWU3NTgwMTU2Mjc=", "number": 16892, "title": "Check only invalidations created for correct sites", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 0, "created_at": "2020-12-06T20:30:07Z", "updated_at": "2020-12-08T02:04:05Z", "closed_at": "2020-12-08T02:04:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We have a customer that reports this:\r\n\r\n> Piwik\\Segment->__construct(dimension17==DE, Array ([0] => 1)) - that looks like Matomo is trying to load a segment from another idSite for Site 1, which will fail because idSite1 does not have a dimension17.\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/273120/101291558-94446380-386e-11eb-9bdc-f3ae629621a2.png)\r\n\r\nHere is the backtrace:\r\n\r\n```\r\n[32mINFO [2020-12-05 15:30:25] 8485 \u001B[39m Start processing archives for site 1.\r\n#0 Piwik\\Segment->getSegmentByName(dimension17) called at [core/Segment.php:258]\r\n#1 Piwik\\Segment->getExpressionsWithUnionsResolved(Array ([0] => Array ([0] => ,[1] => Array ([0] => dimension17,[1] => ==,[2] => DE)))) called at [core/Segment.php:236]\r\n#2 Piwik\\Segment->initializeSegment(dimension17==DE, Array ([0] => 1)) called at [/var/app/current/core/Segment.php:145]\r\n#3 Piwik\\Segment->__construct(dimension17==DE, Array ([0] => 1)) called at [core/CronArchive/SegmentArchiving.php:128]\r\n#4 Piwik\\CronArchive\\SegmentArchiving->findSegmentForHash(90a5a511e1974bca37613b6daec137ba, 1) called at [core/CronArchive/QueueConsumer.php:472]\r\n#5 Piwik\\CronArchive\\QueueConsumer->findSegmentForArchive(Array ([idinvalidation] => 210,[idarchive] => ,[idsite] => 1,[date1] => 2020-12-04,[date2] =>\r\n```\r\n\r\n@diosmosis can you check if it's possible that we invalidate entries for a segment for a wrong site somehow?\r\n\r\nThat's using 4.0.4", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16892/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16892/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16891", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16891/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16891/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16891/events", "html_url": "https://github.com/matomo-org/matomo/issues/16891", "id": 757904991, "node_id": "MDU6SXNzdWU3NTc5MDQ5OTE=", "number": 16891, "title": "Error 500 after new Update", "user": { "login": "manuelw99", "id": 57299417, "node_id": "MDQ6VXNlcjU3Mjk5NDE3", "avatar_url": "https://avatars.githubusercontent.com/u/57299417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manuelw99", "html_url": "https://github.com/manuelw99", "followers_url": "https://api.github.com/users/manuelw99/followers", "following_url": "https://api.github.com/users/manuelw99/following{/other_user}", "gists_url": "https://api.github.com/users/manuelw99/gists{/gist_id}", "starred_url": "https://api.github.com/users/manuelw99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manuelw99/subscriptions", "organizations_url": "https://api.github.com/users/manuelw99/orgs", "repos_url": "https://api.github.com/users/manuelw99/repos", "events_url": "https://api.github.com/users/manuelw99/events{/privacy}", "received_events_url": "https://api.github.com/users/manuelw99/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 1, "created_at": "2020-12-06T11:35:04Z", "updated_at": "2020-12-06T11:53:32Z", "closed_at": "2020-12-06T11:46:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nafter updating my matomo I got an error 500.\r\n\r\nIn my PHP-Logs, i get this message: (i clicked on the button update matomo on the page \"Database Upgrade Required\"\r\n\r\nAccess level to Piwik\\Plugins\\ExampleTracker\\Columns\\ExampleActionDimension::configureSegments() must be public (as in class Piwik\\Columns\\Dimension)\r\nmatomo/plugins/ExampleTracker/Columns/ExampleActionDimension.php Row 57", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16891/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16890", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16890/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16890/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16890/events", "html_url": "https://github.com/matomo-org/matomo/pull/16890", "id": 757830541, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMzMTI4MzIx", "number": 16890, "title": "New version available plugins will be updated confusing", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-06T02:46:15Z", "updated_at": "2020-12-10T01:52:28Z", "closed_at": "2020-12-10T01:52:24Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16890", "html_url": "https://github.com/matomo-org/matomo/pull/16890", "diff_url": "https://github.com/matomo-org/matomo/pull/16890.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16890.patch", "merged_at": "2020-12-10T01:52:24Z" }, "body": "We've had 3 issues where people thought that a plugin is not compatible with Matomo 4 because of this screen that is misleading as it shows the current plugin dependencies:\r\n![image](https://user-images.githubusercontent.com/273120/101269833-c6ef4d00-37d7-11eb-8df1-755686435938.png)\r\n\r\n\r\nFor simplicity lets simply only show the name of the plugin as mostly plugins are only compatible with the same major version number anyway and there isn't much value in showing the current required information. Of course we could check if there is actually a version on the marketplace available etc but it would require more work.\r\n\r\nrefs https://github.com/matomo-org/plugin-LoginLdap/issues/221\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16890/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16890/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16889", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16889/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16889/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16889/events", "html_url": "https://github.com/matomo-org/matomo/issues/16889", "id": 757759592, "node_id": "MDU6SXNzdWU3NTc3NTk1OTI=", "number": 16889, "title": "AbstractDeviceParser::getShortCode() must be of the type string, int returned", "user": { "login": "gusevmaksim", "id": 15378153, "node_id": "MDQ6VXNlcjE1Mzc4MTUz", "avatar_url": "https://avatars.githubusercontent.com/u/15378153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gusevmaksim", "html_url": "https://github.com/gusevmaksim", "followers_url": "https://api.github.com/users/gusevmaksim/followers", "following_url": "https://api.github.com/users/gusevmaksim/following{/other_user}", "gists_url": "https://api.github.com/users/gusevmaksim/gists{/gist_id}", "starred_url": "https://api.github.com/users/gusevmaksim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gusevmaksim/subscriptions", "organizations_url": "https://api.github.com/users/gusevmaksim/orgs", "repos_url": "https://api.github.com/users/gusevmaksim/repos", "events_url": "https://api.github.com/users/gusevmaksim/events{/privacy}", "received_events_url": "https://api.github.com/users/gusevmaksim/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 3, "created_at": "2020-12-05T19:01:01Z", "updated_at": "2020-12-07T15:21:21Z", "closed_at": "2020-12-07T15:21:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Matomo 4.0.4\r\n./console queuedtracking:process\r\nvendor/matomo/device-detector/Parser/Device/AbstractDeviceParser.php line 924:\r\nReturn value of DeviceDetector\\Parser\\Device\\AbstractDeviceParser::getShortCode() must be of the type string, int returned\r\n\r\nversion to\r\nreturn (string) \\array_search($brand, self::$deviceBrands) ?: '';\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16889/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16889/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16888", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16888/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16888/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16888/events", "html_url": "https://github.com/matomo-org/matomo/issues/16888", "id": 757687277, "node_id": "MDU6SXNzdWU3NTc2ODcyNzc=", "number": 16888, "title": "SQLSTATE[42S22]: Column not found", "user": { "login": "kantel", "id": 1219909, "node_id": "MDQ6VXNlcjEyMTk5MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1219909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kantel", "html_url": "https://github.com/kantel", "followers_url": "https://api.github.com/users/kantel/followers", "following_url": "https://api.github.com/users/kantel/following{/other_user}", "gists_url": "https://api.github.com/users/kantel/gists{/gist_id}", "starred_url": "https://api.github.com/users/kantel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kantel/subscriptions", "organizations_url": "https://api.github.com/users/kantel/orgs", "repos_url": "https://api.github.com/users/kantel/repos", "events_url": "https://api.github.com/users/kantel/events{/privacy}", "received_events_url": "https://api.github.com/users/kantel/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 4, "created_at": "2020-12-05T13:58:54Z", "updated_at": "2020-12-06T02:25:47Z", "closed_at": "2020-12-05T19:45:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just updated to Matomo 4.0.4 and now I got the error message: `SQLSTATE[42S22]: Column not found: 1054 Unknown column 'log_visit.config_director' in 'field list' - in plugin DevicePlugins.` on nearly all widgets. Only the visitors log works fine.\r\n\r\n![Bildschirmfoto 2020-12-05 um 14 53 43](https://user-images.githubusercontent.com/1219909/101245011-3434ac80-370a-11eb-8da7-a516be84b318.png)\r\n\r\nNeed urgent help.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16888/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16888/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16887", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16887/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16887/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16887/events", "html_url": "https://github.com/matomo-org/matomo/pull/16887", "id": 757518988, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMyODgxMzA5", "number": 16887, "title": "[automatic translation update] Updated 14 strings in 2 languages (de zh-tw)", "user": { "login": "github-actions[bot]", "id": 41898282, "node_id": "MDM6Qm90NDE4OTgyODI=", "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/github-actions%5Bbot%5D", "html_url": "https://github.com/apps/github-actions", "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers", "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos", "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events", "type": "Bot", "site_admin": false }, "labels": [ { "id": 272370975, "node_id": "MDU6TGFiZWwyNzIzNzA5NzU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20i18n", "name": "c: i18n", "color": "d4c5f9", "default": false, "description": "For issues around internationalisation and localisation." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2020-12-05T02:51:51Z", "updated_at": "2020-12-05T18:32:26Z", "closed_at": "2020-12-05T18:32:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16887", "html_url": "https://github.com/matomo-org/matomo/pull/16887", "diff_url": "https://github.com/matomo-org/matomo/pull/16887.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16887.patch", "merged_at": "2020-12-05T18:32:22Z" }, "body": "- Updated German (3 changes / 99% translated)\n- Updated Traditional Chinese (11 changes / 81% translated)\n\n\nHelp us translate Matomo in your language!\nSignup at https://www.transifex.com/matomo/matomo/\nIf you have any questions, get in touch with us at translations@matomo.org", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16887/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16887/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16886", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16886/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16886/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16886/events", "html_url": "https://github.com/matomo-org/matomo/pull/16886", "id": 757516732, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMyODc5NjM5", "number": 16886, "title": "If archive_invalidations is in inconsistent state, fix as getting next archive to process.", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 3, "created_at": "2020-12-05T02:37:49Z", "updated_at": "2020-12-08T05:07:21Z", "closed_at": "2020-12-08T05:07:17Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16886", "html_url": "https://github.com/matomo-org/matomo/pull/16886", "diff_url": "https://github.com/matomo-org/matomo/pull/16886.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16886.patch", "merged_at": "2020-12-08T05:07:17Z" }, "body": "### Description:\r\n\r\nIn case the archive_invalidations table ends up in an inconsistent state, make sure we process invalidations higher than what we find.\r\n\r\ncc @tsteur \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16886/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16886/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16885", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16885/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16885/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16885/events", "html_url": "https://github.com/matomo-org/matomo/issues/16885", "id": 757511063, "node_id": "MDU6SXNzdWU3NTc1MTEwNjM=", "number": 16885, "title": "named parameters in mysqli_stmt->bind_param", "user": { "login": "ms502040", "id": 15909390, "node_id": "MDQ6VXNlcjE1OTA5Mzkw", "avatar_url": "https://avatars.githubusercontent.com/u/15909390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ms502040", "html_url": "https://github.com/ms502040", "followers_url": "https://api.github.com/users/ms502040/followers", "following_url": "https://api.github.com/users/ms502040/following{/other_user}", "gists_url": "https://api.github.com/users/ms502040/gists{/gist_id}", "starred_url": "https://api.github.com/users/ms502040/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ms502040/subscriptions", "organizations_url": "https://api.github.com/users/ms502040/orgs", "repos_url": "https://api.github.com/users/ms502040/repos", "events_url": "https://api.github.com/users/ms502040/events{/privacy}", "received_events_url": "https://api.github.com/users/ms502040/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 6, "created_at": "2020-12-05T02:03:50Z", "updated_at": "2020-12-06T23:31:40Z", "closed_at": "2020-12-06T23:31:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "ERROR [2020-12-01 18:52:03] 22241 Uncaught exception: ArgumentCountError: mysqli_stmt::bind_param() does not accept unknown named parameters in libs/Zend/Db/Statement/Mysqli.php:203\r\nStack trace:\r\n#0 libs/Zend/Db/Statement/Mysqli.php(203): mysqli_stmt->bind_param('ssssssss', idarchive: 403, name: 'done', report: NULL, idsite: 19, date1: '2020-12-01 00:0...', date2: '2020-12-01 00:0...', period: 1, ts_invalidated: '2020-12-01 18:5...')\r\n\r\nPHP 8.0.0\r\nMatomo v. 4.0.0 - current\r\n\r\nfile: libs/Zend/Db/Statement/Mysqli.php\r\nline: 199\r\n$stmtParams[$k] = &$value;\r\nmust be:\r\n$stmtParams[] = &$params[$k];\r\n\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16885/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16885/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16884", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16884/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16884/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16884/events", "html_url": "https://github.com/matomo-org/matomo/issues/16884", "id": 757278161, "node_id": "MDU6SXNzdWU3NTcyNzgxNjE=", "number": 16884, "title": "Page generation time not being tracked after 4.x upgrade", "user": { "login": "HatBeardZero", "id": 9678456, "node_id": "MDQ6VXNlcjk2Nzg0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/9678456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HatBeardZero", "html_url": "https://github.com/HatBeardZero", "followers_url": "https://api.github.com/users/HatBeardZero/followers", "following_url": "https://api.github.com/users/HatBeardZero/following{/other_user}", "gists_url": "https://api.github.com/users/HatBeardZero/gists{/gist_id}", "starred_url": "https://api.github.com/users/HatBeardZero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HatBeardZero/subscriptions", "organizations_url": "https://api.github.com/users/HatBeardZero/orgs", "repos_url": "https://api.github.com/users/HatBeardZero/repos", "events_url": "https://api.github.com/users/HatBeardZero/events{/privacy}", "received_events_url": "https://api.github.com/users/HatBeardZero/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 7, "created_at": "2020-12-04T17:35:26Z", "updated_at": "2020-12-23T20:25:50Z", "closed_at": "2020-12-04T19:30:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I updated my instance from 3.14.0 to 4.0.4 and now page generation time is not being tracked.\r\n\r\nAny thoughts on what could cause this?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16884/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16884/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16883", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16883/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16883/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16883/events", "html_url": "https://github.com/matomo-org/matomo/pull/16883", "id": 756944700, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMyNDAyNzQw", "number": 16883, "title": "Load correct url for multisites when clicked in site selector", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/124", "html_url": "https://github.com/matomo-org/matomo/milestone/124", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/124/labels", "id": 4135616, "node_id": "MDk6TWlsZXN0b25lNDEzNTYxNg==", "number": 124, "title": "4.1.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 68, "state": "closed", "created_at": "2019-03-13T03:59:18Z", "updated_at": "2021-09-07T23:17:10Z", "due_on": "2020-11-15T08:00:00Z", "closed_at": "2020-12-22T09:11:44Z" }, "comments": 0, "created_at": "2020-12-04T09:22:07Z", "updated_at": "2020-12-10T02:02:32Z", "closed_at": "2020-12-10T02:02:28Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16883", "html_url": "https://github.com/matomo-org/matomo/pull/16883", "diff_url": "https://github.com/matomo-org/matomo/pull/16883.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16883.patch", "merged_at": "2020-12-10T02:02:28Z" }, "body": "### Description:\r\n\r\nAs MultiSites dashboard should not be loaded with any additional parameters we should not load it using `propagateNewPage`, as that manipulates the hash only. Simply changing the location should be fine in this case.\r\n\r\nfixes #16879\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16883/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16883/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16882", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16882/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16882/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16882/events", "html_url": "https://github.com/matomo-org/matomo/pull/16882", "id": 756701404, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMyMjA4ODY1", "number": 16882, "title": "Set version to 4.0.4", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2020-12-04T00:40:19Z", "updated_at": "2020-12-04T00:40:34Z", "closed_at": "2020-12-04T00:40:31Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16882", "html_url": "https://github.com/matomo-org/matomo/pull/16882", "diff_url": "https://github.com/matomo-org/matomo/pull/16882.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16882.patch", "merged_at": "2020-12-04T00:40:31Z" }, "body": "", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16882/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16882/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16881", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16881/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16881/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16881/events", "html_url": "https://github.com/matomo-org/matomo/pull/16881", "id": 756652394, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMyMTY4NzY1", "number": 16881, "title": "Set version to 4.0.4-b1", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 0, "created_at": "2020-12-03T22:47:23Z", "updated_at": "2020-12-03T22:48:16Z", "closed_at": "2020-12-03T22:47:29Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16881", "html_url": "https://github.com/matomo-org/matomo/pull/16881", "diff_url": "https://github.com/matomo-org/matomo/pull/16881.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16881.patch", "merged_at": "2020-12-03T22:47:29Z" }, "body": "", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16881/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16881/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16880", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16880/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16880/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16880/events", "html_url": "https://github.com/matomo-org/matomo/pull/16880", "id": 756596399, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMyMTIxNDY0", "number": 16880, "title": "in cache buster only look at activated plugins, not loaded plugins", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/149", "html_url": "https://github.com/matomo-org/matomo/milestone/149", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/149/labels", "id": 6792313, "node_id": "MDk6TWlsZXN0b25lNjc5MjMxMw==", "number": 149, "title": "4.4.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 128, "state": "closed", "created_at": "2021-05-26T01:22:48Z", "updated_at": "2021-07-28T03:22:10Z", "due_on": null, "closed_at": "2021-07-28T03:22:10Z" }, "comments": 0, "created_at": "2020-12-03T21:15:49Z", "updated_at": "2021-05-27T04:54:38Z", "closed_at": "2021-05-27T04:54:36Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16880", "html_url": "https://github.com/matomo-org/matomo/pull/16880", "diff_url": "https://github.com/matomo-org/matomo/pull/16880.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16880.patch", "merged_at": "2021-05-27T04:54:35Z" }, "body": "### Description:\r\n\r\nThis might fix https://github.com/matomo-org/matomo/issues/16672 . We could see if it then happens again. There's probably not much point in writing a test for it because it wouldn't really test the real scenario I suppose. Generally the thought is cache buster should only include active plugins, not loaded plugins. Maybe tag manager was loaded for this user but not activated.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16880/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16879", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16879/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16879/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16879/events", "html_url": "https://github.com/matomo-org/matomo/issues/16879", "id": 756528136, "node_id": "MDU6SXNzdWU3NTY1MjgxMzY=", "number": 16879, "title": "Hide Comparison feature on All Websites dashboard ", "user": { "login": "Starker3", "id": 20905821, "node_id": "MDQ6VXNlcjIwOTA1ODIx", "avatar_url": "https://avatars.githubusercontent.com/u/20905821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Starker3", "html_url": "https://github.com/Starker3", "followers_url": "https://api.github.com/users/Starker3/followers", "following_url": "https://api.github.com/users/Starker3/following{/other_user}", "gists_url": "https://api.github.com/users/Starker3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Starker3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Starker3/subscriptions", "organizations_url": "https://api.github.com/users/Starker3/orgs", "repos_url": "https://api.github.com/users/Starker3/repos", "events_url": "https://api.github.com/users/Starker3/events{/privacy}", "received_events_url": "https://api.github.com/users/Starker3/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 1, "created_at": "2020-12-03T19:51:43Z", "updated_at": "2020-12-21T22:23:07Z", "closed_at": "2020-12-10T02:02:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "At the moment it looks as though the Comparison feature does not work on the All Websites dashboard.\r\n\r\n1. When going to the All Websites dashboard through the top menu it does not show an option to do a comparison when viewing the All Websites dashboard from here.\r\n![image](https://user-images.githubusercontent.com/20905821/101080252-6ad8cd00-360d-11eb-8ed5-c332d0ae63ba.png)\r\n\r\n2. When going to the All Websites dashboard through the Site Selector the option to compare shows, but when selecting a period to compare to there is no comparison data shown in the report.\r\n![image](https://user-images.githubusercontent.com/20905821/101080300-7e843380-360d-11eb-917c-fc2dc1686263.png)\r\n![image](https://user-images.githubusercontent.com/20905821/101080337-8cd24f80-360d-11eb-8c6d-fec114660bb9.png)\r\n(Screenshots were taken from demo.matomo.cloud)\r\n\r\nWe can either remove this option from showing on the All Websites dashboard when navigating to it from the Site Selector, or we can implement the feature to work on the All Websites dashboard.\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16879/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16879/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16878", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16878/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16878/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16878/events", "html_url": "https://github.com/matomo-org/matomo/pull/16878", "id": 756320935, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMxODg0NDgy", "number": 16878, "title": "Adds missing report documentations", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/145", "html_url": "https://github.com/matomo-org/matomo/milestone/145", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/145/labels", "id": 6235292, "node_id": "MDk6TWlsZXN0b25lNjIzNTI5Mg==", "number": 145, "title": "4.2.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 114, "state": "closed", "created_at": "2020-12-21T21:53:32Z", "updated_at": "2022-01-10T23:32:22Z", "due_on": null, "closed_at": "2021-02-24T02:34:29Z" }, "comments": 6, "created_at": "2020-12-03T15:51:14Z", "updated_at": "2021-01-15T00:34:35Z", "closed_at": "2021-01-05T00:41:52Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16878", "html_url": "https://github.com/matomo-org/matomo/pull/16878", "diff_url": "https://github.com/matomo-org/matomo/pull/16878.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16878.patch", "merged_at": "2021-01-05T00:41:52Z" }, "body": "### Description:\r\n\r\nThis also fixes an issue where the report documentation was not visible after switching to a related report.\r\n\r\nfixes #16792\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16878/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16878/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16877", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16877/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16877/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16877/events", "html_url": "https://github.com/matomo-org/matomo/issues/16877", "id": 756231916, "node_id": "MDU6SXNzdWU3NTYyMzE5MTY=", "number": 16877, "title": "Call to undefined method MaxMind\\Db\\Reader::getWithPrefixLen()", "user": { "login": "bst2002git", "id": 10232785, "node_id": "MDQ6VXNlcjEwMjMyNzg1", "avatar_url": "https://avatars.githubusercontent.com/u/10232785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bst2002git", "html_url": "https://github.com/bst2002git", "followers_url": "https://api.github.com/users/bst2002git/followers", "following_url": "https://api.github.com/users/bst2002git/following{/other_user}", "gists_url": "https://api.github.com/users/bst2002git/gists{/gist_id}", "starred_url": "https://api.github.com/users/bst2002git/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bst2002git/subscriptions", "organizations_url": "https://api.github.com/users/bst2002git/orgs", "repos_url": "https://api.github.com/users/bst2002git/repos", "events_url": "https://api.github.com/users/bst2002git/events{/privacy}", "received_events_url": "https://api.github.com/users/bst2002git/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 5, "created_at": "2020-12-03T14:16:30Z", "updated_at": "2020-12-03T19:19:01Z", "closed_at": "2020-12-03T16:48:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'v updated to matomo 4.0.3 from 3.14.1.\r\nThe error is \r\nCall to undefined method MaxMind\\Db\\Reader::getWithPrefixLen() in vendor/geoip2/geoip2/src/Database/Reader.php line 232 \r\n\r\ni think some missing dependencies or something got wrong on update, but i do not know where to look for\r\nore something is wrong in the autoload.php...\r\n\r\ni don't know if this is related, but when i try in the web root of matomo\r\n\r\n composer -vv show geoip2/geoip2 --all\r\n\r\n\r\n [UnexpectedValueException]\r\n Unknown package has no name defined", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16877/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16877/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16876", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16876/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16876/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16876/events", "html_url": "https://github.com/matomo-org/matomo/issues/16876", "id": 756219546, "node_id": "MDU6SXNzdWU3NTYyMTk1NDY=", "number": 16876, "title": "Dont display the links to the matomo's website in widgetized error pages when disableLink=1", "user": { "login": "olinox14", "id": 15560057, "node_id": "MDQ6VXNlcjE1NTYwMDU3", "avatar_url": "https://avatars.githubusercontent.com/u/15560057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olinox14", "html_url": "https://github.com/olinox14", "followers_url": "https://api.github.com/users/olinox14/followers", "following_url": "https://api.github.com/users/olinox14/following{/other_user}", "gists_url": "https://api.github.com/users/olinox14/gists{/gist_id}", "starred_url": "https://api.github.com/users/olinox14/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olinox14/subscriptions", "organizations_url": "https://api.github.com/users/olinox14/orgs", "repos_url": "https://api.github.com/users/olinox14/repos", "events_url": "https://api.github.com/users/olinox14/events{/privacy}", "received_events_url": "https://api.github.com/users/olinox14/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 173323932, "node_id": "MDU6TGFiZWwxNzMzMjM5MzI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20New%20plugin", "name": "c: New plugin", "color": "006b75", "default": false, "description": "For features that probably will not be added to Matomo, but could be implemented as plugins." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/20", "html_url": "https://github.com/matomo-org/matomo/milestone/20", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/20/labels", "id": 713698, "node_id": "MDk6TWlsZXN0b25lNzEzNjk4", "number": 20, "title": "Backlog (Help wanted)", "description": "This is our backlog of issues. Help wanted!\r\n\r\n", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 903, "closed_issues": 595, "state": "open", "created_at": "2014-06-01T00:00:00Z", "updated_at": "2022-09-19T05:18:33Z", "due_on": "2024-04-30T07:00:00Z", "closed_at": null }, "comments": 2, "created_at": "2020-12-03T14:01:11Z", "updated_at": "2020-12-03T19:21:18Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "I use widgets in iframes to display matomos views on external websites, but I don't want my matomo instance's url to be shown to users. It's not a matter of security (everyone could still find this url in the source code of the page), but my users could be confused and try to follow these links.\r\n\r\nMy urls look like: `https://my-matomo-host.com/index.php?module=Widgetize&action=iframe&disableLink=1&...`\r\n\r\nEverything's fine, except if there is an error. If an error happens, the matomo error page shows the `Go to Matomo` and `Back to Matomo` links.\r\n\r\nWhat I'm looking is a way to either:\r\n\r\n* prevent these links from showing\r\n* customize or override the error page\r\n* or prevent the error page from showing\r\n\r\nIf there is already a way to do so, I'm sorry, I just did'nt a find a proper solution until now...", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16876/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16875", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16875/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16875/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16875/events", "html_url": "https://github.com/matomo-org/matomo/pull/16875", "id": 756161146, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMxNzUwNDI5", "number": 16875, "title": "Do not force api session usage for widgetized views", "user": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 2, "created_at": "2020-12-03T12:41:25Z", "updated_at": "2020-12-03T22:02:06Z", "closed_at": "2020-12-03T22:02:03Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16875", "html_url": "https://github.com/matomo-org/matomo/pull/16875", "diff_url": "https://github.com/matomo-org/matomo/pull/16875.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16875.patch", "merged_at": "2020-12-03T22:02:03Z" }, "body": "### Description:\r\n\r\nrefs #16867\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16875/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16875/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16874", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16874/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16874/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16874/events", "html_url": "https://github.com/matomo-org/matomo/issues/16874", "id": 756025150, "node_id": "MDU6SXNzdWU3NTYwMjUxNTA=", "number": 16874, "title": "Error during DB Update from 3.14.1 to 4.0.3 ", "user": { "login": "ordilibre", "id": 2906290, "node_id": "MDQ6VXNlcjI5MDYyOTA=", "avatar_url": "https://avatars.githubusercontent.com/u/2906290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ordilibre", "html_url": "https://github.com/ordilibre", "followers_url": "https://api.github.com/users/ordilibre/followers", "following_url": "https://api.github.com/users/ordilibre/following{/other_user}", "gists_url": "https://api.github.com/users/ordilibre/gists{/gist_id}", "starred_url": "https://api.github.com/users/ordilibre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ordilibre/subscriptions", "organizations_url": "https://api.github.com/users/ordilibre/orgs", "repos_url": "https://api.github.com/users/ordilibre/repos", "events_url": "https://api.github.com/users/ordilibre/events{/privacy}", "received_events_url": "https://api.github.com/users/ordilibre/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2020-12-03T09:31:56Z", "updated_at": "2020-12-03T09:53:14Z", "closed_at": "2020-12-03T09:40:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nBecause of web UI update is failling, I try to update by CLI\r\n> php /home/myaccount/websites/matomo/console core:update\r\n\r\nAfter a good Dry Run, the effective job is stopped with this error :\r\n\r\n> Executing ALTER TABLE 'stats_log_visit' ADD COLUMN 'visitor_seconds_since_first' INT(11) UNSIGNED NULL, ADD COLUMN 'visitor_seconds_since_order' INT(11) UNSIGNED NULL, ADD COLUMN 'visitor_seconds_since_last' INT(11) UNSIGNED NULL, ADD COLUMN 'profilable' TINYINT(1) NULL;... \r\n> [X] Critical Error during the update process:\r\n> \r\n> /home/aquinetic334/websites/matomo/core/Updates/4.0.0-b1.php:\r\n> Error trying to execute the migration 'ALTER TABLE 'stats_log_visit' ADD COLUMN 'visitor_seconds_since_first' INT(11) UNSIGNED NULL, ADD COLUMN 'visitor_seconds_since_order' INT(11) UNSIGNED NULL, ADD COLUMN 'visitor_seconds_since_last' INT(11) UNSIGNED NULL, ADD COLUMN 'profilable' TINYINT(1) NULL;'.\r\n> The error was: SQLSTATE[42000]: Syntax error or access violation: 1118 Row size too large\r\n. The maximum row size for the used table type, not counting BLOBs, is 8126. This includes storage overhead, check the manual. You have to change some columns to TEXT or BLOBs\r\n\r\nfull trace is [MatomoUpdateError.txt](https://github.com/matomo-org/matomo/files/5635028/MatomoUpdateError.txt)\r\n\r\nI have re-run the update 3 times with always the same result.\r\n\r\n- Is the \"1118 Row size too large\" message the important information ?\r\n- Is it normal for Matomo to try to increase the row size of this table to more than 8192 ?\r\n- How can I increase this limit in the database, outside of Matomo ?\r\n\r\nthank you for any help", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16874/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16874/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16873", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16873/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16873/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16873/events", "html_url": "https://github.com/matomo-org/matomo/issues/16873", "id": 755925968, "node_id": "MDU6SXNzdWU3NTU5MjU5Njg=", "number": 16873, "title": "Not showing any statistic after upgrading to 4.03 -- ./console core:archive is not working", "user": { "login": "valmedia", "id": 4095199, "node_id": "MDQ6VXNlcjQwOTUxOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/4095199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/valmedia", "html_url": "https://github.com/valmedia", "followers_url": "https://api.github.com/users/valmedia/followers", "following_url": "https://api.github.com/users/valmedia/following{/other_user}", "gists_url": "https://api.github.com/users/valmedia/gists{/gist_id}", "starred_url": "https://api.github.com/users/valmedia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/valmedia/subscriptions", "organizations_url": "https://api.github.com/users/valmedia/orgs", "repos_url": "https://api.github.com/users/valmedia/repos", "events_url": "https://api.github.com/users/valmedia/events{/privacy}", "received_events_url": "https://api.github.com/users/valmedia/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 22, "created_at": "2020-12-03T06:58:16Z", "updated_at": "2020-12-09T18:58:26Z", "closed_at": "2020-12-03T07:41:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I checked `matomo_log_visit`.`visit_first_action_time table and it is recording entries so I think ./console core:archive is not working\r\n\r\nINFO [2020-12-03 06:38:20] 18083 ---------------------------\r\nINFO [2020-12-03 06:38:20] 18083 INIT\r\nINFO [2020-12-03 06:38:20] 18083 Running Matomo 4.0.3 as Super User\r\nINFO [2020-12-03 06:38:20] 18083 ---------------------------\r\nINFO [2020-12-03 06:38:20] 18083 NOTES\r\nINFO [2020-12-03 06:38:20] 18083 - Async process archiving supported, using CliMulti.\r\nINFO [2020-12-03 06:38:20] 18083 - Reports for today will be processed at most every 600 seconds. You can change this value in Matomo UI > Settings > General Settings.\r\nINFO [2020-12-03 06:38:20] 18083 - Archiving was last executed without error 1 min 38s ago\r\nINFO [2020-12-03 06:38:20] 18083 ---------------------------\r\nINFO [2020-12-03 06:38:20] 18083 START\r\nINFO [2020-12-03 06:38:20] 18083 Starting Matomo reports archiving...\r\nINFO [2020-12-03 06:38:20] 18083 Start processing archives for site 1.\r\nINFO [2020-12-03 06:38:20] 18083 Finished archiving for site 1, 0 API requests, Time elapsed: 0.001s [1 / 1 done]\r\nINFO [2020-12-03 06:38:20] 18083 Done archiving!\r\nINFO [2020-12-03 06:38:20] 18083 ---------------------------\r\nINFO [2020-12-03 06:38:20] 18083 SUMMARY\r\nINFO [2020-12-03 06:38:20] 18083 Processed 0 archives.\r\nINFO [2020-12-03 06:38:20] 18083 Total API requests: 0\r\nINFO [2020-12-03 06:38:20] 18083 done: 0 req, 127 ms, no error\r\nINFO [2020-12-03 06:38:20] 18083 Time elapsed: 0.127s\r\nINFO [2020-12-03 06:38:20] 18083 ---------------------------\r\nINFO [2020-12-03 06:38:20] 18083 SCHEDULED TASKS\r\nINFO [2020-12-03 06:38:20] 18083 Starting Scheduled tasks...\r\nINFO [2020-12-03 06:38:20] 18083 done\r\nINFO [2020-12-03 06:38:20] 18083 ---------------------------", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16873/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16873/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16872", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16872/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16872/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16872/events", "html_url": "https://github.com/matomo-org/matomo/pull/16872", "id": 755700499, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMxMzY0MTI2", "number": 16872, "title": "Set default ArchiveFilter instance.", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 1, "created_at": "2020-12-02T23:59:33Z", "updated_at": "2020-12-03T00:32:06Z", "closed_at": "2020-12-03T00:32:00Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16872", "html_url": "https://github.com/matomo-org/matomo/pull/16872", "diff_url": "https://github.com/matomo-org/matomo/pull/16872.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16872.patch", "merged_at": "2020-12-03T00:32:00Z" }, "body": "### Description:\r\n\r\nFixes #16862 FYI @tsteur \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16872/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16872/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16871", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16871/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16871/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16871/events", "html_url": "https://github.com/matomo-org/matomo/pull/16871", "id": 755689493, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMxMzU1MDM2", "number": 16871, "title": "Use existing Request method w/ correct logic for limiting widgetize access.", "user": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 1, "created_at": "2020-12-02T23:33:10Z", "updated_at": "2020-12-03T00:02:03Z", "closed_at": "2020-12-03T00:01:59Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16871", "html_url": "https://github.com/matomo-org/matomo/pull/16871", "diff_url": "https://github.com/matomo-org/matomo/pull/16871.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16871.patch", "merged_at": "2020-12-03T00:01:58Z" }, "body": "### Description:\r\n\r\nFYI @tsteur \r\n\r\nFixes #16869 \r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16871/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16870", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16870/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16870/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16870/events", "html_url": "https://github.com/matomo-org/matomo/pull/16870", "id": 755609457, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMxMjg5NDMx", "number": 16870, "title": "When forcing GET request method in JS tracker then disable send beacon", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 1, "created_at": "2020-12-02T21:05:51Z", "updated_at": "2020-12-03T19:44:41Z", "closed_at": "2020-12-03T19:42:14Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16870", "html_url": "https://github.com/matomo-org/matomo/pull/16870", "diff_url": "https://github.com/matomo-org/matomo/pull/16870.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16870.patch", "merged_at": "2020-12-03T19:42:14Z" }, "body": "### Description:\r\n\r\nrefs https://github.com/matomo-org/matomo/issues/16865\r\n\r\nWill update the docs once merged.\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16870/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16870/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16869", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16869/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16869/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16869/events", "html_url": "https://github.com/matomo-org/matomo/issues/16869", "id": 755567823, "node_id": "MDU6SXNzdWU3NTU1Njc4MjM=", "number": 16869, "title": "Widget access always only works with view access not respecting new config setting", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 0, "created_at": "2020-12-02T19:56:17Z", "updated_at": "2020-12-03T00:01:58Z", "closed_at": "2020-12-03T00:01:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I think https://github.com/matomo-org/matomo/blob/4.0.3/plugins/Widgetize/Controller.php#L36-L39 is not respecting the `enable_framed_allow_write_admin_token_auth` setting @diosmosis ?\r\n\r\nIt should be maybe also using https://github.com/matomo-org/matomo/blob/4.0.3/core/API/Request.php#L461 when token_auth is not empty?\r\n\r\nTechnically, I think that code is not even needed in Widgetized controller as it's already done in Frontcontroller but it be generally maybe still good to simply call that existing method also (unless there's some reason not to call that method). Just to be sure it'll be executed in widgetized action no matter how it is executed.\r\n\r\nI didn't actually test it. Only saw the code and it looks like this will be causing issues.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16869/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16868", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16868/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16868/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16868/events", "html_url": "https://github.com/matomo-org/matomo/issues/16868", "id": 755524899, "node_id": "MDU6SXNzdWU3NTU1MjQ4OTk=", "number": 16868, "title": "Mysqli prepare error after upgrade to v4.0.3 (Unknown column 'log_conversion.config_browser_name')", "user": { "login": "bittner", "id": 665072, "node_id": "MDQ6VXNlcjY2NTA3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/665072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bittner", "html_url": "https://github.com/bittner", "followers_url": "https://api.github.com/users/bittner/followers", "following_url": "https://api.github.com/users/bittner/following{/other_user}", "gists_url": "https://api.github.com/users/bittner/gists{/gist_id}", "starred_url": "https://api.github.com/users/bittner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bittner/subscriptions", "organizations_url": "https://api.github.com/users/bittner/orgs", "repos_url": "https://api.github.com/users/bittner/repos", "events_url": "https://api.github.com/users/bittner/events{/privacy}", "received_events_url": "https://api.github.com/users/bittner/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 6, "created_at": "2020-12-02T18:47:56Z", "updated_at": "2021-02-26T11:17:11Z", "closed_at": "2020-12-02T19:32:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have just upgraded from v3.14.1 to v4.0.3 over Matomo's web interface (after being notified by email).\r\n\r\nAfter automatically downloading and installing the new version Matomo reported a few \"unrecognized files\" and prompted me to delete them on the target system: (indentation mine)\r\n\r\n```console\r\nrm -Rf \\\r\n ~/www/analytics/home/libs/bower_components \\\r\n ~/www/analytics/home/vendor/container-interop \\\r\n ~/www/analytics/home/vendor/piwik \\\r\n ~/www/analytics/home/vendor/twig/twig/ext\r\nrm ~/www/analytics/home/misc/others/ExamplePiwikTracker.php\r\n```\r\n\r\nThe subsequent update of the database schema (I assume) took a little bit longer than in all the upgrades before (I started with < v2.4.9 in 2014).\r\n\r\n## Broken dashboard widgets\r\n\r\nAfterwards I could log in just as normal, but I notice a red warning banner for a fraction of a second after the login, and now some widgets are broken:\r\n\r\n![image](https://user-images.githubusercontent.com/665072/100916114-9d7faa00-34d5-11eb-8f3b-2e9ceba91590.png)\r\n\r\n![image](https://user-images.githubusercontent.com/665072/100916184-b25c3d80-34d5-11eb-8927-ac52ef12cb0b.png)\r\n\r\n![image](https://user-images.githubusercontent.com/665072/100916234-c607a400-34d5-11eb-8cd4-de46938d0217.png)\r\n\r\n## Incompatible ExampleXxx plugins\r\n\r\nThe System Check complains about a \"ExampleLogTables\" plugin that could not be loaded due to incompatibility:\r\n\r\n> Das Plugin ExampleLogTables konnte nicht geladen werden, da folgende Abhängigkeiten fehlen: ExampleLogTables benötigt Piwik <4.0.0-b1 Bitte kontaktieren Sie Ihren Matomo Administrator.\r\n\r\nNote that I have 3 websites that I track with one Matomo instance. Interestingly, the widgets of the first website are **not** affected, but the other two are. And the dashboard for \"All websites\" reports serious problems:\r\n\r\n![image](https://user-images.githubusercontent.com/665072/100916865-a4f38300-34d6-11eb-89e5-23bf152d72bd.png)\r\n\r\n## Uninstall links missing\r\n\r\nCan I uninstall all the old \"ExampleXxx\" plugins and install compatible ones to fix this? The _Adminstration_ ➜ _System_ ➜ _Plugins_ page doesn't show an \"Uninstall\" link for most of them. :worried: ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16868/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16868/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16867", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16867/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16867/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16867/events", "html_url": "https://github.com/matomo-org/matomo/issues/16867", "id": 755449673, "node_id": "MDU6SXNzdWU3NTU0NDk2NzM=", "number": 16867, "title": "Displaying widgets in iframes logs bruteforce attacks", "user": { "login": "olinox14", "id": 15560057, "node_id": "MDQ6VXNlcjE1NTYwMDU3", "avatar_url": "https://avatars.githubusercontent.com/u/15560057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olinox14", "html_url": "https://github.com/olinox14", "followers_url": "https://api.github.com/users/olinox14/followers", "following_url": "https://api.github.com/users/olinox14/following{/other_user}", "gists_url": "https://api.github.com/users/olinox14/gists{/gist_id}", "starred_url": "https://api.github.com/users/olinox14/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olinox14/subscriptions", "organizations_url": "https://api.github.com/users/olinox14/orgs", "repos_url": "https://api.github.com/users/olinox14/repos", "events_url": "https://api.github.com/users/olinox14/events{/privacy}", "received_events_url": "https://api.github.com/users/olinox14/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "sgiehl", "id": 1579355, "node_id": "MDQ6VXNlcjE1NzkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1579355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgiehl", "html_url": "https://github.com/sgiehl", "followers_url": "https://api.github.com/users/sgiehl/followers", "following_url": "https://api.github.com/users/sgiehl/following{/other_user}", "gists_url": "https://api.github.com/users/sgiehl/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgiehl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgiehl/subscriptions", "organizations_url": "https://api.github.com/users/sgiehl/orgs", "repos_url": "https://api.github.com/users/sgiehl/repos", "events_url": "https://api.github.com/users/sgiehl/events{/privacy}", "received_events_url": "https://api.github.com/users/sgiehl/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 7, "created_at": "2020-12-02T17:00:57Z", "updated_at": "2020-12-07T22:04:38Z", "closed_at": "2020-12-07T22:04:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use iframes to render some of the widgets in a website located on another server but on the same local network. Matomo's host and this website's are also subdomains of the same domain.\r\n\r\nI added the iframes like suggested on the `index.php?module=Widgetize&action=index` page, with some little adjustments and using the token of a user who has the right to view the website:\r\n\r\n```\r\n<!-- Real time visits-->\r\n<div class=\"widgetIframe\" id=\"realTimeVisits\"><iframe width=\"450\" height=\"320\" src=\"https://stats.mydomain.com/index.php?module=Widgetize&action=iframe&disableLink=1&widget=1&moduleToWidgetize=Live&actionToWidgetize=widget&idSite={matomoSiteId}&period=month&date=today&token_auth={matomoToken}\" scrolling=\"yes\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\"></iframe></div>\r\n\r\n<!-- Last visits graph-->\r\n<div class=\"widgetIframe\" id=\"lastVisitsGraph\"><iframe width=\"450\" height=\"260\" src=\"https://stats.mydomain.com/index.php?module=Widgetize&action=iframe&disableLink=1&widget=1&moduleToWidgetize=VisitsSummary&actionToWidgetize=getEvolutionGraph&idSite={matomoSiteId}&period=day&date=today&token_auth={matomoToken}\" scrolling=\"yes\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\"></iframe></div>\r\n```\r\n\r\nThe widgets do appear as expected, however everytime the second iframe is rendered (`getEvolutionGraph`), a new entry is added to the `matomo_brute_force_log` table.\r\n\r\nI also had this very same problem with the widget `moduleToWidgetize=VisitsSummary&actionToWidgetize=get`, but only when the parameters `forceView=1&viewDataTable=VisitorLog` where added to the url; if those parameters are removed, the problem disappear. Of course, removing these parameters do not resolve the getEvolutionGraph case...\r\n\r\nBecause of this problem, the user ip will be blocked for no reason if he visit the stats page more than the X times allowed by the brute force settings, making these widgets impossible to use in production.\r\n\r\n \r\n\r\n ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16867/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16866", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16866/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16866/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16866/events", "html_url": "https://github.com/matomo-org/matomo/issues/16866", "id": 755449433, "node_id": "MDU6SXNzdWU3NTU0NDk0MzM=", "number": 16866, "title": "Unable to log in to matomo after 4.0.3 upgrade - Nginx/Ubuntu", "user": { "login": "psec", "id": 2622016, "node_id": "MDQ6VXNlcjI2MjIwMTY=", "avatar_url": "https://avatars.githubusercontent.com/u/2622016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/psec", "html_url": "https://github.com/psec", "followers_url": "https://api.github.com/users/psec/followers", "following_url": "https://api.github.com/users/psec/following{/other_user}", "gists_url": "https://api.github.com/users/psec/gists{/gist_id}", "starred_url": "https://api.github.com/users/psec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/psec/subscriptions", "organizations_url": "https://api.github.com/users/psec/orgs", "repos_url": "https://api.github.com/users/psec/repos", "events_url": "https://api.github.com/users/psec/events{/privacy}", "received_events_url": "https://api.github.com/users/psec/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." }, { "id": 112370553, "node_id": "MDU6TGFiZWwxMTIzNzA1NTM=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Major", "name": "Major", "color": "eb6420", "default": false, "description": "Indicates the severity or impact or benefit of an issue is much higher than normal but not critical." }, { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 25, "created_at": "2020-12-02T17:00:39Z", "updated_at": "2020-12-21T22:09:09Z", "closed_at": "2020-12-10T00:17:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running Nginx on Ubuntu, using the nginx config supplied here: https://github.com/matomo-org/matomo-nginx and no changes to the default matomo config. \r\n\r\nAfter upgrading to 4.0.3, I am unable to log in to matomo receiving the error:\r\n\r\nError: Form security failed. Please reload the form and check that your cookies are enabled. If you use a proxy server, you must configure Matomo to accept the proxy header that forwards the Host header. Also, check that your Referrer header is sent correctly.\r\n\r\nIt seems a number of users are experiencing this bug after visiting the bugs section of the user forums. ", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16866/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16865", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16865/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16865/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16865/events", "html_url": "https://github.com/matomo-org/matomo/issues/16865", "id": 755285193, "node_id": "MDU6SXNzdWU3NTUyODUxOTM=", "number": 16865, "title": "Add new system check: Check all expected table & columns a plugin expects to exist actually exist", "user": { "login": "narfk", "id": 38341745, "node_id": "MDQ6VXNlcjM4MzQxNzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/38341745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/narfk", "html_url": "https://github.com/narfk", "followers_url": "https://api.github.com/users/narfk/followers", "following_url": "https://api.github.com/users/narfk/following{/other_user}", "gists_url": "https://api.github.com/users/narfk/gists{/gist_id}", "starred_url": "https://api.github.com/users/narfk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/narfk/subscriptions", "organizations_url": "https://api.github.com/users/narfk/orgs", "repos_url": "https://api.github.com/users/narfk/repos", "events_url": "https://api.github.com/users/narfk/events{/privacy}", "received_events_url": "https://api.github.com/users/narfk/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 127937670, "node_id": "MDU6TGFiZWwxMjc5Mzc2NzA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/c:%20Platform", "name": "c: Platform", "color": "bfe5bf", "default": false, "description": "For Matomo platform changes that aren't impacting any of our APIs but improve the core itself." } ], "state": "open", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/75", "html_url": "https://github.com/matomo-org/matomo/milestone/75", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/75/labels", "id": 887285, "node_id": "MDk6TWlsZXN0b25lODg3Mjg1", "number": 75, "title": "Priority Backlog (Help wanted)", "description": "Most important issues we should tackle next. If you can help: please join the discussion and/or issue a pull request ([help](https://developer.matomo.org/guides/contributing-to-piwik-core)). ", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 321, "closed_issues": 194, "state": "open", "created_at": "2014-12-02T02:19:24Z", "updated_at": "2022-09-15T07:41:53Z", "due_on": "2022-06-30T07:00:00Z", "closed_at": null }, "comments": 21, "created_at": "2020-12-02T13:42:44Z", "updated_at": "2021-05-20T04:57:44Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "with the default Tracking Code (Backend) i got this error with the new 4.0.0 Version.\r\nIn 3.14.1 this works fine.\r\n\r\n```\r\n<script type=\"text/javascript\">\r\n var _paq = window._paq = window._paq || [];\r\n _paq.push(['trackPageView']);\r\n _paq.push(['enableLinkTracking']);\r\n (function() {\r\n var u=\"https://statistics.domain.dd/piwik/\";\r\n _paq.push(['setTrackerUrl', u+'matomo.php']);\r\n _paq.push(['setSiteId', '2']);\r\n var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\r\n g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);\r\n })();\r\n</script>\r\n```\r\n\r\nHeader\r\nStatus400\r\nBad Request\r\nVersionHTTP/1.1\r\nTransferred1.13 KB (410 B size)\r\nReferrer Policystrict-origin-when-cross-origin\r\n\r\nWhile is was inspecting matomo.js i found setRequestMethod.\r\nSo i tried this.\r\n\r\n```\r\n<script type=\"text/javascript\">\r\n var _paq = window._paq = window._paq || [];\r\n _paq.push(['setRequestMethod', 'GET']);\r\n _paq.push(['trackPageView']);\r\n _paq.push(['enableLinkTracking']);\r\n (function() {\r\n var u=\"https://statistics.domain.dd/piwik/\";\r\n _paq.push(['setTrackerUrl', u+'matomo.php']);\r\n _paq.push(['setSiteId', '2']);\r\n var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\r\n g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);\r\n })();\r\n</script>\r\n```\r\n\r\nwithout any results.\r\nIts still a POST and i got a bad request.\r\n\r\nThe URL in the networkinspector looks weird for a POST\r\n```https://statistics.domain.dd/piwik/matomo.phhp?action_name=title&idsite=2&rec=1&r=944278&h=14&m=29&s=34&url=...```\r\n\r\n![example](https://user-images.githubusercontent.com/38341745/100882406-74e4b980-34af-11eb-8f70-faee6b131831.png)\r\n\r\nAny advices?\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16865/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16865/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16864", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16864/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16864/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16864/events", "html_url": "https://github.com/matomo-org/matomo/issues/16864", "id": 755278020, "node_id": "MDU6SXNzdWU3NTUyNzgwMjA=", "number": 16864, "title": "The directory \"/var/www/matomo/tmp/cache/tracker/\" is not writable after Cron", "user": { "login": "MArhEV", "id": 56131864, "node_id": "MDQ6VXNlcjU2MTMxODY0", "avatar_url": "https://avatars.githubusercontent.com/u/56131864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MArhEV", "html_url": "https://github.com/MArhEV", "followers_url": "https://api.github.com/users/MArhEV/followers", "following_url": "https://api.github.com/users/MArhEV/following{/other_user}", "gists_url": "https://api.github.com/users/MArhEV/gists{/gist_id}", "starred_url": "https://api.github.com/users/MArhEV/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MArhEV/subscriptions", "organizations_url": "https://api.github.com/users/MArhEV/orgs", "repos_url": "https://api.github.com/users/MArhEV/repos", "events_url": "https://api.github.com/users/MArhEV/events{/privacy}", "received_events_url": "https://api.github.com/users/MArhEV/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370566, "node_id": "MDU6TGFiZWwxMTIzNzA1NjY=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/worksforme", "name": "worksforme", "color": "ededed", "default": false, "description": "The issue cannot be reproduced and things work as intended." }, { "id": 1999726053, "node_id": "MDU6TGFiZWwxOTk5NzI2MDUz", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Can't%20reproduce%20(yet)", "name": "Can't reproduce (yet)", "color": "b5e074", "default": false, "description": "For issues that are reported by many people, but can not reproduced by reliably and need more data." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 8, "created_at": "2020-12-02T13:33:06Z", "updated_at": "2020-12-07T21:13:04Z", "closed_at": "2020-12-07T21:13:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! After enabling crone archiving and installing maxmind extension I have restarted my server and after that I can see only Error page in my matomo. \r\n\r\nThere is a possibility that matomo-archive has not been properly configured (no user such as nginx, i have left that entry blank) and that caused my issue.\r\n\r\nAfter stopping, reloading, restarting crond, restarting and reloading nginx the error page is still present. \r\nIs there any possibility how to get rid of it without completely reinstalling matomo?\r\n\r\nPS all permissions are properly set, before cron all worked fine", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16864/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16864/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16863", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16863/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16863/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16863/events", "html_url": "https://github.com/matomo-org/matomo/issues/16863", "id": 755214990, "node_id": "MDU6SXNzdWU3NTUyMTQ5OTA=", "number": 16863, "title": "DB Update from 3.14.1 to 4.0.3 does not work", "user": { "login": "Bjoernsen", "id": 4971650, "node_id": "MDQ6VXNlcjQ5NzE2NTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4971650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bjoernsen", "html_url": "https://github.com/Bjoernsen", "followers_url": "https://api.github.com/users/Bjoernsen/followers", "following_url": "https://api.github.com/users/Bjoernsen/following{/other_user}", "gists_url": "https://api.github.com/users/Bjoernsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bjoernsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bjoernsen/subscriptions", "organizations_url": "https://api.github.com/users/Bjoernsen/orgs", "repos_url": "https://api.github.com/users/Bjoernsen/repos", "events_url": "https://api.github.com/users/Bjoernsen/events{/privacy}", "received_events_url": "https://api.github.com/users/Bjoernsen/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 136993487, "node_id": "MDU6TGFiZWwxMzY5OTM0ODc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/answered", "name": "answered", "color": "ffffff", "default": false, "description": "For when a question was asked and we referred to forum or answered it." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 4, "created_at": "2020-12-02T12:04:51Z", "updated_at": "2020-12-13T01:01:52Z", "closed_at": "2020-12-02T13:53:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to update my Matomo instance running in a docker container. \r\n\r\nAfter pulling the newest image and restarting the container, I tried to run `php /var/www/html/console core:update` within the container.\r\n\r\nUnfortunately, I get the error message: `The error was: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'visitor_days_since_first' in 'field list'`.\r\nWhere was my mistake and what can I do to fix it?\r\n\r\n```log\r\n...\r\nExecuting DELETE FROM `piwik_option` WHERE option_name IN (\"geoip.updater_period\", \"geoip.loc_db_url\", \"geoip.isp_db_url\", \"geoip.org_db_url\");... Done. [403 / 418]\r\n Executing UPDATE piwik_log_visit SET visitor_seconds_since_first = visitor_days_since_first commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb 86400, \r\n visitor_seconds_since_order = visitor_days_since_order commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb 86400,\r\n visitor_seconds_since_last = visitor_days_since_last commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb 86400;... \r\n [X] Critical Error during the update process:\r\n\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb /var/www/html/core/Updates/4.0.0-b1.php:\r\n Error trying to execute the migration 'UPDATE piwik_log_visit SET visitor_seconds_since_first = visitor_days_since_first commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb 86400, \r\n visitor_seconds_since_order = visitor_days_since_order commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb 86400,\r\n visitor_seconds_since_last = visitor_days_since_last commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb 86400;'.\r\n The error was: SQLSTATE[42S22]: Column not found: 1054 Unknown column 'visitor_days_since_first' in 'field list'\r\n\r\n The above is the core error message. It should help explain the cause, but if you require further help please:\r\n\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Check the [ Matomo FAQ ] which explains most common errors during update. \r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Ask your system administrator - they may be able to help you with the error which is most likely related to your server or MySQL setup.\r\n\r\n If you are an advanced user and encounter an error in the database upgrade:\r\n\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb identify and correct the source of the problem (e.g., memory_limit or max_execution_time)\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb execute the remaining queries in the update that failed\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb manually update the `option` table in your Matomo database, setting the value of version_core to the version of the failed update\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb re-run the updater (through the browser or command-line) to continue with the remaining updates\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb report the problem (and solution) so that Matomo can be improved\r\nERROR [2020-12-02 11:49:43] 32 Uncaught exception: /var/www/html/plugins/CoreUpdater/Commands/Update.php(255): Matomo could not be updated! See above for more information.\r\nMatomo could not be updated! See above for more information.\r\n\r\n\r\n \r\n [RuntimeException] \r\n Matomo could not be updated! See above for more information. \r\n \r\n\r\n\r\ncore:update [--yes]\r\n```", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16863/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16863/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16862", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16862/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16862/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16862/events", "html_url": "https://github.com/matomo-org/matomo/issues/16862", "id": 755157430, "node_id": "MDU6SXNzdWU3NTUxNTc0MzA=", "number": 16862, "title": "Error on Auro Archive", "user": { "login": "JE4GLE", "id": 56178675, "node_id": "MDQ6VXNlcjU2MTc4Njc1", "avatar_url": "https://avatars.githubusercontent.com/u/56178675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JE4GLE", "html_url": "https://github.com/JE4GLE", "followers_url": "https://api.github.com/users/JE4GLE/followers", "following_url": "https://api.github.com/users/JE4GLE/following{/other_user}", "gists_url": "https://api.github.com/users/JE4GLE/gists{/gist_id}", "starred_url": "https://api.github.com/users/JE4GLE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JE4GLE/subscriptions", "organizations_url": "https://api.github.com/users/JE4GLE/orgs", "repos_url": "https://api.github.com/users/JE4GLE/repos", "events_url": "https://api.github.com/users/JE4GLE/events{/privacy}", "received_events_url": "https://api.github.com/users/JE4GLE/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 223149652, "node_id": "MDU6TGFiZWwyMjMxNDk2NTI=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Regression", "name": "Regression", "color": "fbca04", "default": false, "description": "Indicates a feature used to work in a certain way but it no longer does even though it should." } ], "state": "closed", "locked": false, "assignee": { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "diosmosis", "id": 125140, "node_id": "MDQ6VXNlcjEyNTE0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/125140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diosmosis", "html_url": "https://github.com/diosmosis", "followers_url": "https://api.github.com/users/diosmosis/followers", "following_url": "https://api.github.com/users/diosmosis/following{/other_user}", "gists_url": "https://api.github.com/users/diosmosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/diosmosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diosmosis/subscriptions", "organizations_url": "https://api.github.com/users/diosmosis/orgs", "repos_url": "https://api.github.com/users/diosmosis/repos", "events_url": "https://api.github.com/users/diosmosis/events{/privacy}", "received_events_url": "https://api.github.com/users/diosmosis/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 1, "created_at": "2020-12-02T10:43:30Z", "updated_at": "2020-12-03T00:32:00Z", "closed_at": "2020-12-03T00:32:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nafter updating to version 4.0.3, I receive the following error when calling my cron archive URL:\r\n\r\n> ERROR Piwik\\FrontController[2020-12-02 10:38:41 UTC] [92c61] Uncaught exception: Error: Call to a member function isSkipSegmentsForToday() on null in /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/CronArchive.php:518\r\n Stack trace:\r\n #0 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/CronArchive.php(400): Piwik\\CronArchive->generateUrlToArchiveFromArchiveInfo(Array)\r\n #1 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/CronArchive.php(373): Piwik\\CronArchive->launchArchivingFor(Array, Object(Piwik\\CronArchive\\QueueConsumer))\r\n #2 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/CronArchive.php(260): Piwik\\CronArchive->run()\r\n #3 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/Access.php(664): Piwik\\CronArchive->Piwik\\{closure}()\r\n #4 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/CronArchive.php(266): Piwik\\Access::doAsSuperUser(Object(Closure))\r\n #5 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/plugins/CoreAdminHome/API.php(194): Piwik\\CronArchive->main()\r\n #6 [internal function]: Piwik\\Plugins\\CoreAdminHome\\API->runCronArchiving()\r\n #7 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/API/Proxy.php(244): call_user_func_array(Array, Array)\r\n #8 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/Context.php(28): Piwik\\API\\Proxy->Piwik\\API\\{closure}()\r\n #9 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/API/Proxy.php(335): Piwik\\Context::executeWithQueryParameters(Array, Object(Closure))\r\n #10 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/API/Request.php(266): Piwik\\API\\Proxy->call('\\\\Piwik\\\\Plugins\\\\...', 'runCronArchivin...', Array)\r\n #11 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/plugins/API/Controller.php(46): Piwik\\API\\Request->process()\r\n #12 [internal function]: Piwik\\Plugins\\API\\Controller->index()\r\n #13 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/FrontController.php(605): call_user_func_array(Array, Array)\r\n #14 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/FrontController.php(166): Piwik\\FrontController->doDispatch('API', false, Array)\r\n #15 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/core/dispatch.php(32): Piwik\\FrontController->dispatch()\r\n #16 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/index.php(25): require_once('/var/www/vhosts...')\r\n #17 /var/www/vhosts/h149549.web219.dogado.net/httpdocs/matomo/misc/cron/archive.php(67): require_once('/var/www/vhosts...')\r\n #18 {main}\r\nError: Call to a member function isSkipSegmentsForToday() on null\r\n\r\nDoes anyone have a solution, or do I have to wait for a fix?\r\nThanks!", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16862/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16862/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16861", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16861/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16861/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16861/events", "html_url": "https://github.com/matomo-org/matomo/issues/16861", "id": 754933011, "node_id": "MDU6SXNzdWU3NTQ5MzMwMTE=", "number": 16861, "title": "Upgrade 3.14.1 to 4.0.3 fails: ALTER TABLE `matomo_log_visit`", "user": { "login": "cyan221", "id": 33823543, "node_id": "MDQ6VXNlcjMzODIzNTQz", "avatar_url": "https://avatars.githubusercontent.com/u/33823543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cyan221", "html_url": "https://github.com/cyan221", "followers_url": "https://api.github.com/users/cyan221/followers", "following_url": "https://api.github.com/users/cyan221/following{/other_user}", "gists_url": "https://api.github.com/users/cyan221/gists{/gist_id}", "starred_url": "https://api.github.com/users/cyan221/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cyan221/subscriptions", "organizations_url": "https://api.github.com/users/cyan221/orgs", "repos_url": "https://api.github.com/users/cyan221/repos", "events_url": "https://api.github.com/users/cyan221/events{/privacy}", "received_events_url": "https://api.github.com/users/cyan221/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370565, "node_id": "MDU6TGFiZWwxMTIzNzA1NjU=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "For issues that already existed in our issue tracker and were reported previously." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": null, "comments": 2, "created_at": "2020-12-02T04:39:15Z", "updated_at": "2020-12-02T04:55:19Z", "closed_at": "2020-12-02T04:55:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI tried to upgrade Matomo from 3.14.1 to 4.0.3 and it instantly failed.\r\n\r\nLast lines of log:\r\n```\r\nExecuting ALTER TABLE `matomo_archive_blob_2020_11` CHANGE `name` `name` VARCHAR(190);... Done. [80 / 115]\r\n Executing ALTER TABLE `matomo_archive_blob_2020_12` CHANGE `name` `name` VARCHAR(190);... Done. [81 / 115]\r\n Executing ALTER TABLE `matomo_log_link_visit_action` ;... Done. [82 / 115]\r\n Executing INSERT IGNORE INTO `matomo_option` (option_name, option_value) VALUES ('version_log_link_visit_action.search_cat', 'VARCHAR(200) NULL') ;... Done. [83 / 115]\r\n Executing INSERT IGNORE INTO `matomo_option` (option_name, option_value) VALUES ('version_log_link_visit_action.search_count', 'INTEGER(10) UNSIG NED NULL');... Done. [84 / 115]\r\n Executing INSERT IGNORE INTO `matomo_option` (option_name, option_value) VALUES ('version_log_link_visit_action.time_dom_completion', 'MEDIUMINT( 10) UNSIGNED NULL');... Done. [85 / 115]\r\n Executing INSERT IGNORE INTO `matomo_option` (option_name, option_value) VALUES ('version_log_link_visit_action.time_dom_processing', 'MEDIUMINT( 10) UNSIGNED NULL');... Done. [86 / 115]\r\n Executing INSERT IGNORE INTO `matomo_option` (option_name, option_value) VALUES ('version_log_link_visit_action.time_network', 'MEDIUMINT(10) UNS IGNED NULL');... Done. [87 / 115]\r\n Executing INSERT IGNORE INTO `matomo_option` (option_name, option_value) VALUES ('version_log_link_visit_action.time_on_load', 'MEDIUMINT(10) UNS IGNED NULL');... Done. [88 / 115]\r\n Executing INSERT IGNORE INTO `matomo_option` (option_name, option_value) VALUES ('version_log_link_visit_action.time_server', 'MEDIUMINT(10) UNSI GNED NULL');... Done. [89 / 115]\r\n Executing INSERT IGNORE INTO `matomo_option` (option_name, option_value) VALUES ('version_log_link_visit_action.time_transfer', 'MEDIUMINT(10) UN SIGNED NULL');... Done. [90 / 115]\r\n Executing ALTER TABLE `matomo_log_visit` ADD COLUMN `visitor_seconds_since_first` INT(11) UNSIGNED NULL, ADD COLUMN `visitor_seconds_since_order` INT(11) UNSIGNED NULL, ADD COLUMN `visitor_seconds_since_last` INT(11) UNSIGNED NULL, ADD COLUMN `profilable` TINYINT(1) NULL;...\r\n [X] Critical Error during the update process:\r\n\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb /var/www/matomo/core/Updates/4.0.0-b1.php:\r\n Error trying to execute the migration 'ALTER TABLE `matomo_log_visit` ADD COLUMN `visitor_seconds_since_first` INT(11) UNSIGNED NULL, ADD COLUM N `visitor_seconds_since_order` INT(11) UNSIGNED NULL, ADD COLUMN `visitor_seconds_since_last` INT(11) UNSIGNED NULL, ADD COLUMN `profilable` TINYI NT(1) NULL;'.\r\n The error was: SQLSTATE[42000]: Syntax error or access violation: 1118 Row size too large. The maximum row size for the used table type, not co unting BLOBs, is 8126. This includes storage overhead, check the manual. You have to change some columns to TEXT or BLOBs\r\n\r\n The above is the core error message. It should help explain the cause, but if you require further help please:\r\n\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Check the [ Matomo FAQ ] which explains most common errors during update.\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb Ask your system administrator - they may be able to help you with the error which is most likely related to your server or MySQL setup.\r\n\r\n If you are an advanced user and encounter an error in the database upgrade:\r\n\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb identify and correct the source of the problem (e.g., memory_limit or max_execution_time)\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb execute the remaining queries in the update that failed\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb manually update the `option` table in your Matomo database, setting the value of version_core to the version of the failed update\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb re-run the updater (through the browser or command-line) to continue with the remaining updates\r\n commands data-understanding.ipynb drafts.json drafts.py ex.sh get_issues.py json2csv.py matomo17202.json matomo-org trial.ipynb report the problem (and solution) so that Matomo can be improved\r\nERROR [2020-12-02 04:22:38] 22642 Uncaught exception: /var/www/matomo/plugins/CoreUpdater/Commands/Update.php(255): Matomo could not be updated! S ee above for more information.\r\nMatomo could not be updated! See above for more information.\r\n\r\n\r\n\r\n [RuntimeException]\r\n Matomo could not be updated! See above for more information.\r\n\r\n\r\n\r\ncore:update [--yes]\r\n```\r\n\r\nCan you help me? What should I do?", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16861/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16861/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16860", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16860/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16860/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16860/events", "html_url": "https://github.com/matomo-org/matomo/pull/16860", "id": 754887046, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMwNzA0MDU0", "number": 16860, "title": "Document setGenerationTime removal and add back the method", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 1, "created_at": "2020-12-02T02:48:56Z", "updated_at": "2020-12-02T03:55:56Z", "closed_at": "2020-12-02T03:55:53Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16860", "html_url": "https://github.com/matomo-org/matomo/pull/16860", "diff_url": "https://github.com/matomo-org/matomo/pull/16860.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16860.patch", "merged_at": "2020-12-02T03:55:53Z" }, "body": "### Description:\r\n\r\nfix https://github.com/matomo-org/matomo/issues/16853\r\n\r\ncreated https://github.com/matomo-org/matomo/issues/16859 as a follow up\r\n\r\nfor now it's just important to have this method again in the JS tracker as it otherwise can cause errors\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16860/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16860/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16859", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16859/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16859/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16859/events", "html_url": "https://github.com/matomo-org/matomo/issues/16859", "id": 754886628, "node_id": "MDU6SXNzdWU3NTQ4ODY2Mjg=", "number": 16859, "title": "Add JS tracker methods setPagePerformanceTiming and getCustomPagePerformanceTiming to set specific values for performance metrics", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370560, "node_id": "MDU6TGFiZWwxMTIzNzA1NjA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Enhancement", "name": "Enhancement", "color": "bfd4f2", "default": false, "description": "For new feature suggestions that for example enhance Matomo's cabapilities.." }, { "id": 112370577, "node_id": "MDU6TGFiZWwxMTIzNzA1Nzc=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Help%20wanted", "name": "Help wanted", "color": "fbca04", "default": false, "description": "Beginner friendly issues" } ], "state": "closed", "locked": false, "assignee": { "login": "geekdenz", "id": 479499, "node_id": "MDQ6VXNlcjQ3OTQ5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/479499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekdenz", "html_url": "https://github.com/geekdenz", "followers_url": "https://api.github.com/users/geekdenz/followers", "following_url": "https://api.github.com/users/geekdenz/following{/other_user}", "gists_url": "https://api.github.com/users/geekdenz/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekdenz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekdenz/subscriptions", "organizations_url": "https://api.github.com/users/geekdenz/orgs", "repos_url": "https://api.github.com/users/geekdenz/repos", "events_url": "https://api.github.com/users/geekdenz/events{/privacy}", "received_events_url": "https://api.github.com/users/geekdenz/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "geekdenz", "id": 479499, "node_id": "MDQ6VXNlcjQ3OTQ5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/479499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekdenz", "html_url": "https://github.com/geekdenz", "followers_url": "https://api.github.com/users/geekdenz/followers", "following_url": "https://api.github.com/users/geekdenz/following{/other_user}", "gists_url": "https://api.github.com/users/geekdenz/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekdenz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekdenz/subscriptions", "organizations_url": "https://api.github.com/users/geekdenz/orgs", "repos_url": "https://api.github.com/users/geekdenz/repos", "events_url": "https://api.github.com/users/geekdenz/events{/privacy}", "received_events_url": "https://api.github.com/users/geekdenz/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/151", "html_url": "https://github.com/matomo-org/matomo/milestone/151", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/151/labels", "id": 7009938, "node_id": "MI_kwDOABefqs4AavaS", "number": 151, "title": "4.5.0", "description": "", "creator": { "login": "mattab", "id": 466765, "node_id": "MDQ6VXNlcjQ2Njc2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/466765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattab", "html_url": "https://github.com/mattab", "followers_url": "https://api.github.com/users/mattab/followers", "following_url": "https://api.github.com/users/mattab/following{/other_user}", "gists_url": "https://api.github.com/users/mattab/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattab/subscriptions", "organizations_url": "https://api.github.com/users/mattab/orgs", "repos_url": "https://api.github.com/users/mattab/repos", "events_url": "https://api.github.com/users/mattab/events{/privacy}", "received_events_url": "https://api.github.com/users/mattab/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 179, "state": "closed", "created_at": "2021-07-28T03:20:51Z", "updated_at": "2022-03-15T09:20:47Z", "due_on": null, "closed_at": "2021-10-07T00:44:26Z" }, "comments": 0, "created_at": "2020-12-02T02:47:45Z", "updated_at": "2021-10-06T02:22:49Z", "closed_at": "2021-09-15T23:17:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Similar to how we used to have `setGenerationTimeMs`.\r\n\r\nWe then need to document this in https://developer.matomo.org/guides/spa-tracking similar to how the other method used to be documented. Also of course need to document the JS Tracker reference etc.\r\n\r\nWe'll also need to adjust in JS tracker the logged console message in the `setGenerationTimeMs` method and mention to use this new method instead or maybe we can even somehow map setGenerationTimeMs to the new method but likely this wouldn't make any sense. Same in developer changelog need to adjust the text where we mention the `setGenerationTimeMs` removal.\r\n\r\n@sgiehl feel free to close if we already have an issue for it. Couldn't find it.\r\n\r\nIt's to be seen how this makes sense because some performance metrics might not really make sense in SPA etc. Eg whether we have only one method and by default all metrics will be reset except the ones specified or whether we have individual metrics (but then the problem be that other performance values aren't reset and reports would become wrong).\r\n\r\nWe need a new JS tracker API method to set these [Performance Tracking HTTP API parameters](https://developer.matomo.org/api-reference/tracking-api#optional-page-performancehttpsmatomoorgfaqhow-tohow-do-i-see-page-performance-reports-info ). A name could be for example `setPagePerformanceTiming(networkTimeInMs, serverTimeInMs, ...)` and then the related tracking API parameters should be appended in the next tracking request. Basically users should be able to call eg `_paq.push(['setPagePerformanceTiming', 35, 103, ...])`. As far as I know all the parameters should be optional and if no value is set, then we won't send the related tracking parameter. \r\n\r\nWhen someone sets the custom page performing timings, then we don't detect the timing ourselves.\r\n\r\nThe new method needs to be documented in https://developer.matomo.org/api-reference/tracking-javascript\r\n\r\nAny set value will be sent along the next tracking request and then the configured values are reset so that the same values aren't sent in any following tracking request after that.", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16859/timeline", "performed_via_github_app": null, "state_reason": "completed" }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16858", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16858/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16858/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16858/events", "html_url": "https://github.com/matomo-org/matomo/pull/16858", "id": 754881909, "node_id": "MDExOlB1bGxSZXF1ZXN0NTMwNzAwMDgz", "number": 16858, "title": "Remove no longer shipped example plugins during update", "user": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 164789690, "node_id": "MDU6TGFiZWwxNjQ3ODk2OTA=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/not-in-changelog", "name": "not-in-changelog", "color": "ffffff", "default": false, "description": "For issues or pull requests that should not be included in our release changelog on matomo.org." }, { "id": 176285791, "node_id": "MDU6TGFiZWwxNzYyODU3OTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Needs%20Review", "name": "Needs Review", "color": "fad8c7", "default": false, "description": "For pull requests that need a code review." } ], "state": "closed", "locked": false, "assignee": null, "assignees": [ ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 0, "created_at": "2020-12-02T02:35:07Z", "updated_at": "2020-12-02T03:31:13Z", "closed_at": "2020-12-02T03:31:10Z", "author_association": "MEMBER", "active_lock_reason": null, "draft": false, "pull_request": { "url": "https://api.github.com/repos/matomo-org/matomo/pulls/16858", "html_url": "https://github.com/matomo-org/matomo/pull/16858", "diff_url": "https://github.com/matomo-org/matomo/pull/16858.diff", "patch_url": "https://github.com/matomo-org/matomo/pull/16858.patch", "merged_at": "2020-12-02T03:31:10Z" }, "body": "### Description:\r\n\r\nfix https://github.com/matomo-org/matomo/issues/16857\r\n\r\nthis affects basically all example plugins that have a version constraint defined in their plugin.json. However, it is better to remove all of them because eventually these plugins will become incompatible (as we stopped shipping them at some point during Matomo 3.X).\r\n\r\n### Review\r\n\r\n* [ ] Functional review done\r\n* [ ] Usability review done (is anything maybe unclear or think about anything that would cause people to reach out to support)\r\n* [ ] Security review done [see checklist](https://developer.matomo.org/guides/security-in-piwik#checklist)\r\n* [ ] Code review done\r\n* [ ] Tests were added if useful/possible\r\n* [ ] Reviewed for breaking changes\r\n* [ ] Developer changelog updated if needed\r\n* [ ] Documentation added if needed\r\n* [ ] Existing documentation updated if needed\r\n", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16858/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16858/timeline", "performed_via_github_app": null, "state_reason": null }, { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16857", "repository_url": "https://api.github.com/repos/matomo-org/matomo", "labels_url": "https://api.github.com/repos/matomo-org/matomo/issues/16857/labels{/name}", "comments_url": "https://api.github.com/repos/matomo-org/matomo/issues/16857/comments", "events_url": "https://api.github.com/repos/matomo-org/matomo/issues/16857/events", "html_url": "https://github.com/matomo-org/matomo/issues/16857", "id": 754850993, "node_id": "MDU6SXNzdWU3NTQ4NTA5OTM=", "number": 16857, "title": "Matomo 4.0.2 warns about \"ExampleLogTables requires Piwik <4.0.0-b1\"", "user": { "login": "slawa-dev", "id": 20663500, "node_id": "MDQ6VXNlcjIwNjYzNTAw", "avatar_url": "https://avatars.githubusercontent.com/u/20663500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slawa-dev", "html_url": "https://github.com/slawa-dev", "followers_url": "https://api.github.com/users/slawa-dev/followers", "following_url": "https://api.github.com/users/slawa-dev/following{/other_user}", "gists_url": "https://api.github.com/users/slawa-dev/gists{/gist_id}", "starred_url": "https://api.github.com/users/slawa-dev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slawa-dev/subscriptions", "organizations_url": "https://api.github.com/users/slawa-dev/orgs", "repos_url": "https://api.github.com/users/slawa-dev/repos", "events_url": "https://api.github.com/users/slawa-dev/events{/privacy}", "received_events_url": "https://api.github.com/users/slawa-dev/received_events", "type": "User", "site_admin": false }, "labels": [ { "id": 112370551, "node_id": "MDU6TGFiZWwxMTIzNzA1NTE=", "url": "https://api.github.com/repos/matomo-org/matomo/labels/Bug", "name": "Bug", "color": "fc2929", "default": false, "description": "For errors / faults / flaws." } ], "state": "closed", "locked": false, "assignee": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "assignees": [ { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false } ], "milestone": { "url": "https://api.github.com/repos/matomo-org/matomo/milestones/144", "html_url": "https://github.com/matomo-org/matomo/milestone/144", "labels_url": "https://api.github.com/repos/matomo-org/matomo/milestones/144/labels", "id": 6159812, "node_id": "MDk6TWlsZXN0b25lNjE1OTgxMg==", "number": 144, "title": "4.0.x", "description": "", "creator": { "login": "tsteur", "id": 273120, "node_id": "MDQ6VXNlcjI3MzEyMA==", "avatar_url": "https://avatars.githubusercontent.com/u/273120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsteur", "html_url": "https://github.com/tsteur", "followers_url": "https://api.github.com/users/tsteur/followers", "following_url": "https://api.github.com/users/tsteur/following{/other_user}", "gists_url": "https://api.github.com/users/tsteur/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsteur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsteur/subscriptions", "organizations_url": "https://api.github.com/users/tsteur/orgs", "repos_url": "https://api.github.com/users/tsteur/repos", "events_url": "https://api.github.com/users/tsteur/events{/privacy}", "received_events_url": "https://api.github.com/users/tsteur/received_events", "type": "User", "site_admin": false }, "open_issues": 0, "closed_issues": 53, "state": "closed", "created_at": "2020-11-29T19:48:33Z", "updated_at": "2020-12-21T21:52:42Z", "due_on": null, "closed_at": "2020-12-21T21:52:42Z" }, "comments": 4, "created_at": "2020-12-02T01:21:08Z", "updated_at": "2020-12-10T07:25:17Z", "closed_at": "2020-12-02T03:31:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Matomo version: 4.0.2\r\n\r\n![system_check](https://user-images.githubusercontent.com/20663500/100815614-4fd85280-347f-11eb-91ef-4c1d86cfc9ad.jpg)\r\n\r\nRelated to https://github.com/matomo-org/matomo/issues/16804", "reactions": { "url": "https://api.github.com/repos/matomo-org/matomo/issues/16857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0 }, "timeline_url": "https://api.github.com/repos/matomo-org/matomo/issues/16857/timeline", "performed_via_github_app": null, "state_reason": "completed" } ]
